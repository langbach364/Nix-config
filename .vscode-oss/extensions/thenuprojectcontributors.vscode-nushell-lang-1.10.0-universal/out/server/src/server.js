"use strict";var $d=Object.create;var $s=Object.defineProperty;var Ud=Object.getOwnPropertyDescriptor;var zd=Object.getOwnPropertyNames;var Bd=Object.getPrototypeOf,Vd=Object.prototype.hasOwnProperty;var M=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Jd=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of zd(t))!Vd.call(e,i)&&i!==n&&$s(e,i,{get:()=>t[i],enumerable:!(r=Ud(t,i))||r.enumerable});return e};var xt=(e,t,n)=>(n=e!=null?$d(Bd(e)):{},Jd(t||!e||!e.__esModule?$s(n,"default",{value:e,enumerable:!0}):n,e));var tr=M(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.thenable=Re.typedArray=Re.stringArray=Re.array=Re.func=Re.error=Re.number=Re.string=Re.boolean=void 0;function Gd(e){return e===!0||e===!1}Re.boolean=Gd;function Us(e){return typeof e=="string"||e instanceof String}Re.string=Us;function Xd(e){return typeof e=="number"||e instanceof Number}Re.number=Xd;function Qd(e){return e instanceof Error}Re.error=Qd;function zs(e){return typeof e=="function"}Re.func=zs;function Bs(e){return Array.isArray(e)}Re.array=Bs;function Yd(e){return Bs(e)&&e.every(t=>Us(t))}Re.stringArray=Yd;function Kd(e,t){return Array.isArray(e)&&e.every(t)}Re.typedArray=Kd;function Zd(e){return e&&zs(e.then)}Re.thenable=Zd});var Gt=M(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.stringArray=Oe.array=Oe.func=Oe.error=Oe.number=Oe.string=Oe.boolean=void 0;function ef(e){return e===!0||e===!1}Oe.boolean=ef;function Vs(e){return typeof e=="string"||e instanceof String}Oe.string=Vs;function tf(e){return typeof e=="number"||e instanceof Number}Oe.number=tf;function nf(e){return e instanceof Error}Oe.error=nf;function rf(e){return typeof e=="function"}Oe.func=rf;function Js(e){return Array.isArray(e)}Oe.array=Js;function of(e){return Js(e)&&e.every(t=>Vs(t))}Oe.stringArray=of});var Xi=M(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.Message=H.NotificationType9=H.NotificationType8=H.NotificationType7=H.NotificationType6=H.NotificationType5=H.NotificationType4=H.NotificationType3=H.NotificationType2=H.NotificationType1=H.NotificationType0=H.NotificationType=H.RequestType9=H.RequestType8=H.RequestType7=H.RequestType6=H.RequestType5=H.RequestType4=H.RequestType3=H.RequestType2=H.RequestType1=H.RequestType=H.RequestType0=H.AbstractMessageSignature=H.ParameterStructures=H.ResponseError=H.ErrorCodes=void 0;var Mt=Gt(),Ci;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(Ci||(H.ErrorCodes=Ci={}));var Ti=class e extends Error{constructor(t,n,r){super(n),this.code=Mt.number(t)?t:Ci.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};H.ResponseError=Ti;var je=class e{constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};H.ParameterStructures=je;je.auto=new je("auto");je.byPosition=new je("byPosition");je.byName=new je("byName");var fe=class{constructor(t,n){this.method=t,this.numberOfParams=n}get parameterStructures(){return je.auto}};H.AbstractMessageSignature=fe;var ki=class extends fe{constructor(t){super(t,0)}};H.RequestType0=ki;var Si=class extends fe{constructor(t,n=je.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};H.RequestType=Si;var qi=class extends fe{constructor(t,n=je.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};H.RequestType1=qi;var Ei=class extends fe{constructor(t){super(t,2)}};H.RequestType2=Ei;var Oi=class extends fe{constructor(t){super(t,3)}};H.RequestType3=Oi;var Ni=class extends fe{constructor(t){super(t,4)}};H.RequestType4=Ni;var xi=class extends fe{constructor(t){super(t,5)}};H.RequestType5=xi;var Mi=class extends fe{constructor(t){super(t,6)}};H.RequestType6=Mi;var ji=class extends fe{constructor(t){super(t,7)}};H.RequestType7=ji;var Ii=class extends fe{constructor(t){super(t,8)}};H.RequestType8=Ii;var Fi=class extends fe{constructor(t){super(t,9)}};H.RequestType9=Fi;var Ai=class extends fe{constructor(t,n=je.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};H.NotificationType=Ai;var Li=class extends fe{constructor(t){super(t,0)}};H.NotificationType0=Li;var Wi=class extends fe{constructor(t,n=je.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};H.NotificationType1=Wi;var Hi=class extends fe{constructor(t){super(t,2)}};H.NotificationType2=Hi;var $i=class extends fe{constructor(t){super(t,3)}};H.NotificationType3=$i;var Ui=class extends fe{constructor(t){super(t,4)}};H.NotificationType4=Ui;var zi=class extends fe{constructor(t){super(t,5)}};H.NotificationType5=zi;var Bi=class extends fe{constructor(t){super(t,6)}};H.NotificationType6=Bi;var Vi=class extends fe{constructor(t){super(t,7)}};H.NotificationType7=Vi;var Ji=class extends fe{constructor(t){super(t,8)}};H.NotificationType8=Ji;var Gi=class extends fe{constructor(t){super(t,9)}};H.NotificationType9=Gi;var Gs;(function(e){function t(i){let a=i;return a&&Mt.string(a.method)&&(Mt.string(a.id)||Mt.number(a.id))}e.isRequest=t;function n(i){let a=i;return a&&Mt.string(a.method)&&i.id===void 0}e.isNotification=n;function r(i){let a=i;return a&&(a.result!==void 0||!!a.error)&&(Mt.string(a.id)||Mt.number(a.id)||a.id===null)}e.isResponse=r})(Gs||(H.Message=Gs={}))});var Yi=M(vt=>{"use strict";var Xs;Object.defineProperty(vt,"__esModule",{value:!0});vt.LRUCache=vt.LinkedMap=vt.Touch=void 0;var Ne;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(Ne||(vt.Touch=Ne={}));var nr=class{constructor(){this[Xs]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,n=Ne.None){let r=this._map.get(t);if(r)return n!==Ne.None&&this.touch(r,n),r.value}set(t,n,r=Ne.None){let i=this._map.get(t);if(i)i.value=n,r!==Ne.None&&this.touch(i,r);else{switch(i={key:t,value:n,next:void 0,previous:void 0},r){case Ne.None:this.addItemLast(i);break;case Ne.First:this.addItemFirst(i);break;case Ne.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let n=this._map.get(t);if(n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){let r=this._state,i=this._head;for(;i;){if(n?t.bind(n)(i.value,i.key,this):t(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){let t=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(Xs=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>t;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let n=t.next,r=t.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Ne.First&&n!==Ne.Last)){if(n===Ne.First){if(t===this._head)return;let r=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===Ne.Last){if(t===this._tail)return;let r=t.next,i=t.previous;t===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((n,r)=>{t.push([r,n])}),t}fromJSON(t){this.clear();for(let[n,r]of t)this.set(n,r)}};vt.LinkedMap=nr;var Qi=class extends nr{constructor(t,n=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=Ne.AsNew){return super.get(t,n)}peek(t){return super.get(t,Ne.None)}set(t,n){return super.set(t,n,Ne.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};vt.LRUCache=Qi});var Ys=M(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.Disposable=void 0;var Qs;(function(e){function t(n){return{dispose:n}}e.create=t})(Qs||(rr.Disposable=Qs={}))});var bt=M(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});var Ki;function Zi(){if(Ki===void 0)throw new Error("No runtime abstraction layer installed");return Ki}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Ki=n}e.install=t})(Zi||(Zi={}));eo.default=Zi});var Qt=M(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.Emitter=Xt.Event=void 0;var sf=bt(),Ks;(function(e){let t={dispose(){}};e.None=function(){return t}})(Ks||(Xt.Event=Ks={}));var to=class{add(t,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(t,n)})}remove(t,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,a=this._callbacks.length;i<a;i++)if(this._callbacks[i]===t)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,h=r.length;a<h;a++)try{n.push(r[a].apply(i[a],t))}catch(p){(0,sf.default)().console.error(p)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},ir=class e{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,r)=>{this._callbacks||(this._callbacks=new to),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,n),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Xt.Emitter=ir;ir._noop=function(){}});var ar=M(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.CancellationTokenSource=Yt.CancellationToken=void 0;var af=bt(),cf=Gt(),no=Qt(),or;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:no.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:no.Event.None});function t(n){let r=n;return r&&(r===e.None||r===e.Cancelled||cf.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.is=t})(or||(Yt.CancellationToken=or={}));var uf=Object.freeze(function(e,t){let n=(0,af.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}),sr=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?uf:(this._emitter||(this._emitter=new no.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},ro=class{get token(){return this._token||(this._token=new sr),this._token}cancel(){this._token?this._token.cancel():this._token=or.Cancelled}dispose(){this._token?this._token instanceof sr&&this._token.dispose():this._token=or.None}};Yt.CancellationTokenSource=ro});var Zs=M(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.SharedArrayReceiverStrategy=Kt.SharedArraySenderStrategy=void 0;var lf=ar(),Cn;(function(e){e.Continue=0,e.Cancelled=1})(Cn||(Cn={}));var io=class{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=Cn.Continue,this.buffers.set(t.id,n),t.$cancellationData=n}async sendCancellation(t,n){let r=this.buffers.get(n);if(r===void 0)return;let i=new Int32Array(r,0,1);Atomics.store(i,0,Cn.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};Kt.SharedArraySenderStrategy=io;var oo=class{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Cn.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},so=class{constructor(t){this.token=new oo(t)}cancel(){}dispose(){}},ao=class{constructor(){this.kind="request"}createCancellationTokenSource(t){let n=t.$cancellationData;return n===void 0?new lf.CancellationTokenSource:new so(n)}};Kt.SharedArrayReceiverStrategy=ao});var uo=M(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.Semaphore=void 0;var df=bt(),co=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,r)=>{this._waiting.push({thunk:t,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,df.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=t.thunk();n instanceof Promise?n.then(r=>{this._active--,t.resolve(r),this.runNext()},r=>{this._active--,t.reject(r),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}};cr.Semaphore=co});var ta=M(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.ReadableStreamMessageReader=_t.AbstractMessageReader=_t.MessageReader=void 0;var fo=bt(),Zt=Gt(),lo=Qt(),ff=uo(),ea;(function(e){function t(n){let r=n;return r&&Zt.func(r.listen)&&Zt.func(r.dispose)&&Zt.func(r.onError)&&Zt.func(r.onClose)&&Zt.func(r.onPartialMessage)}e.is=t})(ea||(_t.MessageReader=ea={}));var ur=class{constructor(){this.errorEmitter=new lo.Emitter,this.closeEmitter=new lo.Emitter,this.partialMessageEmitter=new lo.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Zt.string(t.message)?t.message:"unknown"}`)}};_t.AbstractMessageReader=ur;var ho;(function(e){function t(n){let r,i,a,h=new Map,p,m=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(a=n.contentDecoder,h.set(a.name,a)),n.contentDecoders!==void 0)for(let g of n.contentDecoders)h.set(g.name,g);if(n.contentTypeDecoder!==void 0&&(p=n.contentTypeDecoder,m.set(p.name,p)),n.contentTypeDecoders!==void 0)for(let g of n.contentTypeDecoders)m.set(g.name,g)}return p===void 0&&(p=(0,fo.default)().applicationJson.decoder,m.set(p.name,p)),{charset:r,contentDecoder:a,contentDecoders:h,contentTypeDecoder:p,contentTypeDecoders:m}}e.fromOptions=t})(ho||(ho={}));var go=class extends ur{constructor(t,n){super(),this.readable=t,this.options=ho.fromOptions(n),this.buffer=(0,fo.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new ff.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}let a=parseInt(i);if(isNaN(a)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=a}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,fo.default)().timer.setTimeout((t,n)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};_t.ReadableStreamMessageReader=go});var sa=M(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.WriteableStreamMessageWriter=Dt.AbstractMessageWriter=Dt.MessageWriter=void 0;var na=bt(),Tn=Gt(),hf=uo(),ra=Qt(),gf="Content-Length: ",ia=`\r
`,oa;(function(e){function t(n){let r=n;return r&&Tn.func(r.dispose)&&Tn.func(r.onClose)&&Tn.func(r.onError)&&Tn.func(r.write)}e.is=t})(oa||(Dt.MessageWriter=oa={}));var lr=class{constructor(){this.errorEmitter=new ra.Emitter,this.closeEmitter=new ra.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,n,r){this.errorEmitter.fire([this.asError(t),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${Tn.string(t.message)?t.message:"unknown"}`)}};Dt.AbstractMessageWriter=lr;var mo;(function(e){function t(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,na.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,na.default)().applicationJson.encoder}}e.fromOptions=t})(mo||(mo={}));var po=class extends lr{constructor(t,n){super(),this.writable=t,this.options=mo.fromOptions(n),this.errorCount=0,this.writeSemaphore=new hf.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(gf,r.byteLength.toString(),ia),i.push(ia),this.doWrite(t,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(t,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){this.writable.end()}};Dt.WriteableStreamMessageWriter=po});var aa=M(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.AbstractMessageBuffer=void 0;var mf=13,pf=10,yf=`\r
`,yo=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,a=0;e:for(;r<this._chunks.length;){let g=this._chunks[r];for(i=0;i<g.length;){switch(g[i]){case mf:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case pf:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}a+=g.byteLength,r++}if(n!==4)return;let h=this._read(a+i),p=new Map,m=this.toString(h,"ascii").split(yf);if(m.length<2)return p;for(let g=0;g<m.length-2;g++){let D=m[g],w=D.indexOf(":");if(w===-1)throw new Error(`Message header must separate key and value using ':'
${D}`);let k=D.substr(0,w),O=D.substr(w+1).trim();p.set(t?k.toLowerCase():k,O)}return p}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let a=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(a)}if(this._chunks[0].byteLength>t){let a=this._chunks[0],h=this.asNative(a,t);return this._chunks[0]=a.slice(t),this._totalLength-=t,h}let n=this.allocNative(t),r=0,i=0;for(;t>0;){let a=this._chunks[i];if(a.byteLength>t){let h=a.slice(0,t);n.set(h,r),r+=t,this._chunks[i]=a.slice(t),this._totalLength-=t,t-=t}else n.set(a,r),r+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,t-=a.byteLength}return n}};dr.AbstractMessageBuffer=yo});var fa=M(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.createMessageConnection=J.ConnectionOptions=J.MessageStrategy=J.CancellationStrategy=J.CancellationSenderStrategy=J.CancellationReceiverStrategy=J.RequestCancellationReceiverStrategy=J.IdCancellationReceiverStrategy=J.ConnectionStrategy=J.ConnectionError=J.ConnectionErrors=J.LogTraceNotification=J.SetTraceNotification=J.TraceFormat=J.TraceValues=J.Trace=J.NullLogger=J.ProgressType=J.ProgressToken=void 0;var ca=bt(),pe=Gt(),$=Xi(),ua=Yi(),kn=Qt(),vo=ar(),En;(function(e){e.type=new $.NotificationType("$/cancelRequest")})(En||(En={}));var bo;(function(e){function t(n){return typeof n=="string"||typeof n=="number"}e.is=t})(bo||(J.ProgressToken=bo={}));var Sn;(function(e){e.type=new $.NotificationType("$/progress")})(Sn||(Sn={}));var _o=class{constructor(){}};J.ProgressType=_o;var Do;(function(e){function t(n){return pe.func(n)}e.is=t})(Do||(Do={}));J.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var re;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(re||(J.Trace=re={}));var la;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(la||(J.TraceValues=la={}));(function(e){function t(r){if(!pe.string(r))return e.Off;switch(r=r.toLowerCase(),r){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function n(r){switch(r){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}e.toString=n})(re||(J.Trace=re={}));var $e;(function(e){e.Text="text",e.JSON="json"})($e||(J.TraceFormat=$e={}));(function(e){function t(n){return pe.string(n)?(n=n.toLowerCase(),n==="json"?e.JSON:e.Text):e.Text}e.fromString=t})($e||(J.TraceFormat=$e={}));var Ro;(function(e){e.type=new $.NotificationType("$/setTrace")})(Ro||(J.SetTraceNotification=Ro={}));var fr;(function(e){e.type=new $.NotificationType("$/logTrace")})(fr||(J.LogTraceNotification=fr={}));var qn;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(qn||(J.ConnectionErrors=qn={}));var en=class e extends Error{constructor(t,n){super(n),this.code=t,Object.setPrototypeOf(this,e.prototype)}};J.ConnectionError=en;var wo;(function(e){function t(n){let r=n;return r&&pe.func(r.cancelUndispatched)}e.is=t})(wo||(J.ConnectionStrategy=wo={}));var hr;(function(e){function t(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&pe.func(r.createCancellationTokenSource)&&(r.dispose===void 0||pe.func(r.dispose))}e.is=t})(hr||(J.IdCancellationReceiverStrategy=hr={}));var Po;(function(e){function t(n){let r=n;return r&&r.kind==="request"&&pe.func(r.createCancellationTokenSource)&&(r.dispose===void 0||pe.func(r.dispose))}e.is=t})(Po||(J.RequestCancellationReceiverStrategy=Po={}));var gr;(function(e){e.Message=Object.freeze({createCancellationTokenSource(n){return new vo.CancellationTokenSource}});function t(n){return hr.is(n)||Po.is(n)}e.is=t})(gr||(J.CancellationReceiverStrategy=gr={}));var mr;(function(e){e.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(En.type,{id:r})},cleanup(n){}});function t(n){let r=n;return r&&pe.func(r.sendCancellation)&&pe.func(r.cleanup)}e.is=t})(mr||(J.CancellationSenderStrategy=mr={}));var pr;(function(e){e.Message=Object.freeze({receiver:gr.Message,sender:mr.Message});function t(n){let r=n;return r&&gr.is(r.receiver)&&mr.is(r.sender)}e.is=t})(pr||(J.CancellationStrategy=pr={}));var yr;(function(e){function t(n){let r=n;return r&&pe.func(r.handleMessage)}e.is=t})(yr||(J.MessageStrategy=yr={}));var da;(function(e){function t(n){let r=n;return r&&(pr.is(r.cancellationStrategy)||wo.is(r.connectionStrategy)||yr.is(r.messageStrategy))}e.is=t})(da||(J.ConnectionOptions=da={}));var rt;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(rt||(rt={}));function vf(e,t,n,r){let i=n!==void 0?n:J.NullLogger,a=0,h=0,p=0,m="2.0",g,D=new Map,w,k=new Map,O=new Map,L,F=new ua.LinkedMap,G=new Map,W=new Set,_=new Map,y=re.Off,q=$e.Text,U,te=rt.New,le=new kn.Emitter,Se=new kn.Emitter,Be=new kn.Emitter,Ve=new kn.Emitter,x=new kn.Emitter,P=r&&r.cancellationStrategy?r.cancellationStrategy:pr.Message;function A(l){if(l===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+l.toString()}function j(l){return l===null?"res-unknown-"+(++p).toString():"res-"+l.toString()}function ne(){return"not-"+(++h).toString()}function X(l,C){$.Message.isRequest(C)?l.set(A(C.id),C):$.Message.isResponse(C)?l.set(j(C.id),C):l.set(ne(),C)}function z(l){}function Ee(){return te===rt.Listening}function De(){return te===rt.Closed}function oe(){return te===rt.Disposed}function Ze(){(te===rt.New||te===rt.Listening)&&(te=rt.Closed,Se.fire(void 0))}function Ot(l){le.fire([l,void 0,void 0])}function Hn(l){le.fire(l)}e.onClose(Ze),e.onError(Ot),t.onClose(Ze),t.onError(Hn);function _n(){L||F.size===0||(L=(0,ca.default)().timer.setImmediate(()=>{L=void 0,$n()}))}function Dn(l){$.Message.isRequest(l)?zn(l):$.Message.isNotification(l)?Vn(l):$.Message.isResponse(l)?Bn(l):zt(l)}function $n(){if(F.size===0)return;let l=F.shift();try{let C=r?.messageStrategy;yr.is(C)?C.handleMessage(l,Dn):Dn(l)}finally{_n()}}let Un=l=>{try{if($.Message.isNotification(l)&&l.method===En.type.method){let C=l.params.id,E=A(C),I=F.get(E);if($.Message.isRequest(I)){let ie=r?.connectionStrategy,de=ie&&ie.cancelUndispatched?ie.cancelUndispatched(I,z):void 0;if(de&&(de.error!==void 0||de.result!==void 0)){F.delete(E),_.delete(C),de.id=I.id,Nt(de,l.method,Date.now()),t.write(de).catch(()=>i.error("Sending response for canceled message failed."));return}}let se=_.get(C);if(se!==void 0){se.cancel(),Bt(l);return}else W.add(C)}X(F,l)}finally{_n()}};function zn(l){if(oe())return;function C(Q,ae,Z){let ye={jsonrpc:m,id:l.id};Q instanceof $.ResponseError?ye.error=Q.toJson():ye.result=Q===void 0?null:Q,Nt(ye,ae,Z),t.write(ye).catch(()=>i.error("Sending response failed."))}function E(Q,ae,Z){let ye={jsonrpc:m,id:l.id,error:Q.toJson()};Nt(ye,ae,Z),t.write(ye).catch(()=>i.error("Sending response failed."))}function I(Q,ae,Z){Q===void 0&&(Q=null);let ye={jsonrpc:m,id:l.id,result:Q};Nt(ye,ae,Z),t.write(ye).catch(()=>i.error("Sending response failed."))}Xn(l);let se=D.get(l.method),ie,de;se&&(ie=se.type,de=se.handler);let he=Date.now();if(de||g){let Q=l.id??String(Date.now()),ae=hr.is(P.receiver)?P.receiver.createCancellationTokenSource(Q):P.receiver.createCancellationTokenSource(l);l.id!==null&&W.has(l.id)&&ae.cancel(),l.id!==null&&_.set(Q,ae);try{let Z;if(de)if(l.params===void 0){if(ie!==void 0&&ie.numberOfParams!==0){E(new $.ResponseError($.ErrorCodes.InvalidParams,`Request ${l.method} defines ${ie.numberOfParams} params but received none.`),l.method,he);return}Z=de(ae.token)}else if(Array.isArray(l.params)){if(ie!==void 0&&ie.parameterStructures===$.ParameterStructures.byName){E(new $.ResponseError($.ErrorCodes.InvalidParams,`Request ${l.method} defines parameters by name but received parameters by position`),l.method,he);return}Z=de(...l.params,ae.token)}else{if(ie!==void 0&&ie.parameterStructures===$.ParameterStructures.byPosition){E(new $.ResponseError($.ErrorCodes.InvalidParams,`Request ${l.method} defines parameters by position but received parameters by name`),l.method,he);return}Z=de(l.params,ae.token)}else g&&(Z=g(l.method,l.params,ae.token));let ye=Z;Z?ye.then?ye.then(Te=>{_.delete(Q),C(Te,l.method,he)},Te=>{_.delete(Q),Te instanceof $.ResponseError?E(Te,l.method,he):Te&&pe.string(Te.message)?E(new $.ResponseError($.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${Te.message}`),l.method,he):E(new $.ResponseError($.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,he)}):(_.delete(Q),C(Z,l.method,he)):(_.delete(Q),I(Z,l.method,he))}catch(Z){_.delete(Q),Z instanceof $.ResponseError?C(Z,l.method,he):Z&&pe.string(Z.message)?E(new $.ResponseError($.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${Z.message}`),l.method,he):E(new $.ResponseError($.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,he)}}else E(new $.ResponseError($.ErrorCodes.MethodNotFound,`Unhandled method ${l.method}`),l.method,he)}function Bn(l){if(!oe())if(l.id===null)l.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(l.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let C=l.id,E=G.get(C);if(Qn(l,E),E!==void 0){G.delete(C);try{if(l.error){let I=l.error;E.reject(new $.ResponseError(I.code,I.message,I.data))}else if(l.result!==void 0)E.resolve(l.result);else throw new Error("Should never happen.")}catch(I){I.message?i.error(`Response handler '${E.method}' failed with message: ${I.message}`):i.error(`Response handler '${E.method}' failed unexpectedly.`)}}}}function Vn(l){if(oe())return;let C,E;if(l.method===En.type.method){let I=l.params.id;W.delete(I),Bt(l);return}else{let I=k.get(l.method);I&&(E=I.handler,C=I.type)}if(E||w)try{if(Bt(l),E)if(l.params===void 0)C!==void 0&&C.numberOfParams!==0&&C.parameterStructures!==$.ParameterStructures.byName&&i.error(`Notification ${l.method} defines ${C.numberOfParams} params but received none.`),E();else if(Array.isArray(l.params)){let I=l.params;l.method===Sn.type.method&&I.length===2&&bo.is(I[0])?E({token:I[0],value:I[1]}):(C!==void 0&&(C.parameterStructures===$.ParameterStructures.byName&&i.error(`Notification ${l.method} defines parameters by name but received parameters by position`),C.numberOfParams!==l.params.length&&i.error(`Notification ${l.method} defines ${C.numberOfParams} params but received ${I.length} arguments`)),E(...I))}else C!==void 0&&C.parameterStructures===$.ParameterStructures.byPosition&&i.error(`Notification ${l.method} defines parameters by position but received parameters by name`),E(l.params);else w&&w(l.method,l.params)}catch(I){I.message?i.error(`Notification handler '${l.method}' failed with message: ${I.message}`):i.error(`Notification handler '${l.method}' failed unexpectedly.`)}else Be.fire(l)}function zt(l){if(!l){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(l,null,4)}`);let C=l;if(pe.string(C.id)||pe.number(C.id)){let E=C.id,I=G.get(E);I&&I.reject(new Error("The received response has neither a result nor an error property."))}}function et(l){if(l!=null)switch(y){case re.Verbose:return JSON.stringify(l,null,4);case re.Compact:return JSON.stringify(l);default:return}}function Jn(l){if(!(y===re.Off||!U))if(q===$e.Text){let C;(y===re.Verbose||y===re.Compact)&&l.params&&(C=`Params: ${et(l.params)}

`),U.log(`Sending request '${l.method} - (${l.id})'.`,C)}else dt("send-request",l)}function Gn(l){if(!(y===re.Off||!U))if(q===$e.Text){let C;(y===re.Verbose||y===re.Compact)&&(l.params?C=`Params: ${et(l.params)}

`:C=`No parameters provided.

`),U.log(`Sending notification '${l.method}'.`,C)}else dt("send-notification",l)}function Nt(l,C,E){if(!(y===re.Off||!U))if(q===$e.Text){let I;(y===re.Verbose||y===re.Compact)&&(l.error&&l.error.data?I=`Error data: ${et(l.error.data)}

`:l.result?I=`Result: ${et(l.result)}

`:l.error===void 0&&(I=`No result returned.

`)),U.log(`Sending response '${C} - (${l.id})'. Processing request took ${Date.now()-E}ms`,I)}else dt("send-response",l)}function Xn(l){if(!(y===re.Off||!U))if(q===$e.Text){let C;(y===re.Verbose||y===re.Compact)&&l.params&&(C=`Params: ${et(l.params)}

`),U.log(`Received request '${l.method} - (${l.id})'.`,C)}else dt("receive-request",l)}function Bt(l){if(!(y===re.Off||!U||l.method===fr.type.method))if(q===$e.Text){let C;(y===re.Verbose||y===re.Compact)&&(l.params?C=`Params: ${et(l.params)}

`:C=`No parameters provided.

`),U.log(`Received notification '${l.method}'.`,C)}else dt("receive-notification",l)}function Qn(l,C){if(!(y===re.Off||!U))if(q===$e.Text){let E;if((y===re.Verbose||y===re.Compact)&&(l.error&&l.error.data?E=`Error data: ${et(l.error.data)}

`:l.result?E=`Result: ${et(l.result)}

`:l.error===void 0&&(E=`No result returned.

`)),C){let I=l.error?` Request failed: ${l.error.message} (${l.error.code}).`:"";U.log(`Received response '${C.method} - (${l.id})' in ${Date.now()-C.timerStart}ms.${I}`,E)}else U.log(`Received response ${l.id} without active response promise.`,E)}else dt("receive-response",l)}function dt(l,C){if(!U||y===re.Off)return;let E={isLSPMessage:!0,type:l,message:C,timestamp:Date.now()};U.log(E)}function yt(){if(De())throw new en(qn.Closed,"Connection is closed.");if(oe())throw new en(qn.Disposed,"Connection is disposed.")}function Yn(){if(Ee())throw new en(qn.AlreadyListening,"Connection is already listening")}function Kn(){if(!Ee())throw new Error("Call listen() first.")}function st(l){return l===void 0?null:l}function Rn(l){if(l!==null)return l}function wn(l){return l!=null&&!Array.isArray(l)&&typeof l=="object"}function Vt(l,C){switch(l){case $.ParameterStructures.auto:return wn(C)?Rn(C):[st(C)];case $.ParameterStructures.byName:if(!wn(C))throw new Error("Received parameters by name but param is not an object literal.");return Rn(C);case $.ParameterStructures.byPosition:return[st(C)];default:throw new Error(`Unknown parameter structure ${l.toString()}`)}}function Pn(l,C){let E,I=l.numberOfParams;switch(I){case 0:E=void 0;break;case 1:E=Vt(l.parameterStructures,C[0]);break;default:E=[];for(let se=0;se<C.length&&se<I;se++)E.push(st(C[se]));if(C.length<I)for(let se=C.length;se<I;se++)E.push(null);break}return E}let ft={sendNotification:(l,...C)=>{yt();let E,I;if(pe.string(l)){E=l;let ie=C[0],de=0,he=$.ParameterStructures.auto;$.ParameterStructures.is(ie)&&(de=1,he=ie);let Q=C.length,ae=Q-de;switch(ae){case 0:I=void 0;break;case 1:I=Vt(he,C[de]);break;default:if(he===$.ParameterStructures.byName)throw new Error(`Received ${ae} parameters for 'by Name' notification parameter structure.`);I=C.slice(de,Q).map(Z=>st(Z));break}}else{let ie=C;E=l.method,I=Pn(l,ie)}let se={jsonrpc:m,method:E,params:I};return Gn(se),t.write(se).catch(ie=>{throw i.error("Sending notification failed."),ie})},onNotification:(l,C)=>{yt();let E;return pe.func(l)?w=l:C&&(pe.string(l)?(E=l,k.set(l,{type:void 0,handler:C})):(E=l.method,k.set(l.method,{type:l,handler:C}))),{dispose:()=>{E!==void 0?k.delete(E):w=void 0}}},onProgress:(l,C,E)=>{if(O.has(C))throw new Error(`Progress handler for token ${C} already registered`);return O.set(C,E),{dispose:()=>{O.delete(C)}}},sendProgress:(l,C,E)=>ft.sendNotification(Sn.type,{token:C,value:E}),onUnhandledProgress:Ve.event,sendRequest:(l,...C)=>{yt(),Kn();let E,I,se;if(pe.string(l)){E=l;let Q=C[0],ae=C[C.length-1],Z=0,ye=$.ParameterStructures.auto;$.ParameterStructures.is(Q)&&(Z=1,ye=Q);let Te=C.length;vo.CancellationToken.is(ae)&&(Te=Te-1,se=ae);let He=Te-Z;switch(He){case 0:I=void 0;break;case 1:I=Vt(ye,C[Z]);break;default:if(ye===$.ParameterStructures.byName)throw new Error(`Received ${He} parameters for 'by Name' request parameter structure.`);I=C.slice(Z,Te).map(Zn=>st(Zn));break}}else{let Q=C;E=l.method,I=Pn(l,Q);let ae=l.numberOfParams;se=vo.CancellationToken.is(Q[ae])?Q[ae]:void 0}let ie=a++,de;se&&(de=se.onCancellationRequested(()=>{let Q=P.sender.sendCancellation(ft,ie);return Q===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ie}`),Promise.resolve()):Q.catch(()=>{i.log(`Sending cancellation messages for id ${ie} failed`)})}));let he={jsonrpc:m,id:ie,method:E,params:I};return Jn(he),typeof P.sender.enableCancellation=="function"&&P.sender.enableCancellation(he),new Promise(async(Q,ae)=>{let Z=He=>{Q(He),P.sender.cleanup(ie),de?.dispose()},ye=He=>{ae(He),P.sender.cleanup(ie),de?.dispose()},Te={method:E,timerStart:Date.now(),resolve:Z,reject:ye};try{await t.write(he),G.set(ie,Te)}catch(He){throw i.error("Sending request failed."),Te.reject(new $.ResponseError($.ErrorCodes.MessageWriteError,He.message?He.message:"Unknown reason")),He}})},onRequest:(l,C)=>{yt();let E=null;return Do.is(l)?(E=void 0,g=l):pe.string(l)?(E=null,C!==void 0&&(E=l,D.set(l,{handler:C,type:void 0}))):C!==void 0&&(E=l.method,D.set(l.method,{type:l,handler:C})),{dispose:()=>{E!==null&&(E!==void 0?D.delete(E):g=void 0)}}},hasPendingResponse:()=>G.size>0,trace:async(l,C,E)=>{let I=!1,se=$e.Text;E!==void 0&&(pe.boolean(E)?I=E:(I=E.sendNotification||!1,se=E.traceFormat||$e.Text)),y=l,q=se,y===re.Off?U=void 0:U=C,I&&!De()&&!oe()&&await ft.sendNotification(Ro.type,{value:re.toString(l)})},onError:le.event,onClose:Se.event,onUnhandledNotification:Be.event,onDispose:x.event,end:()=>{t.end()},dispose:()=>{if(oe())return;te=rt.Disposed,x.fire(void 0);let l=new $.ResponseError($.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let C of G.values())C.reject(l);G=new Map,_=new Map,W=new Set,F=new ua.LinkedMap,pe.func(t.dispose)&&t.dispose(),pe.func(e.dispose)&&e.dispose()},listen:()=>{yt(),Yn(),te=rt.Listening,e.listen(Un)},inspect:()=>{(0,ca.default)().console.log("inspect")}};return ft.onNotification(fr.type,l=>{if(y===re.Off||!U)return;let C=y===re.Verbose||y===re.Compact;U.log(l.message,C?l.verbose:void 0)}),ft.onNotification(Sn.type,l=>{let C=O.get(l.token);C?C(l.value):Ve.fire(l)}),ft}J.createMessageConnection=vf});var vr=M(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.ProgressType=R.ProgressToken=R.createMessageConnection=R.NullLogger=R.ConnectionOptions=R.ConnectionStrategy=R.AbstractMessageBuffer=R.WriteableStreamMessageWriter=R.AbstractMessageWriter=R.MessageWriter=R.ReadableStreamMessageReader=R.AbstractMessageReader=R.MessageReader=R.SharedArrayReceiverStrategy=R.SharedArraySenderStrategy=R.CancellationToken=R.CancellationTokenSource=R.Emitter=R.Event=R.Disposable=R.LRUCache=R.Touch=R.LinkedMap=R.ParameterStructures=R.NotificationType9=R.NotificationType8=R.NotificationType7=R.NotificationType6=R.NotificationType5=R.NotificationType4=R.NotificationType3=R.NotificationType2=R.NotificationType1=R.NotificationType0=R.NotificationType=R.ErrorCodes=R.ResponseError=R.RequestType9=R.RequestType8=R.RequestType7=R.RequestType6=R.RequestType5=R.RequestType4=R.RequestType3=R.RequestType2=R.RequestType1=R.RequestType0=R.RequestType=R.Message=R.RAL=void 0;R.MessageStrategy=R.CancellationStrategy=R.CancellationSenderStrategy=R.CancellationReceiverStrategy=R.ConnectionError=R.ConnectionErrors=R.LogTraceNotification=R.SetTraceNotification=R.TraceFormat=R.TraceValues=R.Trace=void 0;var ue=Xi();Object.defineProperty(R,"Message",{enumerable:!0,get:function(){return ue.Message}});Object.defineProperty(R,"RequestType",{enumerable:!0,get:function(){return ue.RequestType}});Object.defineProperty(R,"RequestType0",{enumerable:!0,get:function(){return ue.RequestType0}});Object.defineProperty(R,"RequestType1",{enumerable:!0,get:function(){return ue.RequestType1}});Object.defineProperty(R,"RequestType2",{enumerable:!0,get:function(){return ue.RequestType2}});Object.defineProperty(R,"RequestType3",{enumerable:!0,get:function(){return ue.RequestType3}});Object.defineProperty(R,"RequestType4",{enumerable:!0,get:function(){return ue.RequestType4}});Object.defineProperty(R,"RequestType5",{enumerable:!0,get:function(){return ue.RequestType5}});Object.defineProperty(R,"RequestType6",{enumerable:!0,get:function(){return ue.RequestType6}});Object.defineProperty(R,"RequestType7",{enumerable:!0,get:function(){return ue.RequestType7}});Object.defineProperty(R,"RequestType8",{enumerable:!0,get:function(){return ue.RequestType8}});Object.defineProperty(R,"RequestType9",{enumerable:!0,get:function(){return ue.RequestType9}});Object.defineProperty(R,"ResponseError",{enumerable:!0,get:function(){return ue.ResponseError}});Object.defineProperty(R,"ErrorCodes",{enumerable:!0,get:function(){return ue.ErrorCodes}});Object.defineProperty(R,"NotificationType",{enumerable:!0,get:function(){return ue.NotificationType}});Object.defineProperty(R,"NotificationType0",{enumerable:!0,get:function(){return ue.NotificationType0}});Object.defineProperty(R,"NotificationType1",{enumerable:!0,get:function(){return ue.NotificationType1}});Object.defineProperty(R,"NotificationType2",{enumerable:!0,get:function(){return ue.NotificationType2}});Object.defineProperty(R,"NotificationType3",{enumerable:!0,get:function(){return ue.NotificationType3}});Object.defineProperty(R,"NotificationType4",{enumerable:!0,get:function(){return ue.NotificationType4}});Object.defineProperty(R,"NotificationType5",{enumerable:!0,get:function(){return ue.NotificationType5}});Object.defineProperty(R,"NotificationType6",{enumerable:!0,get:function(){return ue.NotificationType6}});Object.defineProperty(R,"NotificationType7",{enumerable:!0,get:function(){return ue.NotificationType7}});Object.defineProperty(R,"NotificationType8",{enumerable:!0,get:function(){return ue.NotificationType8}});Object.defineProperty(R,"NotificationType9",{enumerable:!0,get:function(){return ue.NotificationType9}});Object.defineProperty(R,"ParameterStructures",{enumerable:!0,get:function(){return ue.ParameterStructures}});var Co=Yi();Object.defineProperty(R,"LinkedMap",{enumerable:!0,get:function(){return Co.LinkedMap}});Object.defineProperty(R,"LRUCache",{enumerable:!0,get:function(){return Co.LRUCache}});Object.defineProperty(R,"Touch",{enumerable:!0,get:function(){return Co.Touch}});var bf=Ys();Object.defineProperty(R,"Disposable",{enumerable:!0,get:function(){return bf.Disposable}});var ha=Qt();Object.defineProperty(R,"Event",{enumerable:!0,get:function(){return ha.Event}});Object.defineProperty(R,"Emitter",{enumerable:!0,get:function(){return ha.Emitter}});var ga=ar();Object.defineProperty(R,"CancellationTokenSource",{enumerable:!0,get:function(){return ga.CancellationTokenSource}});Object.defineProperty(R,"CancellationToken",{enumerable:!0,get:function(){return ga.CancellationToken}});var ma=Zs();Object.defineProperty(R,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return ma.SharedArraySenderStrategy}});Object.defineProperty(R,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return ma.SharedArrayReceiverStrategy}});var To=ta();Object.defineProperty(R,"MessageReader",{enumerable:!0,get:function(){return To.MessageReader}});Object.defineProperty(R,"AbstractMessageReader",{enumerable:!0,get:function(){return To.AbstractMessageReader}});Object.defineProperty(R,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return To.ReadableStreamMessageReader}});var ko=sa();Object.defineProperty(R,"MessageWriter",{enumerable:!0,get:function(){return ko.MessageWriter}});Object.defineProperty(R,"AbstractMessageWriter",{enumerable:!0,get:function(){return ko.AbstractMessageWriter}});Object.defineProperty(R,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return ko.WriteableStreamMessageWriter}});var _f=aa();Object.defineProperty(R,"AbstractMessageBuffer",{enumerable:!0,get:function(){return _f.AbstractMessageBuffer}});var qe=fa();Object.defineProperty(R,"ConnectionStrategy",{enumerable:!0,get:function(){return qe.ConnectionStrategy}});Object.defineProperty(R,"ConnectionOptions",{enumerable:!0,get:function(){return qe.ConnectionOptions}});Object.defineProperty(R,"NullLogger",{enumerable:!0,get:function(){return qe.NullLogger}});Object.defineProperty(R,"createMessageConnection",{enumerable:!0,get:function(){return qe.createMessageConnection}});Object.defineProperty(R,"ProgressToken",{enumerable:!0,get:function(){return qe.ProgressToken}});Object.defineProperty(R,"ProgressType",{enumerable:!0,get:function(){return qe.ProgressType}});Object.defineProperty(R,"Trace",{enumerable:!0,get:function(){return qe.Trace}});Object.defineProperty(R,"TraceValues",{enumerable:!0,get:function(){return qe.TraceValues}});Object.defineProperty(R,"TraceFormat",{enumerable:!0,get:function(){return qe.TraceFormat}});Object.defineProperty(R,"SetTraceNotification",{enumerable:!0,get:function(){return qe.SetTraceNotification}});Object.defineProperty(R,"LogTraceNotification",{enumerable:!0,get:function(){return qe.LogTraceNotification}});Object.defineProperty(R,"ConnectionErrors",{enumerable:!0,get:function(){return qe.ConnectionErrors}});Object.defineProperty(R,"ConnectionError",{enumerable:!0,get:function(){return qe.ConnectionError}});Object.defineProperty(R,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return qe.CancellationReceiverStrategy}});Object.defineProperty(R,"CancellationSenderStrategy",{enumerable:!0,get:function(){return qe.CancellationSenderStrategy}});Object.defineProperty(R,"CancellationStrategy",{enumerable:!0,get:function(){return qe.CancellationStrategy}});Object.defineProperty(R,"MessageStrategy",{enumerable:!0,get:function(){return qe.MessageStrategy}});var Df=bt();R.RAL=Df.default});var va=M(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});var pa=require("util"),gt=vr(),br=class e extends gt.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return e.emptyBuffer}fromString(t,n){return Buffer.from(t,n)}toString(t,n){return t instanceof Buffer?t.toString(n):new pa.TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,n):Buffer.from(t,0,n)}allocNative(t){return Buffer.allocUnsafe(t)}};br.emptyBuffer=Buffer.allocUnsafe(0);var So=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),gt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),gt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),gt.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),gt.Disposable.create(()=>this.stream.off("data",t))}},qo=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),gt.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),gt.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),gt.Disposable.create(()=>this.stream.off("end",t))}write(t,n){return new Promise((r,i)=>{let a=h=>{h==null?r():i(h)};typeof t=="string"?this.stream.write(t,n,a):this.stream.write(t,a)})}end(){this.stream.end()}},ya=Object.freeze({messageBuffer:Object.freeze({create:e=>new br(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new pa.TextDecoder(t.charset).decode(e)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:e=>new So(e),asWritableStream:e=>new qo(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){let r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){let n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setInterval(e,t,...n){let r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function Eo(){return ya}(function(e){function t(){gt.RAL.install(ya)}e.install=t})(Eo||(Eo={}));Oo.default=Eo});var Ft=M(K=>{"use strict";var Rf=K&&K.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),wf=K&&K.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Rf(t,e,n)};Object.defineProperty(K,"__esModule",{value:!0});K.createMessageConnection=K.createServerSocketTransport=K.createClientSocketTransport=K.createServerPipeTransport=K.createClientPipeTransport=K.generateRandomPipeName=K.StreamMessageWriter=K.StreamMessageReader=K.SocketMessageWriter=K.SocketMessageReader=K.PortMessageWriter=K.PortMessageReader=K.IPCMessageWriter=K.IPCMessageReader=void 0;var tn=va();tn.default.install();var ba=require("path"),Pf=require("os"),Cf=require("crypto"),Rr=require("net"),Ue=vr();wf(vr(),K);var No=class extends Ue.AbstractMessageReader{constructor(t){super(),this.process=t;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Ue.Disposable.create(()=>this.process.off("message",t))}};K.IPCMessageReader=No;var xo=class extends Ue.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,t)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};K.IPCMessageWriter=xo;var Mo=class extends Ue.AbstractMessageReader{constructor(t){super(),this.onData=new Ue.Emitter,t.on("close",()=>this.fireClose),t.on("error",n=>this.fireError(n)),t.on("message",n=>{this.onData.fire(n)})}listen(t){return this.onData.event(t)}};K.PortMessageReader=Mo;var jo=class extends Ue.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",n=>this.fireError(n))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};K.PortMessageWriter=jo;var jt=class extends Ue.ReadableStreamMessageReader{constructor(t,n="utf-8"){super((0,tn.default)().stream.asReadableStream(t),n)}};K.SocketMessageReader=jt;var It=class extends Ue.WriteableStreamMessageWriter{constructor(t,n){super((0,tn.default)().stream.asWritableStream(t),n),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};K.SocketMessageWriter=It;var _r=class extends Ue.ReadableStreamMessageReader{constructor(t,n){super((0,tn.default)().stream.asReadableStream(t),n)}};K.StreamMessageReader=_r;var Dr=class extends Ue.WriteableStreamMessageWriter{constructor(t,n){super((0,tn.default)().stream.asWritableStream(t),n)}};K.StreamMessageWriter=Dr;var _a=process.env.XDG_RUNTIME_DIR,Tf=new Map([["linux",107],["darwin",103]]);function kf(){let e=(0,Cf.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;_a?t=ba.join(_a,`vscode-ipc-${e}.sock`):t=ba.join(Pf.tmpdir(),`vscode-${e}.sock`);let n=Tf.get(process.platform);return n!==void 0&&t.length>n&&(0,tn.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t}K.generateRandomPipeName=kf;function Sf(e,t="utf-8"){let n,r=new Promise((i,a)=>{n=i});return new Promise((i,a)=>{let h=(0,Rr.createServer)(p=>{h.close(),n([new jt(p,t),new It(p,t)])});h.on("error",a),h.listen(e,()=>{h.removeListener("error",a),i({onConnected:()=>r})})})}K.createClientPipeTransport=Sf;function qf(e,t="utf-8"){let n=(0,Rr.createConnection)(e);return[new jt(n,t),new It(n,t)]}K.createServerPipeTransport=qf;function Ef(e,t="utf-8"){let n,r=new Promise((i,a)=>{n=i});return new Promise((i,a)=>{let h=(0,Rr.createServer)(p=>{h.close(),n([new jt(p,t),new It(p,t)])});h.on("error",a),h.listen(e,"127.0.0.1",()=>{h.removeListener("error",a),i({onConnected:()=>r})})})}K.createClientSocketTransport=Ef;function Of(e,t="utf-8"){let n=(0,Rr.createConnection)(e,"127.0.0.1");return[new jt(n,t),new It(n,t)]}K.createServerSocketTransport=Of;function Nf(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}function xf(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}function Mf(e,t,n,r){n||(n=Ue.NullLogger);let i=Nf(e)?new _r(e):e,a=xf(t)?new Dr(t):t;return Ue.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Ue.createMessageConnection)(i,a,n,r)}K.createMessageConnection=Mf});var Io=M((Kg,Da)=>{"use strict";Da.exports=Ft()});var Pr=M((Ra,wr)=>{(function(e){if(typeof wr=="object"&&typeof wr.exports=="object"){var t=e(require,Ra);t!==void 0&&(wr.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var n;(function(s){function d(f){return typeof f=="string"}s.is=d})(n||(t.DocumentUri=n={}));var r;(function(s){function d(f){return typeof f=="string"}s.is=d})(r||(t.URI=r={}));var i;(function(s){s.MIN_VALUE=-2147483648,s.MAX_VALUE=2147483647;function d(f){return typeof f=="number"&&s.MIN_VALUE<=f&&f<=s.MAX_VALUE}s.is=d})(i||(t.integer=i={}));var a;(function(s){s.MIN_VALUE=0,s.MAX_VALUE=2147483647;function d(f){return typeof f=="number"&&s.MIN_VALUE<=f&&f<=s.MAX_VALUE}s.is=d})(a||(t.uinteger=a={}));var h;(function(s){function d(c,o){return c===Number.MAX_VALUE&&(c=a.MAX_VALUE),o===Number.MAX_VALUE&&(o=a.MAX_VALUE),{line:c,character:o}}s.create=d;function f(c){var o=c;return b.objectLiteral(o)&&b.uinteger(o.line)&&b.uinteger(o.character)}s.is=f})(h||(t.Position=h={}));var p;(function(s){function d(c,o,v,T){if(b.uinteger(c)&&b.uinteger(o)&&b.uinteger(v)&&b.uinteger(T))return{start:h.create(c,o),end:h.create(v,T)};if(h.is(c)&&h.is(o))return{start:c,end:o};throw new Error("Range#create called with invalid arguments[".concat(c,", ").concat(o,", ").concat(v,", ").concat(T,"]"))}s.create=d;function f(c){var o=c;return b.objectLiteral(o)&&h.is(o.start)&&h.is(o.end)}s.is=f})(p||(t.Range=p={}));var m;(function(s){function d(c,o){return{uri:c,range:o}}s.create=d;function f(c){var o=c;return b.objectLiteral(o)&&p.is(o.range)&&(b.string(o.uri)||b.undefined(o.uri))}s.is=f})(m||(t.Location=m={}));var g;(function(s){function d(c,o,v,T){return{targetUri:c,targetRange:o,targetSelectionRange:v,originSelectionRange:T}}s.create=d;function f(c){var o=c;return b.objectLiteral(o)&&p.is(o.targetRange)&&b.string(o.targetUri)&&p.is(o.targetSelectionRange)&&(p.is(o.originSelectionRange)||b.undefined(o.originSelectionRange))}s.is=f})(g||(t.LocationLink=g={}));var D;(function(s){function d(c,o,v,T){return{red:c,green:o,blue:v,alpha:T}}s.create=d;function f(c){var o=c;return b.objectLiteral(o)&&b.numberRange(o.red,0,1)&&b.numberRange(o.green,0,1)&&b.numberRange(o.blue,0,1)&&b.numberRange(o.alpha,0,1)}s.is=f})(D||(t.Color=D={}));var w;(function(s){function d(c,o){return{range:c,color:o}}s.create=d;function f(c){var o=c;return b.objectLiteral(o)&&p.is(o.range)&&D.is(o.color)}s.is=f})(w||(t.ColorInformation=w={}));var k;(function(s){function d(c,o,v){return{label:c,textEdit:o,additionalTextEdits:v}}s.create=d;function f(c){var o=c;return b.objectLiteral(o)&&b.string(o.label)&&(b.undefined(o.textEdit)||U.is(o))&&(b.undefined(o.additionalTextEdits)||b.typedArray(o.additionalTextEdits,U.is))}s.is=f})(k||(t.ColorPresentation=k={}));var O;(function(s){s.Comment="comment",s.Imports="imports",s.Region="region"})(O||(t.FoldingRangeKind=O={}));var L;(function(s){function d(c,o,v,T,V,ve){var ce={startLine:c,endLine:o};return b.defined(v)&&(ce.startCharacter=v),b.defined(T)&&(ce.endCharacter=T),b.defined(V)&&(ce.kind=V),b.defined(ve)&&(ce.collapsedText=ve),ce}s.create=d;function f(c){var o=c;return b.objectLiteral(o)&&b.uinteger(o.startLine)&&b.uinteger(o.startLine)&&(b.undefined(o.startCharacter)||b.uinteger(o.startCharacter))&&(b.undefined(o.endCharacter)||b.uinteger(o.endCharacter))&&(b.undefined(o.kind)||b.string(o.kind))}s.is=f})(L||(t.FoldingRange=L={}));var F;(function(s){function d(c,o){return{location:c,message:o}}s.create=d;function f(c){var o=c;return b.defined(o)&&m.is(o.location)&&b.string(o.message)}s.is=f})(F||(t.DiagnosticRelatedInformation=F={}));var G;(function(s){s.Error=1,s.Warning=2,s.Information=3,s.Hint=4})(G||(t.DiagnosticSeverity=G={}));var W;(function(s){s.Unnecessary=1,s.Deprecated=2})(W||(t.DiagnosticTag=W={}));var _;(function(s){function d(f){var c=f;return b.objectLiteral(c)&&b.string(c.href)}s.is=d})(_||(t.CodeDescription=_={}));var y;(function(s){function d(c,o,v,T,V,ve){var ce={range:c,message:o};return b.defined(v)&&(ce.severity=v),b.defined(T)&&(ce.code=T),b.defined(V)&&(ce.source=V),b.defined(ve)&&(ce.relatedInformation=ve),ce}s.create=d;function f(c){var o,v=c;return b.defined(v)&&p.is(v.range)&&b.string(v.message)&&(b.number(v.severity)||b.undefined(v.severity))&&(b.integer(v.code)||b.string(v.code)||b.undefined(v.code))&&(b.undefined(v.codeDescription)||b.string((o=v.codeDescription)===null||o===void 0?void 0:o.href))&&(b.string(v.source)||b.undefined(v.source))&&(b.undefined(v.relatedInformation)||b.typedArray(v.relatedInformation,F.is))}s.is=f})(y||(t.Diagnostic=y={}));var q;(function(s){function d(c,o){for(var v=[],T=2;T<arguments.length;T++)v[T-2]=arguments[T];var V={title:c,command:o};return b.defined(v)&&v.length>0&&(V.arguments=v),V}s.create=d;function f(c){var o=c;return b.defined(o)&&b.string(o.title)&&b.string(o.command)}s.is=f})(q||(t.Command=q={}));var U;(function(s){function d(v,T){return{range:v,newText:T}}s.replace=d;function f(v,T){return{range:{start:v,end:v},newText:T}}s.insert=f;function c(v){return{range:v,newText:""}}s.del=c;function o(v){var T=v;return b.objectLiteral(T)&&b.string(T.newText)&&p.is(T.range)}s.is=o})(U||(t.TextEdit=U={}));var te;(function(s){function d(c,o,v){var T={label:c};return o!==void 0&&(T.needsConfirmation=o),v!==void 0&&(T.description=v),T}s.create=d;function f(c){var o=c;return b.objectLiteral(o)&&b.string(o.label)&&(b.boolean(o.needsConfirmation)||o.needsConfirmation===void 0)&&(b.string(o.description)||o.description===void 0)}s.is=f})(te||(t.ChangeAnnotation=te={}));var le;(function(s){function d(f){var c=f;return b.string(c)}s.is=d})(le||(t.ChangeAnnotationIdentifier=le={}));var Se;(function(s){function d(v,T,V){return{range:v,newText:T,annotationId:V}}s.replace=d;function f(v,T,V){return{range:{start:v,end:v},newText:T,annotationId:V}}s.insert=f;function c(v,T){return{range:v,newText:"",annotationId:T}}s.del=c;function o(v){var T=v;return U.is(T)&&(te.is(T.annotationId)||le.is(T.annotationId))}s.is=o})(Se||(t.AnnotatedTextEdit=Se={}));var Be;(function(s){function d(c,o){return{textDocument:c,edits:o}}s.create=d;function f(c){var o=c;return b.defined(o)&&De.is(o.textDocument)&&Array.isArray(o.edits)}s.is=f})(Be||(t.TextDocumentEdit=Be={}));var Ve;(function(s){function d(c,o,v){var T={kind:"create",uri:c};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(T.options=o),v!==void 0&&(T.annotationId=v),T}s.create=d;function f(c){var o=c;return o&&o.kind==="create"&&b.string(o.uri)&&(o.options===void 0||(o.options.overwrite===void 0||b.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||b.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||le.is(o.annotationId))}s.is=f})(Ve||(t.CreateFile=Ve={}));var x;(function(s){function d(c,o,v,T){var V={kind:"rename",oldUri:c,newUri:o};return v!==void 0&&(v.overwrite!==void 0||v.ignoreIfExists!==void 0)&&(V.options=v),T!==void 0&&(V.annotationId=T),V}s.create=d;function f(c){var o=c;return o&&o.kind==="rename"&&b.string(o.oldUri)&&b.string(o.newUri)&&(o.options===void 0||(o.options.overwrite===void 0||b.boolean(o.options.overwrite))&&(o.options.ignoreIfExists===void 0||b.boolean(o.options.ignoreIfExists)))&&(o.annotationId===void 0||le.is(o.annotationId))}s.is=f})(x||(t.RenameFile=x={}));var P;(function(s){function d(c,o,v){var T={kind:"delete",uri:c};return o!==void 0&&(o.recursive!==void 0||o.ignoreIfNotExists!==void 0)&&(T.options=o),v!==void 0&&(T.annotationId=v),T}s.create=d;function f(c){var o=c;return o&&o.kind==="delete"&&b.string(o.uri)&&(o.options===void 0||(o.options.recursive===void 0||b.boolean(o.options.recursive))&&(o.options.ignoreIfNotExists===void 0||b.boolean(o.options.ignoreIfNotExists)))&&(o.annotationId===void 0||le.is(o.annotationId))}s.is=f})(P||(t.DeleteFile=P={}));var A;(function(s){function d(f){var c=f;return c&&(c.changes!==void 0||c.documentChanges!==void 0)&&(c.documentChanges===void 0||c.documentChanges.every(function(o){return b.string(o.kind)?Ve.is(o)||x.is(o)||P.is(o):Be.is(o)}))}s.is=d})(A||(t.WorkspaceEdit=A={}));var j=function(){function s(d,f){this.edits=d,this.changeAnnotations=f}return s.prototype.insert=function(d,f,c){var o,v;if(c===void 0?o=U.insert(d,f):le.is(c)?(v=c,o=Se.insert(d,f,c)):(this.assertChangeAnnotations(this.changeAnnotations),v=this.changeAnnotations.manage(c),o=Se.insert(d,f,v)),this.edits.push(o),v!==void 0)return v},s.prototype.replace=function(d,f,c){var o,v;if(c===void 0?o=U.replace(d,f):le.is(c)?(v=c,o=Se.replace(d,f,c)):(this.assertChangeAnnotations(this.changeAnnotations),v=this.changeAnnotations.manage(c),o=Se.replace(d,f,v)),this.edits.push(o),v!==void 0)return v},s.prototype.delete=function(d,f){var c,o;if(f===void 0?c=U.del(d):le.is(f)?(o=f,c=Se.del(d,f)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(f),c=Se.del(d,o)),this.edits.push(c),o!==void 0)return o},s.prototype.add=function(d){this.edits.push(d)},s.prototype.all=function(){return this.edits},s.prototype.clear=function(){this.edits.splice(0,this.edits.length)},s.prototype.assertChangeAnnotations=function(d){if(d===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},s}(),ne=function(){function s(d){this._annotations=d===void 0?Object.create(null):d,this._counter=0,this._size=0}return s.prototype.all=function(){return this._annotations},Object.defineProperty(s.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),s.prototype.manage=function(d,f){var c;if(le.is(d)?c=d:(c=this.nextId(),f=d),this._annotations[c]!==void 0)throw new Error("Id ".concat(c," is already in use."));if(f===void 0)throw new Error("No annotation provided for id ".concat(c));return this._annotations[c]=f,this._size++,c},s.prototype.nextId=function(){return this._counter++,this._counter.toString()},s}(),X=function(){function s(d){var f=this;this._textEditChanges=Object.create(null),d!==void 0?(this._workspaceEdit=d,d.documentChanges?(this._changeAnnotations=new ne(d.changeAnnotations),d.changeAnnotations=this._changeAnnotations.all(),d.documentChanges.forEach(function(c){if(Be.is(c)){var o=new j(c.edits,f._changeAnnotations);f._textEditChanges[c.textDocument.uri]=o}})):d.changes&&Object.keys(d.changes).forEach(function(c){var o=new j(d.changes[c]);f._textEditChanges[c]=o})):this._workspaceEdit={}}return Object.defineProperty(s.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),s.prototype.getTextEditChange=function(d){if(De.is(d)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var f={uri:d.uri,version:d.version},c=this._textEditChanges[f.uri];if(!c){var o=[],v={textDocument:f,edits:o};this._workspaceEdit.documentChanges.push(v),c=new j(o,this._changeAnnotations),this._textEditChanges[f.uri]=c}return c}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var c=this._textEditChanges[d];if(!c){var o=[];this._workspaceEdit.changes[d]=o,c=new j(o),this._textEditChanges[d]=c}return c}},s.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ne,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},s.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},s.prototype.createFile=function(d,f,c){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;te.is(f)||le.is(f)?o=f:c=f;var v,T;if(o===void 0?v=Ve.create(d,c):(T=le.is(o)?o:this._changeAnnotations.manage(o),v=Ve.create(d,c,T)),this._workspaceEdit.documentChanges.push(v),T!==void 0)return T},s.prototype.renameFile=function(d,f,c,o){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var v;te.is(c)||le.is(c)?v=c:o=c;var T,V;if(v===void 0?T=x.create(d,f,o):(V=le.is(v)?v:this._changeAnnotations.manage(v),T=x.create(d,f,o,V)),this._workspaceEdit.documentChanges.push(T),V!==void 0)return V},s.prototype.deleteFile=function(d,f,c){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;te.is(f)||le.is(f)?o=f:c=f;var v,T;if(o===void 0?v=P.create(d,c):(T=le.is(o)?o:this._changeAnnotations.manage(o),v=P.create(d,c,T)),this._workspaceEdit.documentChanges.push(v),T!==void 0)return T},s}();t.WorkspaceChange=X;var z;(function(s){function d(c){return{uri:c}}s.create=d;function f(c){var o=c;return b.defined(o)&&b.string(o.uri)}s.is=f})(z||(t.TextDocumentIdentifier=z={}));var Ee;(function(s){function d(c,o){return{uri:c,version:o}}s.create=d;function f(c){var o=c;return b.defined(o)&&b.string(o.uri)&&b.integer(o.version)}s.is=f})(Ee||(t.VersionedTextDocumentIdentifier=Ee={}));var De;(function(s){function d(c,o){return{uri:c,version:o}}s.create=d;function f(c){var o=c;return b.defined(o)&&b.string(o.uri)&&(o.version===null||b.integer(o.version))}s.is=f})(De||(t.OptionalVersionedTextDocumentIdentifier=De={}));var oe;(function(s){function d(c,o,v,T){return{uri:c,languageId:o,version:v,text:T}}s.create=d;function f(c){var o=c;return b.defined(o)&&b.string(o.uri)&&b.string(o.languageId)&&b.integer(o.version)&&b.string(o.text)}s.is=f})(oe||(t.TextDocumentItem=oe={}));var Ze;(function(s){s.PlainText="plaintext",s.Markdown="markdown";function d(f){var c=f;return c===s.PlainText||c===s.Markdown}s.is=d})(Ze||(t.MarkupKind=Ze={}));var Ot;(function(s){function d(f){var c=f;return b.objectLiteral(f)&&Ze.is(c.kind)&&b.string(c.value)}s.is=d})(Ot||(t.MarkupContent=Ot={}));var Hn;(function(s){s.Text=1,s.Method=2,s.Function=3,s.Constructor=4,s.Field=5,s.Variable=6,s.Class=7,s.Interface=8,s.Module=9,s.Property=10,s.Unit=11,s.Value=12,s.Enum=13,s.Keyword=14,s.Snippet=15,s.Color=16,s.File=17,s.Reference=18,s.Folder=19,s.EnumMember=20,s.Constant=21,s.Struct=22,s.Event=23,s.Operator=24,s.TypeParameter=25})(Hn||(t.CompletionItemKind=Hn={}));var _n;(function(s){s.PlainText=1,s.Snippet=2})(_n||(t.InsertTextFormat=_n={}));var Dn;(function(s){s.Deprecated=1})(Dn||(t.CompletionItemTag=Dn={}));var $n;(function(s){function d(c,o,v){return{newText:c,insert:o,replace:v}}s.create=d;function f(c){var o=c;return o&&b.string(o.newText)&&p.is(o.insert)&&p.is(o.replace)}s.is=f})($n||(t.InsertReplaceEdit=$n={}));var Un;(function(s){s.asIs=1,s.adjustIndentation=2})(Un||(t.InsertTextMode=Un={}));var zn;(function(s){function d(f){var c=f;return c&&(b.string(c.detail)||c.detail===void 0)&&(b.string(c.description)||c.description===void 0)}s.is=d})(zn||(t.CompletionItemLabelDetails=zn={}));var Bn;(function(s){function d(f){return{label:f}}s.create=d})(Bn||(t.CompletionItem=Bn={}));var Vn;(function(s){function d(f,c){return{items:f||[],isIncomplete:!!c}}s.create=d})(Vn||(t.CompletionList=Vn={}));var zt;(function(s){function d(c){return c.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s.fromPlainText=d;function f(c){var o=c;return b.string(o)||b.objectLiteral(o)&&b.string(o.language)&&b.string(o.value)}s.is=f})(zt||(t.MarkedString=zt={}));var et;(function(s){function d(f){var c=f;return!!c&&b.objectLiteral(c)&&(Ot.is(c.contents)||zt.is(c.contents)||b.typedArray(c.contents,zt.is))&&(f.range===void 0||p.is(f.range))}s.is=d})(et||(t.Hover=et={}));var Jn;(function(s){function d(f,c){return c?{label:f,documentation:c}:{label:f}}s.create=d})(Jn||(t.ParameterInformation=Jn={}));var Gn;(function(s){function d(f,c){for(var o=[],v=2;v<arguments.length;v++)o[v-2]=arguments[v];var T={label:f};return b.defined(c)&&(T.documentation=c),b.defined(o)?T.parameters=o:T.parameters=[],T}s.create=d})(Gn||(t.SignatureInformation=Gn={}));var Nt;(function(s){s.Text=1,s.Read=2,s.Write=3})(Nt||(t.DocumentHighlightKind=Nt={}));var Xn;(function(s){function d(f,c){var o={range:f};return b.number(c)&&(o.kind=c),o}s.create=d})(Xn||(t.DocumentHighlight=Xn={}));var Bt;(function(s){s.File=1,s.Module=2,s.Namespace=3,s.Package=4,s.Class=5,s.Method=6,s.Property=7,s.Field=8,s.Constructor=9,s.Enum=10,s.Interface=11,s.Function=12,s.Variable=13,s.Constant=14,s.String=15,s.Number=16,s.Boolean=17,s.Array=18,s.Object=19,s.Key=20,s.Null=21,s.EnumMember=22,s.Struct=23,s.Event=24,s.Operator=25,s.TypeParameter=26})(Bt||(t.SymbolKind=Bt={}));var Qn;(function(s){s.Deprecated=1})(Qn||(t.SymbolTag=Qn={}));var dt;(function(s){function d(f,c,o,v,T){var V={name:f,kind:c,location:{uri:v,range:o}};return T&&(V.containerName=T),V}s.create=d})(dt||(t.SymbolInformation=dt={}));var yt;(function(s){function d(f,c,o,v){return v!==void 0?{name:f,kind:c,location:{uri:o,range:v}}:{name:f,kind:c,location:{uri:o}}}s.create=d})(yt||(t.WorkspaceSymbol=yt={}));var Yn;(function(s){function d(c,o,v,T,V,ve){var ce={name:c,detail:o,kind:v,range:T,selectionRange:V};return ve!==void 0&&(ce.children=ve),ce}s.create=d;function f(c){var o=c;return o&&b.string(o.name)&&b.number(o.kind)&&p.is(o.range)&&p.is(o.selectionRange)&&(o.detail===void 0||b.string(o.detail))&&(o.deprecated===void 0||b.boolean(o.deprecated))&&(o.children===void 0||Array.isArray(o.children))&&(o.tags===void 0||Array.isArray(o.tags))}s.is=f})(Yn||(t.DocumentSymbol=Yn={}));var Kn;(function(s){s.Empty="",s.QuickFix="quickfix",s.Refactor="refactor",s.RefactorExtract="refactor.extract",s.RefactorInline="refactor.inline",s.RefactorRewrite="refactor.rewrite",s.Source="source",s.SourceOrganizeImports="source.organizeImports",s.SourceFixAll="source.fixAll"})(Kn||(t.CodeActionKind=Kn={}));var st;(function(s){s.Invoked=1,s.Automatic=2})(st||(t.CodeActionTriggerKind=st={}));var Rn;(function(s){function d(c,o,v){var T={diagnostics:c};return o!=null&&(T.only=o),v!=null&&(T.triggerKind=v),T}s.create=d;function f(c){var o=c;return b.defined(o)&&b.typedArray(o.diagnostics,y.is)&&(o.only===void 0||b.typedArray(o.only,b.string))&&(o.triggerKind===void 0||o.triggerKind===st.Invoked||o.triggerKind===st.Automatic)}s.is=f})(Rn||(t.CodeActionContext=Rn={}));var wn;(function(s){function d(c,o,v){var T={title:c},V=!0;return typeof o=="string"?(V=!1,T.kind=o):q.is(o)?T.command=o:T.edit=o,V&&v!==void 0&&(T.kind=v),T}s.create=d;function f(c){var o=c;return o&&b.string(o.title)&&(o.diagnostics===void 0||b.typedArray(o.diagnostics,y.is))&&(o.kind===void 0||b.string(o.kind))&&(o.edit!==void 0||o.command!==void 0)&&(o.command===void 0||q.is(o.command))&&(o.isPreferred===void 0||b.boolean(o.isPreferred))&&(o.edit===void 0||A.is(o.edit))}s.is=f})(wn||(t.CodeAction=wn={}));var Vt;(function(s){function d(c,o){var v={range:c};return b.defined(o)&&(v.data=o),v}s.create=d;function f(c){var o=c;return b.defined(o)&&p.is(o.range)&&(b.undefined(o.command)||q.is(o.command))}s.is=f})(Vt||(t.CodeLens=Vt={}));var Pn;(function(s){function d(c,o){return{tabSize:c,insertSpaces:o}}s.create=d;function f(c){var o=c;return b.defined(o)&&b.uinteger(o.tabSize)&&b.boolean(o.insertSpaces)}s.is=f})(Pn||(t.FormattingOptions=Pn={}));var ft;(function(s){function d(c,o,v){return{range:c,target:o,data:v}}s.create=d;function f(c){var o=c;return b.defined(o)&&p.is(o.range)&&(b.undefined(o.target)||b.string(o.target))}s.is=f})(ft||(t.DocumentLink=ft={}));var l;(function(s){function d(c,o){return{range:c,parent:o}}s.create=d;function f(c){var o=c;return b.objectLiteral(o)&&p.is(o.range)&&(o.parent===void 0||s.is(o.parent))}s.is=f})(l||(t.SelectionRange=l={}));var C;(function(s){s.namespace="namespace",s.type="type",s.class="class",s.enum="enum",s.interface="interface",s.struct="struct",s.typeParameter="typeParameter",s.parameter="parameter",s.variable="variable",s.property="property",s.enumMember="enumMember",s.event="event",s.function="function",s.method="method",s.macro="macro",s.keyword="keyword",s.modifier="modifier",s.comment="comment",s.string="string",s.number="number",s.regexp="regexp",s.operator="operator",s.decorator="decorator"})(C||(t.SemanticTokenTypes=C={}));var E;(function(s){s.declaration="declaration",s.definition="definition",s.readonly="readonly",s.static="static",s.deprecated="deprecated",s.abstract="abstract",s.async="async",s.modification="modification",s.documentation="documentation",s.defaultLibrary="defaultLibrary"})(E||(t.SemanticTokenModifiers=E={}));var I;(function(s){function d(f){var c=f;return b.objectLiteral(c)&&(c.resultId===void 0||typeof c.resultId=="string")&&Array.isArray(c.data)&&(c.data.length===0||typeof c.data[0]=="number")}s.is=d})(I||(t.SemanticTokens=I={}));var se;(function(s){function d(c,o){return{range:c,text:o}}s.create=d;function f(c){var o=c;return o!=null&&p.is(o.range)&&b.string(o.text)}s.is=f})(se||(t.InlineValueText=se={}));var ie;(function(s){function d(c,o,v){return{range:c,variableName:o,caseSensitiveLookup:v}}s.create=d;function f(c){var o=c;return o!=null&&p.is(o.range)&&b.boolean(o.caseSensitiveLookup)&&(b.string(o.variableName)||o.variableName===void 0)}s.is=f})(ie||(t.InlineValueVariableLookup=ie={}));var de;(function(s){function d(c,o){return{range:c,expression:o}}s.create=d;function f(c){var o=c;return o!=null&&p.is(o.range)&&(b.string(o.expression)||o.expression===void 0)}s.is=f})(de||(t.InlineValueEvaluatableExpression=de={}));var he;(function(s){function d(c,o){return{frameId:c,stoppedLocation:o}}s.create=d;function f(c){var o=c;return b.defined(o)&&p.is(c.stoppedLocation)}s.is=f})(he||(t.InlineValueContext=he={}));var Q;(function(s){s.Type=1,s.Parameter=2;function d(f){return f===1||f===2}s.is=d})(Q||(t.InlayHintKind=Q={}));var ae;(function(s){function d(c){return{value:c}}s.create=d;function f(c){var o=c;return b.objectLiteral(o)&&(o.tooltip===void 0||b.string(o.tooltip)||Ot.is(o.tooltip))&&(o.location===void 0||m.is(o.location))&&(o.command===void 0||q.is(o.command))}s.is=f})(ae||(t.InlayHintLabelPart=ae={}));var Z;(function(s){function d(c,o,v){var T={position:c,label:o};return v!==void 0&&(T.kind=v),T}s.create=d;function f(c){var o=c;return b.objectLiteral(o)&&h.is(o.position)&&(b.string(o.label)||b.typedArray(o.label,ae.is))&&(o.kind===void 0||Q.is(o.kind))&&o.textEdits===void 0||b.typedArray(o.textEdits,U.is)&&(o.tooltip===void 0||b.string(o.tooltip)||Ot.is(o.tooltip))&&(o.paddingLeft===void 0||b.boolean(o.paddingLeft))&&(o.paddingRight===void 0||b.boolean(o.paddingRight))}s.is=f})(Z||(t.InlayHint=Z={}));var ye;(function(s){function d(f){return{kind:"snippet",value:f}}s.createSnippet=d})(ye||(t.StringValue=ye={}));var Te;(function(s){function d(f,c,o,v){return{insertText:f,filterText:c,range:o,command:v}}s.create=d})(Te||(t.InlineCompletionItem=Te={}));var He;(function(s){function d(f){return{items:f}}s.create=d})(He||(t.InlineCompletionList=He={}));var Zn;(function(s){s.Invoked=0,s.Automatic=1})(Zn||(t.InlineCompletionTriggerKind=Zn={}));var Fs;(function(s){function d(f,c){return{range:f,text:c}}s.create=d})(Fs||(t.SelectedCompletionInfo=Fs={}));var As;(function(s){function d(f,c){return{triggerKind:f,selectedCompletionInfo:c}}s.create=d})(As||(t.InlineCompletionContext=As={}));var Ls;(function(s){function d(f){var c=f;return b.objectLiteral(c)&&r.is(c.uri)&&b.string(c.name)}s.is=d})(Ls||(t.WorkspaceFolder=Ls={})),t.EOL=[`
`,`\r
`,"\r"];var Ws;(function(s){function d(v,T,V,ve){return new Hd(v,T,V,ve)}s.create=d;function f(v){var T=v;return!!(b.defined(T)&&b.string(T.uri)&&(b.undefined(T.languageId)||b.string(T.languageId))&&b.uinteger(T.lineCount)&&b.func(T.getText)&&b.func(T.positionAt)&&b.func(T.offsetAt))}s.is=f;function c(v,T){for(var V=v.getText(),ve=o(T,function(Jt,er){var Hs=Jt.range.start.line-er.range.start.line;return Hs===0?Jt.range.start.character-er.range.start.character:Hs}),ce=V.length,tt=ve.length-1;tt>=0;tt--){var nt=ve[tt],ht=v.offsetAt(nt.range.start),Y=v.offsetAt(nt.range.end);if(Y<=ce)V=V.substring(0,ht)+nt.newText+V.substring(Y,V.length);else throw new Error("Overlapping edit");ce=ht}return V}s.applyEdits=c;function o(v,T){if(v.length<=1)return v;var V=v.length/2|0,ve=v.slice(0,V),ce=v.slice(V);o(ve,T),o(ce,T);for(var tt=0,nt=0,ht=0;tt<ve.length&&nt<ce.length;){var Y=T(ve[tt],ce[nt]);Y<=0?v[ht++]=ve[tt++]:v[ht++]=ce[nt++]}for(;tt<ve.length;)v[ht++]=ve[tt++];for(;nt<ce.length;)v[ht++]=ce[nt++];return v}})(Ws||(t.TextDocument=Ws={}));var Hd=function(){function s(d,f,c,o){this._uri=d,this._languageId=f,this._version=c,this._content=o,this._lineOffsets=void 0}return Object.defineProperty(s.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),s.prototype.getText=function(d){if(d){var f=this.offsetAt(d.start),c=this.offsetAt(d.end);return this._content.substring(f,c)}return this._content},s.prototype.update=function(d,f){this._content=d.text,this._version=f,this._lineOffsets=void 0},s.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var d=[],f=this._content,c=!0,o=0;o<f.length;o++){c&&(d.push(o),c=!1);var v=f.charAt(o);c=v==="\r"||v===`
`,v==="\r"&&o+1<f.length&&f.charAt(o+1)===`
`&&o++}c&&f.length>0&&d.push(f.length),this._lineOffsets=d}return this._lineOffsets},s.prototype.positionAt=function(d){d=Math.max(Math.min(d,this._content.length),0);var f=this.getLineOffsets(),c=0,o=f.length;if(o===0)return h.create(0,d);for(;c<o;){var v=Math.floor((c+o)/2);f[v]>d?o=v:c=v+1}var T=c-1;return h.create(T,d-f[T])},s.prototype.offsetAt=function(d){var f=this.getLineOffsets();if(d.line>=f.length)return this._content.length;if(d.line<0)return 0;var c=f[d.line],o=d.line+1<f.length?f[d.line+1]:this._content.length;return Math.max(Math.min(c+d.character,o),c)},Object.defineProperty(s.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),s}(),b;(function(s){var d=Object.prototype.toString;function f(Y){return typeof Y<"u"}s.defined=f;function c(Y){return typeof Y>"u"}s.undefined=c;function o(Y){return Y===!0||Y===!1}s.boolean=o;function v(Y){return d.call(Y)==="[object String]"}s.string=v;function T(Y){return d.call(Y)==="[object Number]"}s.number=T;function V(Y,Jt,er){return d.call(Y)==="[object Number]"&&Jt<=Y&&Y<=er}s.numberRange=V;function ve(Y){return d.call(Y)==="[object Number]"&&-2147483648<=Y&&Y<=2147483647}s.integer=ve;function ce(Y){return d.call(Y)==="[object Number]"&&0<=Y&&Y<=2147483647}s.uinteger=ce;function tt(Y){return d.call(Y)==="[object Function]"}s.func=tt;function nt(Y){return Y!==null&&typeof Y=="object"}s.objectLiteral=nt;function ht(Y,Jt){return Array.isArray(Y)&&Y.every(Jt)}s.typedArray=ht})(b||(b={}))})});var ge=M(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.ProtocolNotificationType=Ie.ProtocolNotificationType0=Ie.ProtocolRequestType=Ie.ProtocolRequestType0=Ie.RegistrationType=Ie.MessageDirection=void 0;var nn=Ft(),wa;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(wa||(Ie.MessageDirection=wa={}));var Fo=class{constructor(t){this.method=t}};Ie.RegistrationType=Fo;var Ao=class extends nn.RequestType0{constructor(t){super(t)}};Ie.ProtocolRequestType0=Ao;var Lo=class extends nn.RequestType{constructor(t){super(t,nn.ParameterStructures.byName)}};Ie.ProtocolRequestType=Lo;var Wo=class extends nn.NotificationType0{constructor(t){super(t)}};Ie.ProtocolNotificationType0=Wo;var Ho=class extends nn.NotificationType{constructor(t){super(t,nn.ParameterStructures.byName)}};Ie.ProtocolNotificationType=Ho});var Cr=M(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.objectLiteral=we.typedArray=we.stringArray=we.array=we.func=we.error=we.number=we.string=we.boolean=void 0;function jf(e){return e===!0||e===!1}we.boolean=jf;function Pa(e){return typeof e=="string"||e instanceof String}we.string=Pa;function If(e){return typeof e=="number"||e instanceof Number}we.number=If;function Ff(e){return e instanceof Error}we.error=Ff;function Af(e){return typeof e=="function"}we.func=Af;function Ca(e){return Array.isArray(e)}we.array=Ca;function Lf(e){return Ca(e)&&e.every(t=>Pa(t))}we.stringArray=Lf;function Wf(e,t){return Array.isArray(e)&&e.every(t)}we.typedArray=Wf;function Hf(e){return e!==null&&typeof e=="object"}we.objectLiteral=Hf});var Sa=M(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.ImplementationRequest=void 0;var Ta=ge(),ka;(function(e){e.method="textDocument/implementation",e.messageDirection=Ta.MessageDirection.clientToServer,e.type=new Ta.ProtocolRequestType(e.method)})(ka||(Tr.ImplementationRequest=ka={}))});var Oa=M(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.TypeDefinitionRequest=void 0;var qa=ge(),Ea;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=qa.MessageDirection.clientToServer,e.type=new qa.ProtocolRequestType(e.method)})(Ea||(kr.TypeDefinitionRequest=Ea={}))});var Ma=M(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.DidChangeWorkspaceFoldersNotification=rn.WorkspaceFoldersRequest=void 0;var Sr=ge(),Na;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=Sr.MessageDirection.serverToClient,e.type=new Sr.ProtocolRequestType0(e.method)})(Na||(rn.WorkspaceFoldersRequest=Na={}));var xa;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=Sr.MessageDirection.clientToServer,e.type=new Sr.ProtocolNotificationType(e.method)})(xa||(rn.DidChangeWorkspaceFoldersNotification=xa={}))});var Fa=M(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.ConfigurationRequest=void 0;var ja=ge(),Ia;(function(e){e.method="workspace/configuration",e.messageDirection=ja.MessageDirection.serverToClient,e.type=new ja.ProtocolRequestType(e.method)})(Ia||(qr.ConfigurationRequest=Ia={}))});var Wa=M(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.ColorPresentationRequest=on.DocumentColorRequest=void 0;var Er=ge(),Aa;(function(e){e.method="textDocument/documentColor",e.messageDirection=Er.MessageDirection.clientToServer,e.type=new Er.ProtocolRequestType(e.method)})(Aa||(on.DocumentColorRequest=Aa={}));var La;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=Er.MessageDirection.clientToServer,e.type=new Er.ProtocolRequestType(e.method)})(La||(on.ColorPresentationRequest=La={}))});var Ua=M(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.FoldingRangeRefreshRequest=sn.FoldingRangeRequest=void 0;var Or=ge(),Ha;(function(e){e.method="textDocument/foldingRange",e.messageDirection=Or.MessageDirection.clientToServer,e.type=new Or.ProtocolRequestType(e.method)})(Ha||(sn.FoldingRangeRequest=Ha={}));var $a;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=Or.MessageDirection.serverToClient,e.type=new Or.ProtocolRequestType0(e.method)})($a||(sn.FoldingRangeRefreshRequest=$a={}))});var Va=M(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.DeclarationRequest=void 0;var za=ge(),Ba;(function(e){e.method="textDocument/declaration",e.messageDirection=za.MessageDirection.clientToServer,e.type=new za.ProtocolRequestType(e.method)})(Ba||(Nr.DeclarationRequest=Ba={}))});var Xa=M(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.SelectionRangeRequest=void 0;var Ja=ge(),Ga;(function(e){e.method="textDocument/selectionRange",e.messageDirection=Ja.MessageDirection.clientToServer,e.type=new Ja.ProtocolRequestType(e.method)})(Ga||(xr.SelectionRangeRequest=Ga={}))});var Za=M(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.WorkDoneProgressCancelNotification=Rt.WorkDoneProgressCreateRequest=Rt.WorkDoneProgress=void 0;var $f=Ft(),Mr=ge(),Qa;(function(e){e.type=new $f.ProgressType;function t(n){return n===e.type}e.is=t})(Qa||(Rt.WorkDoneProgress=Qa={}));var Ya;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=Mr.MessageDirection.serverToClient,e.type=new Mr.ProtocolRequestType(e.method)})(Ya||(Rt.WorkDoneProgressCreateRequest=Ya={}));var Ka;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=Mr.MessageDirection.clientToServer,e.type=new Mr.ProtocolNotificationType(e.method)})(Ka||(Rt.WorkDoneProgressCancelNotification=Ka={}))});var rc=M(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.CallHierarchyOutgoingCallsRequest=wt.CallHierarchyIncomingCallsRequest=wt.CallHierarchyPrepareRequest=void 0;var an=ge(),ec;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=an.MessageDirection.clientToServer,e.type=new an.ProtocolRequestType(e.method)})(ec||(wt.CallHierarchyPrepareRequest=ec={}));var tc;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=an.MessageDirection.clientToServer,e.type=new an.ProtocolRequestType(e.method)})(tc||(wt.CallHierarchyIncomingCallsRequest=tc={}));var nc;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=an.MessageDirection.clientToServer,e.type=new an.ProtocolRequestType(e.method)})(nc||(wt.CallHierarchyOutgoingCallsRequest=nc={}))});var uc=M(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.SemanticTokensRefreshRequest=Fe.SemanticTokensRangeRequest=Fe.SemanticTokensDeltaRequest=Fe.SemanticTokensRequest=Fe.SemanticTokensRegistrationType=Fe.TokenFormat=void 0;var mt=ge(),ic;(function(e){e.Relative="relative"})(ic||(Fe.TokenFormat=ic={}));var On;(function(e){e.method="textDocument/semanticTokens",e.type=new mt.RegistrationType(e.method)})(On||(Fe.SemanticTokensRegistrationType=On={}));var oc;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=mt.MessageDirection.clientToServer,e.type=new mt.ProtocolRequestType(e.method),e.registrationMethod=On.method})(oc||(Fe.SemanticTokensRequest=oc={}));var sc;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=mt.MessageDirection.clientToServer,e.type=new mt.ProtocolRequestType(e.method),e.registrationMethod=On.method})(sc||(Fe.SemanticTokensDeltaRequest=sc={}));var ac;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=mt.MessageDirection.clientToServer,e.type=new mt.ProtocolRequestType(e.method),e.registrationMethod=On.method})(ac||(Fe.SemanticTokensRangeRequest=ac={}));var cc;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=mt.MessageDirection.serverToClient,e.type=new mt.ProtocolRequestType0(e.method)})(cc||(Fe.SemanticTokensRefreshRequest=cc={}))});var fc=M(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.ShowDocumentRequest=void 0;var lc=ge(),dc;(function(e){e.method="window/showDocument",e.messageDirection=lc.MessageDirection.serverToClient,e.type=new lc.ProtocolRequestType(e.method)})(dc||(jr.ShowDocumentRequest=dc={}))});var mc=M(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.LinkedEditingRangeRequest=void 0;var hc=ge(),gc;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=hc.MessageDirection.clientToServer,e.type=new hc.ProtocolRequestType(e.method)})(gc||(Ir.LinkedEditingRangeRequest=gc={}))});var wc=M(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.WillDeleteFilesRequest=xe.DidDeleteFilesNotification=xe.DidRenameFilesNotification=xe.WillRenameFilesRequest=xe.DidCreateFilesNotification=xe.WillCreateFilesRequest=xe.FileOperationPatternKind=void 0;var Je=ge(),pc;(function(e){e.file="file",e.folder="folder"})(pc||(xe.FileOperationPatternKind=pc={}));var yc;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Je.MessageDirection.clientToServer,e.type=new Je.ProtocolRequestType(e.method)})(yc||(xe.WillCreateFilesRequest=yc={}));var vc;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Je.MessageDirection.clientToServer,e.type=new Je.ProtocolNotificationType(e.method)})(vc||(xe.DidCreateFilesNotification=vc={}));var bc;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Je.MessageDirection.clientToServer,e.type=new Je.ProtocolRequestType(e.method)})(bc||(xe.WillRenameFilesRequest=bc={}));var _c;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Je.MessageDirection.clientToServer,e.type=new Je.ProtocolNotificationType(e.method)})(_c||(xe.DidRenameFilesNotification=_c={}));var Dc;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Je.MessageDirection.clientToServer,e.type=new Je.ProtocolNotificationType(e.method)})(Dc||(xe.DidDeleteFilesNotification=Dc={}));var Rc;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Je.MessageDirection.clientToServer,e.type=new Je.ProtocolRequestType(e.method)})(Rc||(xe.WillDeleteFilesRequest=Rc={}))});var Sc=M(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.MonikerRequest=Pt.MonikerKind=Pt.UniquenessLevel=void 0;var Pc=ge(),Cc;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(Cc||(Pt.UniquenessLevel=Cc={}));var Tc;(function(e){e.$import="import",e.$export="export",e.local="local"})(Tc||(Pt.MonikerKind=Tc={}));var kc;(function(e){e.method="textDocument/moniker",e.messageDirection=Pc.MessageDirection.clientToServer,e.type=new Pc.ProtocolRequestType(e.method)})(kc||(Pt.MonikerRequest=kc={}))});var Nc=M(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.TypeHierarchySubtypesRequest=Ct.TypeHierarchySupertypesRequest=Ct.TypeHierarchyPrepareRequest=void 0;var cn=ge(),qc;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=cn.MessageDirection.clientToServer,e.type=new cn.ProtocolRequestType(e.method)})(qc||(Ct.TypeHierarchyPrepareRequest=qc={}));var Ec;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=cn.MessageDirection.clientToServer,e.type=new cn.ProtocolRequestType(e.method)})(Ec||(Ct.TypeHierarchySupertypesRequest=Ec={}));var Oc;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=cn.MessageDirection.clientToServer,e.type=new cn.ProtocolRequestType(e.method)})(Oc||(Ct.TypeHierarchySubtypesRequest=Oc={}))});var jc=M(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.InlineValueRefreshRequest=un.InlineValueRequest=void 0;var Fr=ge(),xc;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Fr.MessageDirection.clientToServer,e.type=new Fr.ProtocolRequestType(e.method)})(xc||(un.InlineValueRequest=xc={}));var Mc;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Fr.MessageDirection.serverToClient,e.type=new Fr.ProtocolRequestType0(e.method)})(Mc||(un.InlineValueRefreshRequest=Mc={}))});var Lc=M(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.InlayHintRefreshRequest=Tt.InlayHintResolveRequest=Tt.InlayHintRequest=void 0;var ln=ge(),Ic;(function(e){e.method="textDocument/inlayHint",e.messageDirection=ln.MessageDirection.clientToServer,e.type=new ln.ProtocolRequestType(e.method)})(Ic||(Tt.InlayHintRequest=Ic={}));var Fc;(function(e){e.method="inlayHint/resolve",e.messageDirection=ln.MessageDirection.clientToServer,e.type=new ln.ProtocolRequestType(e.method)})(Fc||(Tt.InlayHintResolveRequest=Fc={}));var Ac;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=ln.MessageDirection.serverToClient,e.type=new ln.ProtocolRequestType0(e.method)})(Ac||(Tt.InlayHintRefreshRequest=Ac={}))});var Vc=M(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.DiagnosticRefreshRequest=Ge.WorkspaceDiagnosticRequest=Ge.DocumentDiagnosticRequest=Ge.DocumentDiagnosticReportKind=Ge.DiagnosticServerCancellationData=void 0;var Bc=Ft(),Uf=Cr(),dn=ge(),Wc;(function(e){function t(n){let r=n;return r&&Uf.boolean(r.retriggerRequest)}e.is=t})(Wc||(Ge.DiagnosticServerCancellationData=Wc={}));var Hc;(function(e){e.Full="full",e.Unchanged="unchanged"})(Hc||(Ge.DocumentDiagnosticReportKind=Hc={}));var $c;(function(e){e.method="textDocument/diagnostic",e.messageDirection=dn.MessageDirection.clientToServer,e.type=new dn.ProtocolRequestType(e.method),e.partialResult=new Bc.ProgressType})($c||(Ge.DocumentDiagnosticRequest=$c={}));var Uc;(function(e){e.method="workspace/diagnostic",e.messageDirection=dn.MessageDirection.clientToServer,e.type=new dn.ProtocolRequestType(e.method),e.partialResult=new Bc.ProgressType})(Uc||(Ge.WorkspaceDiagnosticRequest=Uc={}));var zc;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=dn.MessageDirection.serverToClient,e.type=new dn.ProtocolRequestType0(e.method)})(zc||(Ge.DiagnosticRefreshRequest=zc={}))});var Zc=M(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.DidCloseNotebookDocumentNotification=be.DidSaveNotebookDocumentNotification=be.DidChangeNotebookDocumentNotification=be.NotebookCellArrayChange=be.DidOpenNotebookDocumentNotification=be.NotebookDocumentSyncRegistrationType=be.NotebookDocument=be.NotebookCell=be.ExecutionSummary=be.NotebookCellKind=void 0;var Nn=Pr(),it=Cr(),at=ge(),$o;(function(e){e.Markup=1,e.Code=2;function t(n){return n===1||n===2}e.is=t})($o||(be.NotebookCellKind=$o={}));var Uo;(function(e){function t(i,a){let h={executionOrder:i};return(a===!0||a===!1)&&(h.success=a),h}e.create=t;function n(i){let a=i;return it.objectLiteral(a)&&Nn.uinteger.is(a.executionOrder)&&(a.success===void 0||it.boolean(a.success))}e.is=n;function r(i,a){return i===a?!0:i==null||a===null||a===void 0?!1:i.executionOrder===a.executionOrder&&i.success===a.success}e.equals=r})(Uo||(be.ExecutionSummary=Uo={}));var Ar;(function(e){function t(a,h){return{kind:a,document:h}}e.create=t;function n(a){let h=a;return it.objectLiteral(h)&&$o.is(h.kind)&&Nn.DocumentUri.is(h.document)&&(h.metadata===void 0||it.objectLiteral(h.metadata))}e.is=n;function r(a,h){let p=new Set;return a.document!==h.document&&p.add("document"),a.kind!==h.kind&&p.add("kind"),a.executionSummary!==h.executionSummary&&p.add("executionSummary"),(a.metadata!==void 0||h.metadata!==void 0)&&!i(a.metadata,h.metadata)&&p.add("metadata"),(a.executionSummary!==void 0||h.executionSummary!==void 0)&&!Uo.equals(a.executionSummary,h.executionSummary)&&p.add("executionSummary"),p}e.diff=r;function i(a,h){if(a===h)return!0;if(a==null||h===null||h===void 0||typeof a!=typeof h||typeof a!="object")return!1;let p=Array.isArray(a),m=Array.isArray(h);if(p!==m)return!1;if(p&&m){if(a.length!==h.length)return!1;for(let g=0;g<a.length;g++)if(!i(a[g],h[g]))return!1}if(it.objectLiteral(a)&&it.objectLiteral(h)){let g=Object.keys(a),D=Object.keys(h);if(g.length!==D.length||(g.sort(),D.sort(),!i(g,D)))return!1;for(let w=0;w<g.length;w++){let k=g[w];if(!i(a[k],h[k]))return!1}}return!0}})(Ar||(be.NotebookCell=Ar={}));var Jc;(function(e){function t(r,i,a,h){return{uri:r,notebookType:i,version:a,cells:h}}e.create=t;function n(r){let i=r;return it.objectLiteral(i)&&it.string(i.uri)&&Nn.integer.is(i.version)&&it.typedArray(i.cells,Ar.is)}e.is=n})(Jc||(be.NotebookDocument=Jc={}));var fn;(function(e){e.method="notebookDocument/sync",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.RegistrationType(e.method)})(fn||(be.NotebookDocumentSyncRegistrationType=fn={}));var Gc;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method),e.registrationMethod=fn.method})(Gc||(be.DidOpenNotebookDocumentNotification=Gc={}));var Xc;(function(e){function t(r){let i=r;return it.objectLiteral(i)&&Nn.uinteger.is(i.start)&&Nn.uinteger.is(i.deleteCount)&&(i.cells===void 0||it.typedArray(i.cells,Ar.is))}e.is=t;function n(r,i,a){let h={start:r,deleteCount:i};return a!==void 0&&(h.cells=a),h}e.create=n})(Xc||(be.NotebookCellArrayChange=Xc={}));var Qc;(function(e){e.method="notebookDocument/didChange",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method),e.registrationMethod=fn.method})(Qc||(be.DidChangeNotebookDocumentNotification=Qc={}));var Yc;(function(e){e.method="notebookDocument/didSave",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method),e.registrationMethod=fn.method})(Yc||(be.DidSaveNotebookDocumentNotification=Yc={}));var Kc;(function(e){e.method="notebookDocument/didClose",e.messageDirection=at.MessageDirection.clientToServer,e.type=new at.ProtocolNotificationType(e.method),e.registrationMethod=fn.method})(Kc||(be.DidCloseNotebookDocumentNotification=Kc={}))});var nu=M(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.InlineCompletionRequest=void 0;var eu=ge(),tu;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=eu.MessageDirection.clientToServer,e.type=new eu.ProtocolRequestType(e.method)})(tu||(Lr.InlineCompletionRequest=tu={}))});var ml=M(u=>{"use strict";Object.defineProperty(u,"__esModule",{value:!0});u.WorkspaceSymbolRequest=u.CodeActionResolveRequest=u.CodeActionRequest=u.DocumentSymbolRequest=u.DocumentHighlightRequest=u.ReferencesRequest=u.DefinitionRequest=u.SignatureHelpRequest=u.SignatureHelpTriggerKind=u.HoverRequest=u.CompletionResolveRequest=u.CompletionRequest=u.CompletionTriggerKind=u.PublishDiagnosticsNotification=u.WatchKind=u.RelativePattern=u.FileChangeType=u.DidChangeWatchedFilesNotification=u.WillSaveTextDocumentWaitUntilRequest=u.WillSaveTextDocumentNotification=u.TextDocumentSaveReason=u.DidSaveTextDocumentNotification=u.DidCloseTextDocumentNotification=u.DidChangeTextDocumentNotification=u.TextDocumentContentChangeEvent=u.DidOpenTextDocumentNotification=u.TextDocumentSyncKind=u.TelemetryEventNotification=u.LogMessageNotification=u.ShowMessageRequest=u.ShowMessageNotification=u.MessageType=u.DidChangeConfigurationNotification=u.ExitNotification=u.ShutdownRequest=u.InitializedNotification=u.InitializeErrorCodes=u.InitializeRequest=u.WorkDoneProgressOptions=u.TextDocumentRegistrationOptions=u.StaticRegistrationOptions=u.PositionEncodingKind=u.FailureHandlingKind=u.ResourceOperationKind=u.UnregistrationRequest=u.RegistrationRequest=u.DocumentSelector=u.NotebookCellTextDocumentFilter=u.NotebookDocumentFilter=u.TextDocumentFilter=void 0;u.MonikerRequest=u.MonikerKind=u.UniquenessLevel=u.WillDeleteFilesRequest=u.DidDeleteFilesNotification=u.WillRenameFilesRequest=u.DidRenameFilesNotification=u.WillCreateFilesRequest=u.DidCreateFilesNotification=u.FileOperationPatternKind=u.LinkedEditingRangeRequest=u.ShowDocumentRequest=u.SemanticTokensRegistrationType=u.SemanticTokensRefreshRequest=u.SemanticTokensRangeRequest=u.SemanticTokensDeltaRequest=u.SemanticTokensRequest=u.TokenFormat=u.CallHierarchyPrepareRequest=u.CallHierarchyOutgoingCallsRequest=u.CallHierarchyIncomingCallsRequest=u.WorkDoneProgressCancelNotification=u.WorkDoneProgressCreateRequest=u.WorkDoneProgress=u.SelectionRangeRequest=u.DeclarationRequest=u.FoldingRangeRefreshRequest=u.FoldingRangeRequest=u.ColorPresentationRequest=u.DocumentColorRequest=u.ConfigurationRequest=u.DidChangeWorkspaceFoldersNotification=u.WorkspaceFoldersRequest=u.TypeDefinitionRequest=u.ImplementationRequest=u.ApplyWorkspaceEditRequest=u.ExecuteCommandRequest=u.PrepareRenameRequest=u.RenameRequest=u.PrepareSupportDefaultBehavior=u.DocumentOnTypeFormattingRequest=u.DocumentRangesFormattingRequest=u.DocumentRangeFormattingRequest=u.DocumentFormattingRequest=u.DocumentLinkResolveRequest=u.DocumentLinkRequest=u.CodeLensRefreshRequest=u.CodeLensResolveRequest=u.CodeLensRequest=u.WorkspaceSymbolResolveRequest=void 0;u.InlineCompletionRequest=u.DidCloseNotebookDocumentNotification=u.DidSaveNotebookDocumentNotification=u.DidChangeNotebookDocumentNotification=u.NotebookCellArrayChange=u.DidOpenNotebookDocumentNotification=u.NotebookDocumentSyncRegistrationType=u.NotebookDocument=u.NotebookCell=u.ExecutionSummary=u.NotebookCellKind=u.DiagnosticRefreshRequest=u.WorkspaceDiagnosticRequest=u.DocumentDiagnosticRequest=u.DocumentDiagnosticReportKind=u.DiagnosticServerCancellationData=u.InlayHintRefreshRequest=u.InlayHintResolveRequest=u.InlayHintRequest=u.InlineValueRefreshRequest=u.InlineValueRequest=u.TypeHierarchySupertypesRequest=u.TypeHierarchySubtypesRequest=u.TypeHierarchyPrepareRequest=void 0;var S=ge(),ru=Pr(),ke=Cr(),zf=Sa();Object.defineProperty(u,"ImplementationRequest",{enumerable:!0,get:function(){return zf.ImplementationRequest}});var Bf=Oa();Object.defineProperty(u,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Bf.TypeDefinitionRequest}});var dl=Ma();Object.defineProperty(u,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return dl.WorkspaceFoldersRequest}});Object.defineProperty(u,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return dl.DidChangeWorkspaceFoldersNotification}});var Vf=Fa();Object.defineProperty(u,"ConfigurationRequest",{enumerable:!0,get:function(){return Vf.ConfigurationRequest}});var fl=Wa();Object.defineProperty(u,"DocumentColorRequest",{enumerable:!0,get:function(){return fl.DocumentColorRequest}});Object.defineProperty(u,"ColorPresentationRequest",{enumerable:!0,get:function(){return fl.ColorPresentationRequest}});var hl=Ua();Object.defineProperty(u,"FoldingRangeRequest",{enumerable:!0,get:function(){return hl.FoldingRangeRequest}});Object.defineProperty(u,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return hl.FoldingRangeRefreshRequest}});var Jf=Va();Object.defineProperty(u,"DeclarationRequest",{enumerable:!0,get:function(){return Jf.DeclarationRequest}});var Gf=Xa();Object.defineProperty(u,"SelectionRangeRequest",{enumerable:!0,get:function(){return Gf.SelectionRangeRequest}});var Go=Za();Object.defineProperty(u,"WorkDoneProgress",{enumerable:!0,get:function(){return Go.WorkDoneProgress}});Object.defineProperty(u,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Go.WorkDoneProgressCreateRequest}});Object.defineProperty(u,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Go.WorkDoneProgressCancelNotification}});var Xo=rc();Object.defineProperty(u,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Xo.CallHierarchyIncomingCallsRequest}});Object.defineProperty(u,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Xo.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(u,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Xo.CallHierarchyPrepareRequest}});var hn=uc();Object.defineProperty(u,"TokenFormat",{enumerable:!0,get:function(){return hn.TokenFormat}});Object.defineProperty(u,"SemanticTokensRequest",{enumerable:!0,get:function(){return hn.SemanticTokensRequest}});Object.defineProperty(u,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return hn.SemanticTokensDeltaRequest}});Object.defineProperty(u,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return hn.SemanticTokensRangeRequest}});Object.defineProperty(u,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return hn.SemanticTokensRefreshRequest}});Object.defineProperty(u,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return hn.SemanticTokensRegistrationType}});var Xf=fc();Object.defineProperty(u,"ShowDocumentRequest",{enumerable:!0,get:function(){return Xf.ShowDocumentRequest}});var Qf=mc();Object.defineProperty(u,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Qf.LinkedEditingRangeRequest}});var At=wc();Object.defineProperty(u,"FileOperationPatternKind",{enumerable:!0,get:function(){return At.FileOperationPatternKind}});Object.defineProperty(u,"DidCreateFilesNotification",{enumerable:!0,get:function(){return At.DidCreateFilesNotification}});Object.defineProperty(u,"WillCreateFilesRequest",{enumerable:!0,get:function(){return At.WillCreateFilesRequest}});Object.defineProperty(u,"DidRenameFilesNotification",{enumerable:!0,get:function(){return At.DidRenameFilesNotification}});Object.defineProperty(u,"WillRenameFilesRequest",{enumerable:!0,get:function(){return At.WillRenameFilesRequest}});Object.defineProperty(u,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return At.DidDeleteFilesNotification}});Object.defineProperty(u,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return At.WillDeleteFilesRequest}});var Qo=Sc();Object.defineProperty(u,"UniquenessLevel",{enumerable:!0,get:function(){return Qo.UniquenessLevel}});Object.defineProperty(u,"MonikerKind",{enumerable:!0,get:function(){return Qo.MonikerKind}});Object.defineProperty(u,"MonikerRequest",{enumerable:!0,get:function(){return Qo.MonikerRequest}});var Yo=Nc();Object.defineProperty(u,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Yo.TypeHierarchyPrepareRequest}});Object.defineProperty(u,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Yo.TypeHierarchySubtypesRequest}});Object.defineProperty(u,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Yo.TypeHierarchySupertypesRequest}});var gl=jc();Object.defineProperty(u,"InlineValueRequest",{enumerable:!0,get:function(){return gl.InlineValueRequest}});Object.defineProperty(u,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return gl.InlineValueRefreshRequest}});var Ko=Lc();Object.defineProperty(u,"InlayHintRequest",{enumerable:!0,get:function(){return Ko.InlayHintRequest}});Object.defineProperty(u,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Ko.InlayHintResolveRequest}});Object.defineProperty(u,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Ko.InlayHintRefreshRequest}});var xn=Vc();Object.defineProperty(u,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return xn.DiagnosticServerCancellationData}});Object.defineProperty(u,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return xn.DocumentDiagnosticReportKind}});Object.defineProperty(u,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return xn.DocumentDiagnosticRequest}});Object.defineProperty(u,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return xn.WorkspaceDiagnosticRequest}});Object.defineProperty(u,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return xn.DiagnosticRefreshRequest}});var ct=Zc();Object.defineProperty(u,"NotebookCellKind",{enumerable:!0,get:function(){return ct.NotebookCellKind}});Object.defineProperty(u,"ExecutionSummary",{enumerable:!0,get:function(){return ct.ExecutionSummary}});Object.defineProperty(u,"NotebookCell",{enumerable:!0,get:function(){return ct.NotebookCell}});Object.defineProperty(u,"NotebookDocument",{enumerable:!0,get:function(){return ct.NotebookDocument}});Object.defineProperty(u,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return ct.NotebookDocumentSyncRegistrationType}});Object.defineProperty(u,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return ct.DidOpenNotebookDocumentNotification}});Object.defineProperty(u,"NotebookCellArrayChange",{enumerable:!0,get:function(){return ct.NotebookCellArrayChange}});Object.defineProperty(u,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return ct.DidChangeNotebookDocumentNotification}});Object.defineProperty(u,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return ct.DidSaveNotebookDocumentNotification}});Object.defineProperty(u,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return ct.DidCloseNotebookDocumentNotification}});var Yf=nu();Object.defineProperty(u,"InlineCompletionRequest",{enumerable:!0,get:function(){return Yf.InlineCompletionRequest}});var zo;(function(e){function t(n){let r=n;return ke.string(r)||ke.string(r.language)||ke.string(r.scheme)||ke.string(r.pattern)}e.is=t})(zo||(u.TextDocumentFilter=zo={}));var Bo;(function(e){function t(n){let r=n;return ke.objectLiteral(r)&&(ke.string(r.notebookType)||ke.string(r.scheme)||ke.string(r.pattern))}e.is=t})(Bo||(u.NotebookDocumentFilter=Bo={}));var Vo;(function(e){function t(n){let r=n;return ke.objectLiteral(r)&&(ke.string(r.notebook)||Bo.is(r.notebook))&&(r.language===void 0||ke.string(r.language))}e.is=t})(Vo||(u.NotebookCellTextDocumentFilter=Vo={}));var Jo;(function(e){function t(n){if(!Array.isArray(n))return!1;for(let r of n)if(!ke.string(r)&&!zo.is(r)&&!Vo.is(r))return!1;return!0}e.is=t})(Jo||(u.DocumentSelector=Jo={}));var iu;(function(e){e.method="client/registerCapability",e.messageDirection=S.MessageDirection.serverToClient,e.type=new S.ProtocolRequestType(e.method)})(iu||(u.RegistrationRequest=iu={}));var ou;(function(e){e.method="client/unregisterCapability",e.messageDirection=S.MessageDirection.serverToClient,e.type=new S.ProtocolRequestType(e.method)})(ou||(u.UnregistrationRequest=ou={}));var su;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(su||(u.ResourceOperationKind=su={}));var au;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(au||(u.FailureHandlingKind=au={}));var cu;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(cu||(u.PositionEncodingKind=cu={}));var uu;(function(e){function t(n){let r=n;return r&&ke.string(r.id)&&r.id.length>0}e.hasId=t})(uu||(u.StaticRegistrationOptions=uu={}));var lu;(function(e){function t(n){let r=n;return r&&(r.documentSelector===null||Jo.is(r.documentSelector))}e.is=t})(lu||(u.TextDocumentRegistrationOptions=lu={}));var du;(function(e){function t(r){let i=r;return ke.objectLiteral(i)&&(i.workDoneProgress===void 0||ke.boolean(i.workDoneProgress))}e.is=t;function n(r){let i=r;return i&&ke.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=n})(du||(u.WorkDoneProgressOptions=du={}));var fu;(function(e){e.method="initialize",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(fu||(u.InitializeRequest=fu={}));var hu;(function(e){e.unknownProtocolVersion=1})(hu||(u.InitializeErrorCodes=hu={}));var gu;(function(e){e.method="initialized",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolNotificationType(e.method)})(gu||(u.InitializedNotification=gu={}));var mu;(function(e){e.method="shutdown",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType0(e.method)})(mu||(u.ShutdownRequest=mu={}));var pu;(function(e){e.method="exit",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolNotificationType0(e.method)})(pu||(u.ExitNotification=pu={}));var yu;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolNotificationType(e.method)})(yu||(u.DidChangeConfigurationNotification=yu={}));var vu;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(vu||(u.MessageType=vu={}));var bu;(function(e){e.method="window/showMessage",e.messageDirection=S.MessageDirection.serverToClient,e.type=new S.ProtocolNotificationType(e.method)})(bu||(u.ShowMessageNotification=bu={}));var _u;(function(e){e.method="window/showMessageRequest",e.messageDirection=S.MessageDirection.serverToClient,e.type=new S.ProtocolRequestType(e.method)})(_u||(u.ShowMessageRequest=_u={}));var Du;(function(e){e.method="window/logMessage",e.messageDirection=S.MessageDirection.serverToClient,e.type=new S.ProtocolNotificationType(e.method)})(Du||(u.LogMessageNotification=Du={}));var Ru;(function(e){e.method="telemetry/event",e.messageDirection=S.MessageDirection.serverToClient,e.type=new S.ProtocolNotificationType(e.method)})(Ru||(u.TelemetryEventNotification=Ru={}));var wu;(function(e){e.None=0,e.Full=1,e.Incremental=2})(wu||(u.TextDocumentSyncKind=wu={}));var Pu;(function(e){e.method="textDocument/didOpen",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolNotificationType(e.method)})(Pu||(u.DidOpenTextDocumentNotification=Pu={}));var Cu;(function(e){function t(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}e.isIncremental=t;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}e.isFull=n})(Cu||(u.TextDocumentContentChangeEvent=Cu={}));var Tu;(function(e){e.method="textDocument/didChange",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolNotificationType(e.method)})(Tu||(u.DidChangeTextDocumentNotification=Tu={}));var ku;(function(e){e.method="textDocument/didClose",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolNotificationType(e.method)})(ku||(u.DidCloseTextDocumentNotification=ku={}));var Su;(function(e){e.method="textDocument/didSave",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolNotificationType(e.method)})(Su||(u.DidSaveTextDocumentNotification=Su={}));var qu;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(qu||(u.TextDocumentSaveReason=qu={}));var Eu;(function(e){e.method="textDocument/willSave",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolNotificationType(e.method)})(Eu||(u.WillSaveTextDocumentNotification=Eu={}));var Ou;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(Ou||(u.WillSaveTextDocumentWaitUntilRequest=Ou={}));var Nu;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolNotificationType(e.method)})(Nu||(u.DidChangeWatchedFilesNotification=Nu={}));var xu;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(xu||(u.FileChangeType=xu={}));var Mu;(function(e){function t(n){let r=n;return ke.objectLiteral(r)&&(ru.URI.is(r.baseUri)||ru.WorkspaceFolder.is(r.baseUri))&&ke.string(r.pattern)}e.is=t})(Mu||(u.RelativePattern=Mu={}));var ju;(function(e){e.Create=1,e.Change=2,e.Delete=4})(ju||(u.WatchKind=ju={}));var Iu;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=S.MessageDirection.serverToClient,e.type=new S.ProtocolNotificationType(e.method)})(Iu||(u.PublishDiagnosticsNotification=Iu={}));var Fu;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(Fu||(u.CompletionTriggerKind=Fu={}));var Au;(function(e){e.method="textDocument/completion",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(Au||(u.CompletionRequest=Au={}));var Lu;(function(e){e.method="completionItem/resolve",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(Lu||(u.CompletionResolveRequest=Lu={}));var Wu;(function(e){e.method="textDocument/hover",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(Wu||(u.HoverRequest=Wu={}));var Hu;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(Hu||(u.SignatureHelpTriggerKind=Hu={}));var $u;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})($u||(u.SignatureHelpRequest=$u={}));var Uu;(function(e){e.method="textDocument/definition",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(Uu||(u.DefinitionRequest=Uu={}));var zu;(function(e){e.method="textDocument/references",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(zu||(u.ReferencesRequest=zu={}));var Bu;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(Bu||(u.DocumentHighlightRequest=Bu={}));var Vu;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(Vu||(u.DocumentSymbolRequest=Vu={}));var Ju;(function(e){e.method="textDocument/codeAction",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(Ju||(u.CodeActionRequest=Ju={}));var Gu;(function(e){e.method="codeAction/resolve",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(Gu||(u.CodeActionResolveRequest=Gu={}));var Xu;(function(e){e.method="workspace/symbol",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(Xu||(u.WorkspaceSymbolRequest=Xu={}));var Qu;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(Qu||(u.WorkspaceSymbolResolveRequest=Qu={}));var Yu;(function(e){e.method="textDocument/codeLens",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(Yu||(u.CodeLensRequest=Yu={}));var Ku;(function(e){e.method="codeLens/resolve",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(Ku||(u.CodeLensResolveRequest=Ku={}));var Zu;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=S.MessageDirection.serverToClient,e.type=new S.ProtocolRequestType0(e.method)})(Zu||(u.CodeLensRefreshRequest=Zu={}));var el;(function(e){e.method="textDocument/documentLink",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(el||(u.DocumentLinkRequest=el={}));var tl;(function(e){e.method="documentLink/resolve",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(tl||(u.DocumentLinkResolveRequest=tl={}));var nl;(function(e){e.method="textDocument/formatting",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(nl||(u.DocumentFormattingRequest=nl={}));var rl;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(rl||(u.DocumentRangeFormattingRequest=rl={}));var il;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(il||(u.DocumentRangesFormattingRequest=il={}));var ol;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(ol||(u.DocumentOnTypeFormattingRequest=ol={}));var sl;(function(e){e.Identifier=1})(sl||(u.PrepareSupportDefaultBehavior=sl={}));var al;(function(e){e.method="textDocument/rename",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(al||(u.RenameRequest=al={}));var cl;(function(e){e.method="textDocument/prepareRename",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(cl||(u.PrepareRenameRequest=cl={}));var ul;(function(e){e.method="workspace/executeCommand",e.messageDirection=S.MessageDirection.clientToServer,e.type=new S.ProtocolRequestType(e.method)})(ul||(u.ExecuteCommandRequest=ul={}));var ll;(function(e){e.method="workspace/applyEdit",e.messageDirection=S.MessageDirection.serverToClient,e.type=new S.ProtocolRequestType("workspace/applyEdit")})(ll||(u.ApplyWorkspaceEditRequest=ll={}))});var yl=M(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.createProtocolConnection=void 0;var pl=Ft();function Kf(e,t,n,r){return pl.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,pl.createMessageConnection)(e,t,n,r)}Wr.createProtocolConnection=Kf});var bl=M(Ae=>{"use strict";var Zf=Ae&&Ae.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Hr=Ae&&Ae.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Zf(t,e,n)};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.LSPErrorCodes=Ae.createProtocolConnection=void 0;Hr(Ft(),Ae);Hr(Pr(),Ae);Hr(ge(),Ae);Hr(ml(),Ae);var eh=yl();Object.defineProperty(Ae,"createProtocolConnection",{enumerable:!0,get:function(){return eh.createProtocolConnection}});var vl;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(vl||(Ae.LSPErrorCodes=vl={}))});var _e=M(ut=>{"use strict";var th=ut&&ut.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),_l=ut&&ut.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&th(t,e,n)};Object.defineProperty(ut,"__esModule",{value:!0});ut.createProtocolConnection=void 0;var nh=Io();_l(Io(),ut);_l(bl(),ut);function rh(e,t,n,r){return(0,nh.createMessageConnection)(e,t,n,r)}ut.createProtocolConnection=rh});var Zo=M(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.generateUuid=Xe.parse=Xe.isUUID=Xe.v4=Xe.empty=void 0;var Mn=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},jn=class e extends Mn{static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}};jn._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];jn._timeHighBits=["8","9","a","b"];Xe.empty=new Mn("00000000-0000-0000-0000-000000000000");function Dl(){return new jn}Xe.v4=Dl;var ih=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Rl(e){return ih.test(e)}Xe.isUUID=Rl;function oh(e){if(!Rl(e))throw new Error("invalid uuid");return new Mn(e)}Xe.parse=oh;function sh(){return Dl().asHex()}Xe.generateUuid=sh});var wl=M(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.attachPartialResult=St.ProgressFeature=St.attachWorkDone=void 0;var kt=_e(),ah=Zo(),Lt=class e{constructor(t,n){this._connection=t,this._token=n,e.Instances.set(this._token,this)}begin(t,n,r,i){let a={kind:"begin",title:t,percentage:n,message:r,cancellable:i};this._connection.sendProgress(kt.WorkDoneProgress.type,this._token,a)}report(t,n){let r={kind:"report"};typeof t=="number"?(r.percentage=t,n!==void 0&&(r.message=n)):r.message=t,this._connection.sendProgress(kt.WorkDoneProgress.type,this._token,r)}done(){e.Instances.delete(this._token),this._connection.sendProgress(kt.WorkDoneProgress.type,this._token,{kind:"end"})}};Lt.Instances=new Map;var $r=class extends Lt{constructor(t,n){super(t,n),this._source=new kt.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},In=class{constructor(){}begin(){}report(){}done(){}},Ur=class extends In{constructor(){super(),this._source=new kt.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function ch(e,t){if(t===void 0||t.workDoneToken===void 0)return new In;let n=t.workDoneToken;return delete t.workDoneToken,new Lt(e,n)}St.attachWorkDone=ch;var uh=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(kt.WorkDoneProgressCancelNotification.type,n=>{let r=Lt.Instances.get(n.token);(r instanceof $r||r instanceof Ur)&&r.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new In:new Lt(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,ah.generateUuid)();return this.connection.sendRequest(kt.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new $r(this.connection,t))}else return Promise.resolve(new Ur)}};St.ProgressFeature=uh;var es;(function(e){e.type=new kt.ProgressType})(es||(es={}));var ts=class{constructor(t,n){this._connection=t,this._token=n}report(t){this._connection.sendProgress(es.type,this._token,t)}};function lh(e,t){if(t===void 0||t.partialResultToken===void 0)return;let n=t.partialResultToken;return delete t.partialResultToken,new ts(e,n)}St.attachPartialResult=lh});var Pl=M(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.ConfigurationFeature=void 0;var dh=_e(),fh=tr(),hh=e=>class extends e{getConfiguration(t){return t?fh.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let n={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(dh.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(t)?r:r[0]:Array.isArray(t)?[]:null)}};zr.ConfigurationFeature=hh});var Cl=M(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.WorkspaceFoldersFeature=void 0;var Br=_e(),gh=e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let n=t.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Br.Emitter,this.connection.onNotification(Br.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let n=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(Br.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(Br.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Vr.WorkspaceFoldersFeature=gh});var Tl=M(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.CallHierarchyFeature=void 0;var ns=_e(),mh=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest(ns.CallHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:t=>{let n=ns.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:t=>{let n=ns.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Jr.CallHierarchyFeature=mh});var is=M(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.SemanticTokensBuilder=qt.SemanticTokensDiff=qt.SemanticTokensFeature=void 0;var Gr=_e(),ph=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Gr.SemanticTokensRefreshRequest.type),on:t=>{let n=Gr.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:t=>{let n=Gr.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:t=>{let n=Gr.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};qt.SemanticTokensFeature=ph;var Xr=class{constructor(t,n){this.originalSequence=t,this.modifiedSequence=n}computeDiff(){let t=this.originalSequence.length,n=this.modifiedSequence.length,r=0;for(;r<n&&r<t&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<t){let i=t-1,a=n-1;for(;i>=r&&a>=r&&this.originalSequence[i]===this.modifiedSequence[a];)i--,a--;(i<r||a<r)&&(i++,a++);let h=i-r+1,p=this.modifiedSequence.slice(r,a+1);return p.length===1&&p[0]===this.originalSequence[i]?[{start:r,deleteCount:h-1}]:[{start:r,deleteCount:h,data:p}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<t?[{start:r,deleteCount:t-r}]:[]}};qt.SemanticTokensDiff=Xr;var rs=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,i,a){let h=t,p=n;this._dataLen>0&&(h-=this._prevLine,h===0&&(p-=this._prevChar)),this._data[this._dataLen++]=h,this._data[this._dataLen++]=p,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=a,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new Xr(this._prevData,this._data).computeDiff()}:this.build()}};qt.SemanticTokensBuilder=rs});var kl=M(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.ShowDocumentFeature=void 0;var yh=_e(),vh=e=>class extends e{showDocument(t){return this.connection.sendRequest(yh.ShowDocumentRequest.type,t)}};Qr.ShowDocumentFeature=vh});var Sl=M(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.FileOperationsFeature=void 0;var gn=_e(),bh=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(gn.DidCreateFilesNotification.type,n=>{t(n)})}onDidRenameFiles(t){return this.connection.onNotification(gn.DidRenameFilesNotification.type,n=>{t(n)})}onDidDeleteFiles(t){return this.connection.onNotification(gn.DidDeleteFilesNotification.type,n=>{t(n)})}onWillCreateFiles(t){return this.connection.onRequest(gn.WillCreateFilesRequest.type,(n,r)=>t(n,r))}onWillRenameFiles(t){return this.connection.onRequest(gn.WillRenameFilesRequest.type,(n,r)=>t(n,r))}onWillDeleteFiles(t){return this.connection.onRequest(gn.WillDeleteFilesRequest.type,(n,r)=>t(n,r))}};Yr.FileOperationsFeature=bh});var ql=M(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.LinkedEditingRangeFeature=void 0;var _h=_e(),Dh=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(_h.LinkedEditingRangeRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))}};Kr.LinkedEditingRangeFeature=Dh});var El=M(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.TypeHierarchyFeature=void 0;var os=_e(),Rh=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(os.TypeHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:t=>{let n=os.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:t=>{let n=os.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Zr.TypeHierarchyFeature=Rh});var Nl=M(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.InlineValueFeature=void 0;var Ol=_e(),wh=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(Ol.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(Ol.InlineValueRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};ei.InlineValueFeature=wh});var Ml=M(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.FoldingRangeFeature=void 0;var xl=_e(),Ph=e=>class extends e{get foldingRange(){return{refresh:()=>this.connection.sendRequest(xl.FoldingRangeRefreshRequest.type),on:t=>{let n=xl.FoldingRangeRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};ti.FoldingRangeFeature=Ph});var jl=M(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.InlayHintFeature=void 0;var ss=_e(),Ch=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(ss.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(ss.InlayHintRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n))),resolve:t=>this.connection.onRequest(ss.InlayHintResolveRequest.type,(n,r)=>t(n,r))}}};ni.InlayHintFeature=Ch});var Il=M(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.DiagnosticFeature=void 0;var Fn=_e(),Th=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Fn.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(Fn.DocumentDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Fn.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:t=>this.connection.onRequest(Fn.WorkspaceDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Fn.WorkspaceDiagnosticRequest.partialResult,n)))}}};ri.DiagnosticFeature=Th});var cs=M(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.TextDocuments=void 0;var Wt=_e(),as=class{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new Wt.Emitter,this._onDidOpen=new Wt.Emitter,this._onDidClose=new Wt.Emitter,this._onDidSave=new Wt.Emitter,this._onWillSave=new Wt.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=Wt.TextDocumentSyncKind.Incremental;let n=[];return n.push(t.onDidOpenTextDocument(r=>{let i=r.textDocument,a=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,a);let h=Object.freeze({document:a});this._onDidOpen.fire(h),this._onDidChangeContent.fire(h)})),n.push(t.onDidChangeTextDocument(r=>{let i=r.textDocument,a=r.contentChanges;if(a.length===0)return;let{version:h}=i;if(h==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let p=this._syncedDocuments.get(i.uri);p!==void 0&&(p=this._configuration.update(p,a,h),this._syncedDocuments.set(i.uri,p),this._onDidChangeContent.fire(Object.freeze({document:p})))})),n.push(t.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(t.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(t.onWillSaveTextDocumentWaitUntil((r,i)=>{let a=this._syncedDocuments.get(r.textDocument.uri);return a!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:a,reason:r.reason}),i):[]})),n.push(t.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),Wt.Disposable.create(()=>{n.forEach(r=>r.dispose())})}};ii.TextDocuments=as});var ls=M(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.NotebookDocuments=mn.NotebookSyncFeature=void 0;var Qe=_e(),Fl=cs(),kh=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(Qe.DidOpenNotebookDocumentNotification.type,n=>{t(n)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(Qe.DidChangeNotebookDocumentNotification.type,n=>{t(n)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(Qe.DidSaveNotebookDocumentNotification.type,n=>{t(n)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(Qe.DidCloseNotebookDocumentNotification.type,n=>{t(n)})}}};mn.NotebookSyncFeature=kh;var oi=class e{onDidOpenTextDocument(t){return this.openHandler=t,Qe.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,Qe.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,Qe.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};oi.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var us=class{constructor(t){t instanceof Fl.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new Fl.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Qe.Emitter,this._onDidChange=new Qe.Emitter,this._onDidSave=new Qe.Emitter,this._onDidClose=new Qe.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let n=this.notebookCellMap.get(t);return n&&n[0]}findNotebookDocumentForCell(t){let n=typeof t=="string"?t:t.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let n=new oi,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let a of i.cellTextDocuments)n.openTextDocument({textDocument:a});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let a=this.notebookDocuments.get(i.notebookDocument.uri);if(a===void 0)return;a.version=i.notebookDocument.version;let h=a.metadata,p=!1,m=i.change;m.metadata!==void 0&&(p=!0,a.metadata=m.metadata);let g=[],D=[],w=[],k=[];if(m.cells!==void 0){let W=m.cells;if(W.structure!==void 0){let _=W.structure.array;if(a.cells.splice(_.start,_.deleteCount,..._.cells!==void 0?_.cells:[]),W.structure.didOpen!==void 0)for(let y of W.structure.didOpen)n.openTextDocument({textDocument:y}),g.push(y.uri);if(W.structure.didClose)for(let y of W.structure.didClose)n.closeTextDocument({textDocument:y}),D.push(y.uri)}if(W.data!==void 0){let _=new Map(W.data.map(y=>[y.document,y]));for(let y=0;y<=a.cells.length;y++){let q=_.get(a.cells[y].document);if(q!==void 0){let U=a.cells.splice(y,1,q);if(w.push({old:U[0],new:q}),_.delete(q.document),_.size===0)break}}}if(W.textContent!==void 0)for(let _ of W.textContent)n.changeTextDocument({textDocument:_.document,contentChanges:_.changes}),k.push(_.document.uri)}this.updateCellMap(a);let O={notebookDocument:a};p&&(O.metadata={old:h,new:a.metadata});let L=[];for(let W of g)L.push(this.getNotebookCell(W));let F=[];for(let W of D)F.push(this.getNotebookCell(W));let G=[];for(let W of k)G.push(this.getNotebookCell(W));(L.length>0||F.length>0||w.length>0||G.length>0)&&(O.cells={added:L,removed:F,changed:{data:w,textContent:G}}),(O.metadata!==void 0||O.cells!==void 0)&&this._onDidChange.fire(O)})),r.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let a=this.notebookDocuments.get(i.notebookDocument.uri);a!==void 0&&this._onDidSave.fire(a)})),r.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let a=this.notebookDocuments.get(i.notebookDocument.uri);if(a!==void 0){this._onDidClose.fire(a);for(let h of i.cellTextDocuments)n.closeTextDocument({textDocument:h});this.notebookDocuments.delete(i.notebookDocument.uri);for(let h of a.cells)this.notebookCellMap.delete(h.document)}})),Qe.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(t){for(let n of t.cells)this.notebookCellMap.set(n.document,[n,t])}};mn.NotebookDocuments=us});var Al=M(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.MonikerFeature=void 0;var Sh=_e(),qh=e=>class extends e{get moniker(){return{on:t=>{let n=Sh.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};si.MonikerFeature=qh});var ps=M(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.createConnection=ee.combineFeatures=ee.combineNotebooksFeatures=ee.combineLanguagesFeatures=ee.combineWorkspaceFeatures=ee.combineWindowFeatures=ee.combineClientFeatures=ee.combineTracerFeatures=ee.combineTelemetryFeatures=ee.combineConsoleFeatures=ee._NotebooksImpl=ee._LanguagesImpl=ee.BulkUnregistration=ee.BulkRegistration=ee.ErrorMessageTracker=void 0;var N=_e(),Ye=tr(),fs=Zo(),B=wl(),Eh=Pl(),Oh=Cl(),Nh=Tl(),xh=is(),Mh=kl(),jh=Sl(),Ih=ql(),Fh=El(),Ah=Nl(),Lh=Ml(),Wh=jl(),Hh=Il(),$h=ls(),Uh=Al();function ds(e){if(e!==null)return e}var hs=class{constructor(){this._messages=Object.create(null)}add(t){let n=this._messages[t];n||(n=0),n++,this._messages[t]=n}sendErrors(t){Object.keys(this._messages).forEach(n=>{t.window.showErrorMessage(n)})}};ee.ErrorMessageTracker=hs;var ai=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(N.MessageType.Error,t)}warn(t){this.send(N.MessageType.Warning,t)}info(t){this.send(N.MessageType.Info,t)}log(t){this.send(N.MessageType.Log,t)}debug(t){this.send(N.MessageType.Debug,t)}send(t,n){this._rawConnection&&this._rawConnection.sendNotification(N.LogMessageNotification.type,{type:t,message:n}).catch(()=>{(0,N.RAL)().console.error("Sending log message failed")})}},gs=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...n){let r={type:N.MessageType.Error,message:t,actions:n};return this.connection.sendRequest(N.ShowMessageRequest.type,r).then(ds)}showWarningMessage(t,...n){let r={type:N.MessageType.Warning,message:t,actions:n};return this.connection.sendRequest(N.ShowMessageRequest.type,r).then(ds)}showInformationMessage(t,...n){let r={type:N.MessageType.Info,message:t,actions:n};return this.connection.sendRequest(N.ShowMessageRequest.type,r).then(ds)}},Ll=(0,Mh.ShowDocumentFeature)((0,B.ProgressFeature)(gs)),Wl;(function(e){function t(){return new ci}e.create=t})(Wl||(ee.BulkRegistration=Wl={}));var ci=class{constructor(){this._registrations=[],this._registered=new Set}add(t,n){let r=Ye.string(t)?t:t.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=fs.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},Hl;(function(e){function t(){return new An(void 0,[])}e.create=t})(Hl||(ee.BulkUnregistration=Hl={}));var An=class{constructor(t,n){this._connection=t,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let r of this._unregistrations.values())t.push(r);let n={unregisterations:t};this._connection.sendRequest(N.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let n=Ye.string(t)?t:t.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(N.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},a=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},ui=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,n,r){return t instanceof ci?this.registerMany(t):t instanceof An?this.registerSingle1(t,n,r):this.registerSingle2(t,n)}registerSingle1(t,n,r){let i=Ye.string(n)?n:n.method,a=fs.generateUuid(),h={registrations:[{id:a,method:i,registerOptions:r||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(N.RegistrationRequest.type,h).then(p=>(t.add({id:a,method:i}),t),p=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(p)))}registerSingle2(t,n){let r=Ye.string(t)?t:t.method,i=fs.generateUuid(),a={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(N.RegistrationRequest.type,a).then(h=>N.Disposable.create(()=>{this.unregisterSingle(i,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),h=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(h)))}unregisterSingle(t,n){let r={unregisterations:[{id:t,method:n}]};return this.connection.sendRequest(N.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let n=t.asRegistrationParams();return this.connection.sendRequest(N.RegistrationRequest.type,n).then(()=>new An(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},ms=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function n(i){return i&&!!i.edit}let r=n(t)?t:{edit:t};return this.connection.sendRequest(N.ApplyWorkspaceEditRequest.type,r)}},$l=(0,jh.FileOperationsFeature)((0,Oh.WorkspaceFoldersFeature)((0,Eh.ConfigurationFeature)(ms))),li=class{constructor(){this._trace=N.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,n){this._trace!==N.Trace.Off&&this.connection.sendNotification(N.LogTraceNotification.type,{message:t,verbose:this._trace===N.Trace.Verbose?n:void 0}).catch(()=>{})}},di=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(N.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},fi=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,B.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,B.attachPartialResult)(this.connection,n)}};ee._LanguagesImpl=fi;var Ul=(0,Lh.FoldingRangeFeature)((0,Uh.MonikerFeature)((0,Hh.DiagnosticFeature)((0,Wh.InlayHintFeature)((0,Ah.InlineValueFeature)((0,Fh.TypeHierarchyFeature)((0,Ih.LinkedEditingRangeFeature)((0,xh.SemanticTokensFeature)((0,Nh.CallHierarchyFeature)(fi))))))))),hi=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,B.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,B.attachPartialResult)(this.connection,n)}};ee._NotebooksImpl=hi;var zl=(0,$h.NotebookSyncFeature)(hi);function Bl(e,t){return function(n){return t(e(n))}}ee.combineConsoleFeatures=Bl;function Vl(e,t){return function(n){return t(e(n))}}ee.combineTelemetryFeatures=Vl;function Jl(e,t){return function(n){return t(e(n))}}ee.combineTracerFeatures=Jl;function Gl(e,t){return function(n){return t(e(n))}}ee.combineClientFeatures=Gl;function Xl(e,t){return function(n){return t(e(n))}}ee.combineWindowFeatures=Xl;function Ql(e,t){return function(n){return t(e(n))}}ee.combineWorkspaceFeatures=Ql;function Yl(e,t){return function(n){return t(e(n))}}ee.combineLanguagesFeatures=Yl;function Kl(e,t){return function(n){return t(e(n))}}ee.combineNotebooksFeatures=Kl;function zh(e,t){function n(i,a,h){return i&&a?h(i,a):i||a}return{__brand:"features",console:n(e.console,t.console,Bl),tracer:n(e.tracer,t.tracer,Jl),telemetry:n(e.telemetry,t.telemetry,Vl),client:n(e.client,t.client,Gl),window:n(e.window,t.window,Xl),workspace:n(e.workspace,t.workspace,Ql),languages:n(e.languages,t.languages,Yl),notebooks:n(e.notebooks,t.notebooks,Kl)}}ee.combineFeatures=zh;function Bh(e,t,n){let r=n&&n.console?new(n.console(ai)):new ai,i=e(r);r.rawAttach(i);let a=n&&n.tracer?new(n.tracer(li)):new li,h=n&&n.telemetry?new(n.telemetry(di)):new di,p=n&&n.client?new(n.client(ui)):new ui,m=n&&n.window?new(n.window(Ll)):new Ll,g=n&&n.workspace?new(n.workspace($l)):new $l,D=n&&n.languages?new(n.languages(Ul)):new Ul,w=n&&n.notebooks?new(n.notebooks(zl)):new zl,k=[r,a,h,p,m,g,D,w];function O(_){return _ instanceof Promise?_:Ye.thenable(_)?new Promise((y,q)=>{_.then(U=>y(U),U=>q(U))}):Promise.resolve(_)}let L,F,G,W={listen:()=>i.listen(),sendRequest:(_,...y)=>i.sendRequest(Ye.string(_)?_:_.method,...y),onRequest:(_,y)=>i.onRequest(_,y),sendNotification:(_,y)=>{let q=Ye.string(_)?_:_.method;return i.sendNotification(q,y)},onNotification:(_,y)=>i.onNotification(_,y),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:_=>(F=_,{dispose:()=>{F=void 0}}),onInitialized:_=>i.onNotification(N.InitializedNotification.type,_),onShutdown:_=>(L=_,{dispose:()=>{L=void 0}}),onExit:_=>(G=_,{dispose:()=>{G=void 0}}),get console(){return r},get telemetry(){return h},get tracer(){return a},get client(){return p},get window(){return m},get workspace(){return g},get languages(){return D},get notebooks(){return w},onDidChangeConfiguration:_=>i.onNotification(N.DidChangeConfigurationNotification.type,_),onDidChangeWatchedFiles:_=>i.onNotification(N.DidChangeWatchedFilesNotification.type,_),__textDocumentSync:void 0,onDidOpenTextDocument:_=>i.onNotification(N.DidOpenTextDocumentNotification.type,_),onDidChangeTextDocument:_=>i.onNotification(N.DidChangeTextDocumentNotification.type,_),onDidCloseTextDocument:_=>i.onNotification(N.DidCloseTextDocumentNotification.type,_),onWillSaveTextDocument:_=>i.onNotification(N.WillSaveTextDocumentNotification.type,_),onWillSaveTextDocumentWaitUntil:_=>i.onRequest(N.WillSaveTextDocumentWaitUntilRequest.type,_),onDidSaveTextDocument:_=>i.onNotification(N.DidSaveTextDocumentNotification.type,_),sendDiagnostics:_=>i.sendNotification(N.PublishDiagnosticsNotification.type,_),onHover:_=>i.onRequest(N.HoverRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),void 0)),onCompletion:_=>i.onRequest(N.CompletionRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onCompletionResolve:_=>i.onRequest(N.CompletionResolveRequest.type,_),onSignatureHelp:_=>i.onRequest(N.SignatureHelpRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),void 0)),onDeclaration:_=>i.onRequest(N.DeclarationRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onDefinition:_=>i.onRequest(N.DefinitionRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onTypeDefinition:_=>i.onRequest(N.TypeDefinitionRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onImplementation:_=>i.onRequest(N.ImplementationRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onReferences:_=>i.onRequest(N.ReferencesRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onDocumentHighlight:_=>i.onRequest(N.DocumentHighlightRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onDocumentSymbol:_=>i.onRequest(N.DocumentSymbolRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onWorkspaceSymbol:_=>i.onRequest(N.WorkspaceSymbolRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onWorkspaceSymbolResolve:_=>i.onRequest(N.WorkspaceSymbolResolveRequest.type,_),onCodeAction:_=>i.onRequest(N.CodeActionRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onCodeActionResolve:_=>i.onRequest(N.CodeActionResolveRequest.type,(y,q)=>_(y,q)),onCodeLens:_=>i.onRequest(N.CodeLensRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onCodeLensResolve:_=>i.onRequest(N.CodeLensResolveRequest.type,(y,q)=>_(y,q)),onDocumentFormatting:_=>i.onRequest(N.DocumentFormattingRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),void 0)),onDocumentRangeFormatting:_=>i.onRequest(N.DocumentRangeFormattingRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),void 0)),onDocumentOnTypeFormatting:_=>i.onRequest(N.DocumentOnTypeFormattingRequest.type,(y,q)=>_(y,q)),onRenameRequest:_=>i.onRequest(N.RenameRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),void 0)),onPrepareRename:_=>i.onRequest(N.PrepareRenameRequest.type,(y,q)=>_(y,q)),onDocumentLinks:_=>i.onRequest(N.DocumentLinkRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onDocumentLinkResolve:_=>i.onRequest(N.DocumentLinkResolveRequest.type,(y,q)=>_(y,q)),onDocumentColor:_=>i.onRequest(N.DocumentColorRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onColorPresentation:_=>i.onRequest(N.ColorPresentationRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onFoldingRanges:_=>i.onRequest(N.FoldingRangeRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onSelectionRanges:_=>i.onRequest(N.SelectionRangeRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),(0,B.attachPartialResult)(i,y))),onExecuteCommand:_=>i.onRequest(N.ExecuteCommandRequest.type,(y,q)=>_(y,q,(0,B.attachWorkDone)(i,y),void 0)),dispose:()=>i.dispose()};for(let _ of k)_.attach(W);return i.onRequest(N.InitializeRequest.type,_=>{t.initialize(_),Ye.string(_.trace)&&(a.trace=N.Trace.fromString(_.trace));for(let y of k)y.initialize(_.capabilities);if(F){let y=F(_,new N.CancellationTokenSource().token,(0,B.attachWorkDone)(i,_),void 0);return O(y).then(q=>{if(q instanceof N.ResponseError)return q;let U=q;U||(U={capabilities:{}});let te=U.capabilities;te||(te={},U.capabilities=te),te.textDocumentSync===void 0||te.textDocumentSync===null?te.textDocumentSync=Ye.number(W.__textDocumentSync)?W.__textDocumentSync:N.TextDocumentSyncKind.None:!Ye.number(te.textDocumentSync)&&!Ye.number(te.textDocumentSync.change)&&(te.textDocumentSync.change=Ye.number(W.__textDocumentSync)?W.__textDocumentSync:N.TextDocumentSyncKind.None);for(let le of k)le.fillServerCapabilities(te);return U})}else{let y={capabilities:{textDocumentSync:N.TextDocumentSyncKind.None}};for(let q of k)q.fillServerCapabilities(y.capabilities);return y}}),i.onRequest(N.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,L)return L(new N.CancellationTokenSource().token)}),i.onNotification(N.ExitNotification.type,()=>{try{G&&G()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(N.SetTraceNotification.type,_=>{a.trace=N.Trace.fromString(_.value)}),W}ee.createConnection=Bh});var Zl=M(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.resolveModulePath=Le.FileSystem=Le.resolveGlobalYarnPath=Le.resolveGlobalNodePath=Le.resolve=Le.uriToFilePath=void 0;var Vh=require("url"),ot=require("path"),ys=require("fs"),Ds=require("child_process");function Jh(e){let t=Vh.parse(e);if(t.protocol!=="file:"||!t.path)return;let n=t.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let a=n[0],h=n[1];a.length===0&&h.length>1&&h[1]===":"&&n.shift()}return ot.normalize(n.join("/"))}Le.uriToFilePath=Jh;function vs(){return process.platform==="win32"}function gi(e,t,n,r){let i="NODE_PATH",a=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((h,p)=>{let m=process.env,g=Object.create(null);Object.keys(m).forEach(D=>g[D]=m[D]),t&&ys.existsSync(t)&&(g[i]?g[i]=t+ot.delimiter+g[i]:g[i]=t,r&&r(`NODE_PATH value is: ${g[i]}`)),g.ELECTRON_RUN_AS_NODE="1";try{let D=(0,Ds.fork)("",[],{cwd:n,env:g,execArgv:["-e",a]});if(D.pid===void 0){p(new Error(`Starting process to resolve node module  ${e} failed`));return}D.on("error",k=>{p(k)}),D.on("message",k=>{k.c==="r"&&(D.send({c:"e"}),k.s?h(k.r):p(new Error(`Failed to resolve module: ${e}`)))});let w={c:"rs",a:e};D.send(w)}catch(D){p(D)}})}Le.resolve=gi;function bs(e){let t="npm",n=Object.create(null);Object.keys(process.env).forEach(a=>n[a]=process.env[a]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};vs()&&(t="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let a=(0,Ds.spawnSync)(t,["config","get","prefix"],r).stdout;if(!a){e&&e("'npm config get prefix' didn't return a value.");return}let h=a.trim();return e&&e(`'npm config get prefix' value is: ${h}`),h.length>0?vs()?ot.join(h,"node_modules"):ot.join(h,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}Le.resolveGlobalNodePath=bs;function Gh(e){let t="yarn",n={encoding:"utf8"};vs()&&(t="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=(0,Ds.spawnSync)(t,["global","dir","--json"],n),a=i.stdout;if(!a){e&&(e("'yarn global dir' didn't return a value."),i.stderr&&e(i.stderr));return}let h=a.trim().split(/\r?\n/);for(let p of h)try{let m=JSON.parse(p);if(m.type==="log")return ot.join(m.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}Le.resolveGlobalYarnPath=Gh;var _s;(function(e){let t;function n(){return t!==void 0||(process.platform==="win32"?t=!1:t=!ys.existsSync(__filename.toUpperCase())||!ys.existsSync(__filename.toLowerCase())),t}e.isCaseSensitive=n;function r(i,a){return n()?ot.normalize(a).indexOf(ot.normalize(i))===0:ot.normalize(a).toLowerCase().indexOf(ot.normalize(i).toLowerCase())===0}e.isParent=r})(_s||(Le.FileSystem=_s={}));function Xh(e,t,n,r){return n?(ot.isAbsolute(n)||(n=ot.join(e,n)),gi(t,n,n,r).then(i=>_s.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${t} from node path location.`))).then(void 0,i=>gi(t,bs(r),e,r))):gi(t,bs(r),e,r)}Le.resolveModulePath=Xh});var Rs=M((sp,ed)=>{"use strict";ed.exports=_e()});var td=M(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.InlineCompletionFeature=void 0;var Qh=_e(),Yh=e=>class extends e{get inlineCompletion(){return{on:t=>this.connection.onRequest(Qh.InlineCompletionRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};mi.InlineCompletionFeature=Yh});var id=M(Me=>{"use strict";var Kh=Me&&Me.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),rd=Me&&Me.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Kh(t,e,n)};Object.defineProperty(Me,"__esModule",{value:!0});Me.ProposedFeatures=Me.NotebookDocuments=Me.TextDocuments=Me.SemanticTokensBuilder=void 0;var Zh=is();Object.defineProperty(Me,"SemanticTokensBuilder",{enumerable:!0,get:function(){return Zh.SemanticTokensBuilder}});var eg=td();rd(_e(),Me);var tg=cs();Object.defineProperty(Me,"TextDocuments",{enumerable:!0,get:function(){return tg.TextDocuments}});var ng=ls();Object.defineProperty(Me,"NotebookDocuments",{enumerable:!0,get:function(){return ng.NotebookDocuments}});rd(ps(),Me);var nd;(function(e){e.all={__brand:"features",languages:eg.InlineCompletionFeature}})(nd||(Me.ProposedFeatures=nd={}))});var ld=M(Ke=>{"use strict";var rg=Ke&&Ke.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),cd=Ke&&Ke.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&rg(t,e,n)};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.createConnection=Ke.Files=void 0;var od=require("node:util"),ws=tr(),ig=ps(),Ln=Zl(),Ht=Rs();cd(Rs(),Ke);cd(id(),Ke);var sd;(function(e){e.uriToFilePath=Ln.uriToFilePath,e.resolveGlobalNodePath=Ln.resolveGlobalNodePath,e.resolveGlobalYarnPath=Ln.resolveGlobalYarnPath,e.resolve=Ln.resolve,e.resolveModulePath=Ln.resolveModulePath})(sd||(Ke.Files=sd={}));var ad;function pi(){if(ad!==void 0)try{ad.end()}catch{}}var pn=!1,ud;function og(){let e="--clientProcessId";function t(n){try{let r=parseInt(n);isNaN(r)||(ud=setInterval(()=>{try{process.kill(r,0)}catch{pi(),process.exit(pn?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===e&&n+1<process.argv.length){t(process.argv[n+1]);return}else{let i=r.split("=");i[0]===e&&t(i[1])}}}og();var sg={initialize:e=>{let t=e.processId;ws.number(t)&&ud===void 0&&setInterval(()=>{try{process.kill(t,0)}catch{process.exit(pn?0:1)}},3e3)},get shutdownReceived(){return pn},set shutdownReceived(e){pn=e},exit:e=>{pi(),process.exit(e)}};function ag(e,t,n,r){let i,a,h,p;return e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=n,n=r),Ht.ConnectionStrategy.is(e)||Ht.ConnectionOptions.is(e)?p=e:(a=e,h=t,p=n),cg(a,h,p,i)}Ke.createConnection=ag;function cg(e,t,n,r){let i=!1;if(!e&&!t&&process.argv.length>2){let m,g,D=process.argv.slice(2);for(let w=0;w<D.length;w++){let k=D[w];if(k==="--node-ipc"){e=new Ht.IPCMessageReader(process),t=new Ht.IPCMessageWriter(process);break}else if(k==="--stdio"){i=!0,e=process.stdin,t=process.stdout;break}else if(k==="--socket"){m=parseInt(D[w+1]);break}else if(k==="--pipe"){g=D[w+1];break}else{var a=k.split("=");if(a[0]==="--socket"){m=parseInt(a[1]);break}else if(a[0]==="--pipe"){g=a[1];break}}}if(m){let w=(0,Ht.createServerSocketTransport)(m);e=w[0],t=w[1]}else if(g){let w=(0,Ht.createServerPipeTransport)(g);e=w[0],t=w[1]}}var h="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!e)throw new Error("Connection input stream is not set. "+h);if(!t)throw new Error("Connection output stream is not set. "+h);if(ws.func(e.read)&&ws.func(e.on)){let m=e;m.on("end",()=>{pi(),process.exit(pn?0:1)}),m.on("close",()=>{pi(),process.exit(pn?0:1)})}let p=m=>{let g=(0,Ht.createProtocolConnection)(e,t,m,n);return i&&ug(m),g};return(0,ig.createConnection)(p,sg,r)}function ug(e){function t(r){return r.map(i=>typeof i=="string"?i:(0,od.inspect)(i)).join(" ")}let n=new Map;console.assert=function(i,...a){if(!i)if(a.length===0)e.error("Assertion failed");else{let[h,...p]=a;e.error(`Assertion failed: ${h} ${t(p)}`)}},console.count=function(i="default"){let a=String(i),h=n.get(a)??0;h+=1,n.set(a,h),e.log(`${a}: ${a}`)},console.countReset=function(i){i===void 0?n.clear():n.delete(String(i))},console.debug=function(...i){e.log(t(i))},console.dir=function(i,a){e.log((0,od.inspect)(i,a))},console.log=function(...i){e.log(t(i))},console.error=function(...i){e.error(t(i))},console.trace=function(...i){let a=new Error().stack.replace(/(.+\n){2}/,""),h="Trace";i.length!==0&&(h+=`: ${t(i)}`),e.log(`${h}
${a}`)},console.warn=function(...i){e.warn(t(i))}}});var fd=M((dp,dd)=>{"use strict";dd.exports=ld()});var Nd=M((mp,pt)=>{var Pe=require("fs"),Es=require("os"),ze=require("path"),yd=require("crypto"),lt={fs:Pe.constants,os:Es.constants},vd="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",_d=/XXXXXX/,dg=3,Dd=(lt.O_CREAT||lt.fs.O_CREAT)|(lt.O_EXCL||lt.fs.O_EXCL)|(lt.O_RDWR||lt.fs.O_RDWR),fg=Es.platform()==="win32",hg=lt.EBADF||lt.os.errno.EBADF,gg=lt.ENOENT||lt.os.errno.ENOENT,Rd=448,wd=384,mg="exit",yn=[],Pd=Pe.rmdirSync.bind(Pe),Cd=!1;function pg(e,t){return Pe.rm(e,{recursive:!0},t)}function Td(e){return Pe.rmSync(e,{recursive:!0})}function Os(e,t){let n=vn(e,t),r=n[0],i=n[1];try{qd(r)}catch(h){return i(h)}let a=r.tries;(function h(){try{let p=Sd(r);Pe.stat(p,function(m){if(!m)return a-- >0?h():i(new Error("Could not get a unique tmp filename, max tries reached "+p));i(null,p)})}catch(p){i(p)}})()}function Ns(e){let t=vn(e),n=t[0];qd(n);let r=n.tries;do{let i=Sd(n);try{Pe.statSync(i)}catch{return i}}while(r-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function yg(e,t){let n=vn(e,t),r=n[0],i=n[1];Os(r,function(h,p){if(h)return i(h);Pe.open(p,Dd,r.mode||wd,function(g,D){if(g)return i(g);if(r.discardDescriptor)return Pe.close(D,function(k){return i(k,p,void 0,ks(p,-1,r,!1))});{let w=r.discardDescriptor||r.detachDescriptor;i(null,p,D,ks(p,w?-1:D,r,!1))}})})}function vg(e){let t=vn(e),n=t[0],r=n.discardDescriptor||n.detachDescriptor,i=Ns(n);var a=Pe.openSync(i,Dd,n.mode||wd);return n.discardDescriptor&&(Pe.closeSync(a),a=void 0),{name:i,fd:a,removeCallback:ks(i,r?-1:a,n,!0)}}function bg(e,t){let n=vn(e,t),r=n[0],i=n[1];Os(r,function(h,p){if(h)return i(h);Pe.mkdir(p,r.mode||Rd,function(g){if(g)return i(g);i(null,p,kd(p,r,!1))})})}function _g(e){let t=vn(e),n=t[0],r=Ns(n);return Pe.mkdirSync(r,n.mode||Rd),{name:r,removeCallback:kd(r,n,!0)}}function Dg(e,t){let n=function(r){if(r&&!qs(r))return t(r);t()};0<=e[0]?Pe.close(e[0],function(){Pe.unlink(e[1],n)}):Pe.unlink(e[1],n)}function Rg(e){let t=null;try{0<=e[0]&&Pe.closeSync(e[0])}catch(n){if(!Cg(n)&&!qs(n))throw n}finally{try{Pe.unlinkSync(e[1])}catch(n){qs(n)||(t=n)}}if(t!==null)throw t}function ks(e,t,n,r){let i=bi(Rg,[t,e],r),a=bi(Dg,[t,e],r,i);return n.keep||yn.unshift(i),r?i:a}function kd(e,t,n){let r=t.unsafeCleanup?pg:Pe.rmdir.bind(Pe),i=t.unsafeCleanup?Td:Pd,a=bi(i,e,n),h=bi(r,e,n,a);return t.keep||yn.unshift(a),n?a:h}function bi(e,t,n,r){let i=!1;return function a(h){if(!i){let p=r||a,m=yn.indexOf(p);return m>=0&&yn.splice(m,1),i=!0,n||e===Pd||e===Td?e(t):e(t,h||function(){})}}}function wg(){if(Cd)for(;yn.length;)try{yn[0]()}catch{}}function bd(e){let t=[],n=null;try{n=yd.randomBytes(e)}catch{n=yd.pseudoRandomBytes(e)}for(var r=0;r<e;r++)t.push(vd[n[r]%vd.length]);return t.join("")}function Pg(e){return e===null||We(e)||!e.trim()}function We(e){return typeof e>"u"}function vn(e,t){if(typeof e=="function")return[{},e];if(We(e))return[{},t];let n={};for(let r of Object.getOwnPropertyNames(e))n[r]=e[r];return[n,t]}function Sd(e){let t=e.tmpdir;if(!We(e.name))return ze.join(t,e.dir,e.name);if(!We(e.template))return ze.join(t,e.dir,e.template).replace(_d,bd(6));let n=[e.prefix?e.prefix:"tmp","-",process.pid,"-",bd(12),e.postfix?"-"+e.postfix:""].join("");return ze.join(t,e.dir,n)}function qd(e){e.tmpdir=Od(e);let t=e.tmpdir;if(We(e.name)||Ts(e.name,"name",t),We(e.dir)||Ts(e.dir,"dir",t),!We(e.template)&&(Ts(e.template,"template",t),!e.template.match(_d)))throw new Error(`Invalid template, found "${e.template}".`);if(!We(e.tries)&&isNaN(e.tries)||e.tries<0)throw new Error(`Invalid tries, found "${e.tries}".`);e.tries=We(e.name)?e.tries||dg:1,e.keep=!!e.keep,e.detachDescriptor=!!e.detachDescriptor,e.discardDescriptor=!!e.discardDescriptor,e.unsafeCleanup=!!e.unsafeCleanup,e.dir=We(e.dir)?"":ze.relative(t,Ss(e.dir,t)),e.template=We(e.template)?void 0:ze.relative(t,Ss(e.template,t)),e.template=Pg(e.template)?void 0:ze.relative(e.dir,e.template),e.name=We(e.name)?void 0:e.name,e.prefix=We(e.prefix)?"":e.prefix,e.postfix=We(e.postfix)?"":e.postfix}function Ss(e,t){return e.startsWith(t)?ze.resolve(e):ze.resolve(ze.join(t,e))}function Ts(e,t,n){if(t==="name"){if(ze.isAbsolute(e))throw new Error(`${t} option must not contain an absolute path, found "${e}".`);let r=ze.basename(e);if(r===".."||r==="."||r!==e)throw new Error(`${t} option must not contain a path, found "${e}".`)}else{if(ze.isAbsolute(e)&&!e.startsWith(n))throw new Error(`${t} option must be relative to "${n}", found "${e}".`);let r=Ss(e,n);if(!r.startsWith(n))throw new Error(`${t} option must be relative to "${n}", found "${r}".`)}}function Cg(e){return Ed(e,-hg,"EBADF")}function qs(e){return Ed(e,-gg,"ENOENT")}function Ed(e,t,n){return fg?e.code===n:e.code===n&&e.errno===t}function Tg(){Cd=!0}function Od(e){return ze.resolve(e&&e.tmpdir||Es.tmpdir())}process.addListener(mg,wg);Object.defineProperty(pt.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return Od()}});pt.exports.dir=bg;pt.exports.dirSync=_g;pt.exports.file=yg;pt.exports.fileSync=vg;pt.exports.tmpName=Os;pt.exports.tmpNameSync=Ns;pt.exports.setGracefulCleanup=Tg});var Ce=xt(fd()),bn=xt(_e()),Ms=require("node:util");var yi=class e{constructor(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){for(let r of t)if(e.isIncremental(r)){let i=md(r.range),a=this.offsetAt(i.start),h=this.offsetAt(i.end);this._content=this._content.substring(0,a)+r.text+this._content.substring(h,this._content.length);let p=Math.max(i.start.line,0),m=Math.max(i.end.line,0),g=this._lineOffsets,D=hd(r.text,!1,a);if(m-p===D.length)for(let k=0,O=D.length;k<O;k++)g[k+p+1]=D[k];else D.length<1e4?g.splice(p+1,m-p,...D):this._lineOffsets=g=g.slice(0,p+1).concat(D,g.slice(m+1));let w=r.text.length-(h-a);if(w!==0)for(let k=p+1+D.length,O=g.length;k<O;k++)g[k]=g[k]+w}else if(e.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=hd(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return{line:0,character:t};for(;r<i;){let h=Math.floor((r+i)/2);n[h]>t?i=h:r=h+1}let a=r-1;return t=this.ensureBeforeEOL(t,n[a]),{line:a,character:t-n[a]}}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line];if(t.character<=0)return r;let i=t.line+1<n.length?n[t.line+1]:this._content.length,a=Math.min(r+t.character,i);return this.ensureBeforeEOL(a,r)}ensureBeforeEOL(t,n){for(;t>n&&gd(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let n=t;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(t){let n=t;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}},vi;(function(e){function t(i,a,h,p){return new yi(i,a,h,p)}e.create=t;function n(i,a,h){if(i instanceof yi)return i.update(a,h),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=n;function r(i,a){let h=i.getText(),p=Ps(a.map(lg),(D,w)=>{let k=D.range.start.line-w.range.start.line;return k===0?D.range.start.character-w.range.start.character:k}),m=0,g=[];for(let D of p){let w=i.offsetAt(D.range.start);if(w<m)throw new Error("Overlapping edit");w>m&&g.push(h.substring(m,w)),D.newText.length&&g.push(D.newText),m=i.offsetAt(D.range.end)}return g.push(h.substr(m)),g.join("")}e.applyEdits=r})(vi||(vi={}));function Ps(e,t){if(e.length<=1)return e;let n=e.length/2|0,r=e.slice(0,n),i=e.slice(n);Ps(r,t),Ps(i,t);let a=0,h=0,p=0;for(;a<r.length&&h<i.length;)t(r[a],i[h])<=0?e[p++]=r[a++]:e[p++]=i[h++];for(;a<r.length;)e[p++]=r[a++];for(;h<i.length;)e[p++]=i[h++];return e}function hd(e,t,n=0){let r=t?[n]:[];for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);gd(a)&&(a===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,r.push(n+i+1))}return r}function gd(e){return e===13||e===10}function md(e){let t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function lg(e){let t=md(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var pd;(()=>{"use strict";var e={470:i=>{function a(m){if(typeof m!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(m))}function h(m,g){for(var D,w="",k=0,O=-1,L=0,F=0;F<=m.length;++F){if(F<m.length)D=m.charCodeAt(F);else{if(D===47)break;D=47}if(D===47){if(!(O===F-1||L===1))if(O!==F-1&&L===2){if(w.length<2||k!==2||w.charCodeAt(w.length-1)!==46||w.charCodeAt(w.length-2)!==46){if(w.length>2){var G=w.lastIndexOf("/");if(G!==w.length-1){G===-1?(w="",k=0):k=(w=w.slice(0,G)).length-1-w.lastIndexOf("/"),O=F,L=0;continue}}else if(w.length===2||w.length===1){w="",k=0,O=F,L=0;continue}}g&&(w.length>0?w+="/..":w="..",k=2)}else w.length>0?w+="/"+m.slice(O+1,F):w=m.slice(O+1,F),k=F-O-1;O=F,L=0}else D===46&&L!==-1?++L:L=-1}return w}var p={resolve:function(){for(var m,g="",D=!1,w=arguments.length-1;w>=-1&&!D;w--){var k;w>=0?k=arguments[w]:(m===void 0&&(m=process.cwd()),k=m),a(k),k.length!==0&&(g=k+"/"+g,D=k.charCodeAt(0)===47)}return g=h(g,!D),D?g.length>0?"/"+g:"/":g.length>0?g:"."},normalize:function(m){if(a(m),m.length===0)return".";var g=m.charCodeAt(0)===47,D=m.charCodeAt(m.length-1)===47;return(m=h(m,!g)).length!==0||g||(m="."),m.length>0&&D&&(m+="/"),g?"/"+m:m},isAbsolute:function(m){return a(m),m.length>0&&m.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var m,g=0;g<arguments.length;++g){var D=arguments[g];a(D),D.length>0&&(m===void 0?m=D:m+="/"+D)}return m===void 0?".":p.normalize(m)},relative:function(m,g){if(a(m),a(g),m===g||(m=p.resolve(m))===(g=p.resolve(g)))return"";for(var D=1;D<m.length&&m.charCodeAt(D)===47;++D);for(var w=m.length,k=w-D,O=1;O<g.length&&g.charCodeAt(O)===47;++O);for(var L=g.length-O,F=k<L?k:L,G=-1,W=0;W<=F;++W){if(W===F){if(L>F){if(g.charCodeAt(O+W)===47)return g.slice(O+W+1);if(W===0)return g.slice(O+W)}else k>F&&(m.charCodeAt(D+W)===47?G=W:W===0&&(G=0));break}var _=m.charCodeAt(D+W);if(_!==g.charCodeAt(O+W))break;_===47&&(G=W)}var y="";for(W=D+G+1;W<=w;++W)W!==w&&m.charCodeAt(W)!==47||(y.length===0?y+="..":y+="/..");return y.length>0?y+g.slice(O+G):(O+=G,g.charCodeAt(O)===47&&++O,g.slice(O))},_makeLong:function(m){return m},dirname:function(m){if(a(m),m.length===0)return".";for(var g=m.charCodeAt(0),D=g===47,w=-1,k=!0,O=m.length-1;O>=1;--O)if((g=m.charCodeAt(O))===47){if(!k){w=O;break}}else k=!1;return w===-1?D?"/":".":D&&w===1?"//":m.slice(0,w)},basename:function(m,g){if(g!==void 0&&typeof g!="string")throw new TypeError('"ext" argument must be a string');a(m);var D,w=0,k=-1,O=!0;if(g!==void 0&&g.length>0&&g.length<=m.length){if(g.length===m.length&&g===m)return"";var L=g.length-1,F=-1;for(D=m.length-1;D>=0;--D){var G=m.charCodeAt(D);if(G===47){if(!O){w=D+1;break}}else F===-1&&(O=!1,F=D+1),L>=0&&(G===g.charCodeAt(L)?--L==-1&&(k=D):(L=-1,k=F))}return w===k?k=F:k===-1&&(k=m.length),m.slice(w,k)}for(D=m.length-1;D>=0;--D)if(m.charCodeAt(D)===47){if(!O){w=D+1;break}}else k===-1&&(O=!1,k=D+1);return k===-1?"":m.slice(w,k)},extname:function(m){a(m);for(var g=-1,D=0,w=-1,k=!0,O=0,L=m.length-1;L>=0;--L){var F=m.charCodeAt(L);if(F!==47)w===-1&&(k=!1,w=L+1),F===46?g===-1?g=L:O!==1&&(O=1):g!==-1&&(O=-1);else if(!k){D=L+1;break}}return g===-1||w===-1||O===0||O===1&&g===w-1&&g===D+1?"":m.slice(g,w)},format:function(m){if(m===null||typeof m!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof m);return function(g,D){var w=D.dir||D.root,k=D.base||(D.name||"")+(D.ext||"");return w?w===D.root?w+k:w+"/"+k:k}(0,m)},parse:function(m){a(m);var g={root:"",dir:"",base:"",ext:"",name:""};if(m.length===0)return g;var D,w=m.charCodeAt(0),k=w===47;k?(g.root="/",D=1):D=0;for(var O=-1,L=0,F=-1,G=!0,W=m.length-1,_=0;W>=D;--W)if((w=m.charCodeAt(W))!==47)F===-1&&(G=!1,F=W+1),w===46?O===-1?O=W:_!==1&&(_=1):O!==-1&&(_=-1);else if(!G){L=W+1;break}return O===-1||F===-1||_===0||_===1&&O===F-1&&O===L+1?F!==-1&&(g.base=g.name=L===0&&k?m.slice(1,F):m.slice(L,F)):(L===0&&k?(g.name=m.slice(1,O),g.base=m.slice(1,F)):(g.name=m.slice(L,O),g.base=m.slice(L,F)),g.ext=m.slice(O,F)),L>0?g.dir=m.slice(0,L-1):k&&(g.dir="/"),g},sep:"/",delimiter:":",win32:null,posix:null};p.posix=p,i.exports=p}},t={};function n(i){var a=t[i];if(a!==void 0)return a.exports;var h=t[i]={exports:{}};return e[i](h,h.exports,n),h.exports}n.d=(i,a)=>{for(var h in a)n.o(a,h)&&!n.o(i,h)&&Object.defineProperty(i,h,{enumerable:!0,get:a[h]})},n.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{let i;n.r(r),n.d(r,{URI:()=>k,Utils:()=>Ve}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let a=/^\w[\w\d+.-]*$/,h=/^\//,p=/^\/\//;function m(x,P){if(!x.scheme&&P)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${x.authority}", path: "${x.path}", query: "${x.query}", fragment: "${x.fragment}"}`);if(x.scheme&&!a.test(x.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(x.path){if(x.authority){if(!h.test(x.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(x.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let g="",D="/",w=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class k{static isUri(P){return P instanceof k||!!P&&typeof P.authority=="string"&&typeof P.fragment=="string"&&typeof P.path=="string"&&typeof P.query=="string"&&typeof P.scheme=="string"&&typeof P.fsPath=="string"&&typeof P.with=="function"&&typeof P.toString=="function"}scheme;authority;path;query;fragment;constructor(P,A,j,ne,X,z=!1){typeof P=="object"?(this.scheme=P.scheme||g,this.authority=P.authority||g,this.path=P.path||g,this.query=P.query||g,this.fragment=P.fragment||g):(this.scheme=function(Ee,De){return Ee||De?Ee:"file"}(P,z),this.authority=A||g,this.path=function(Ee,De){switch(Ee){case"https":case"http":case"file":De?De[0]!==D&&(De=D+De):De=D}return De}(this.scheme,j||g),this.query=ne||g,this.fragment=X||g,m(this,z))}get fsPath(){return _(this,!1)}with(P){if(!P)return this;let{scheme:A,authority:j,path:ne,query:X,fragment:z}=P;return A===void 0?A=this.scheme:A===null&&(A=g),j===void 0?j=this.authority:j===null&&(j=g),ne===void 0?ne=this.path:ne===null&&(ne=g),X===void 0?X=this.query:X===null&&(X=g),z===void 0?z=this.fragment:z===null&&(z=g),A===this.scheme&&j===this.authority&&ne===this.path&&X===this.query&&z===this.fragment?this:new L(A,j,ne,X,z)}static parse(P,A=!1){let j=w.exec(P);return j?new L(j[2]||g,te(j[4]||g),te(j[5]||g),te(j[7]||g),te(j[9]||g),A):new L(g,g,g,g,g)}static file(P){let A=g;if(i&&(P=P.replace(/\\/g,D)),P[0]===D&&P[1]===D){let j=P.indexOf(D,2);j===-1?(A=P.substring(2),P=D):(A=P.substring(2,j),P=P.substring(j)||D)}return new L("file",A,P,g,g)}static from(P){let A=new L(P.scheme,P.authority,P.path,P.query,P.fragment);return m(A,!0),A}toString(P=!1){return y(this,P)}toJSON(){return this}static revive(P){if(P){if(P instanceof k)return P;{let A=new L(P);return A._formatted=P.external,A._fsPath=P._sep===O?P.fsPath:null,A}}return P}}let O=i?1:void 0;class L extends k{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=_(this,!1)),this._fsPath}toString(P=!1){return P?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)}toJSON(){let P={$mid:1};return this._fsPath&&(P.fsPath=this._fsPath,P._sep=O),this._formatted&&(P.external=this._formatted),this.path&&(P.path=this.path),this.scheme&&(P.scheme=this.scheme),this.authority&&(P.authority=this.authority),this.query&&(P.query=this.query),this.fragment&&(P.fragment=this.fragment),P}}let F={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function G(x,P,A){let j,ne=-1;for(let X=0;X<x.length;X++){let z=x.charCodeAt(X);if(z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===45||z===46||z===95||z===126||P&&z===47||A&&z===91||A&&z===93||A&&z===58)ne!==-1&&(j+=encodeURIComponent(x.substring(ne,X)),ne=-1),j!==void 0&&(j+=x.charAt(X));else{j===void 0&&(j=x.substr(0,X));let Ee=F[z];Ee!==void 0?(ne!==-1&&(j+=encodeURIComponent(x.substring(ne,X)),ne=-1),j+=Ee):ne===-1&&(ne=X)}}return ne!==-1&&(j+=encodeURIComponent(x.substring(ne))),j!==void 0?j:x}function W(x){let P;for(let A=0;A<x.length;A++){let j=x.charCodeAt(A);j===35||j===63?(P===void 0&&(P=x.substr(0,A)),P+=F[j]):P!==void 0&&(P+=x[A])}return P!==void 0?P:x}function _(x,P){let A;return A=x.authority&&x.path.length>1&&x.scheme==="file"?`//${x.authority}${x.path}`:x.path.charCodeAt(0)===47&&(x.path.charCodeAt(1)>=65&&x.path.charCodeAt(1)<=90||x.path.charCodeAt(1)>=97&&x.path.charCodeAt(1)<=122)&&x.path.charCodeAt(2)===58?P?x.path.substr(1):x.path[1].toLowerCase()+x.path.substr(2):x.path,i&&(A=A.replace(/\//g,"\\")),A}function y(x,P){let A=P?W:G,j="",{scheme:ne,authority:X,path:z,query:Ee,fragment:De}=x;if(ne&&(j+=ne,j+=":"),(X||ne==="file")&&(j+=D,j+=D),X){let oe=X.indexOf("@");if(oe!==-1){let Ze=X.substr(0,oe);X=X.substr(oe+1),oe=Ze.lastIndexOf(":"),oe===-1?j+=A(Ze,!1,!1):(j+=A(Ze.substr(0,oe),!1,!1),j+=":",j+=A(Ze.substr(oe+1),!1,!0)),j+="@"}X=X.toLowerCase(),oe=X.lastIndexOf(":"),oe===-1?j+=A(X,!1,!0):(j+=A(X.substr(0,oe),!1,!0),j+=X.substr(oe))}if(z){if(z.length>=3&&z.charCodeAt(0)===47&&z.charCodeAt(2)===58){let oe=z.charCodeAt(1);oe>=65&&oe<=90&&(z=`/${String.fromCharCode(oe+32)}:${z.substr(3)}`)}else if(z.length>=2&&z.charCodeAt(1)===58){let oe=z.charCodeAt(0);oe>=65&&oe<=90&&(z=`${String.fromCharCode(oe+32)}:${z.substr(2)}`)}j+=A(z,!0,!1)}return Ee&&(j+="?",j+=A(Ee,!1,!1)),De&&(j+="#",j+=P?De:G(De,!1,!1)),j}function q(x){try{return decodeURIComponent(x)}catch{return x.length>3?x.substr(0,3)+q(x.substr(3)):x}}let U=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function te(x){return x.match(U)?x.replace(U,P=>q(P)):x}var le=n(470);let Se=le.posix||le,Be="/";var Ve;(function(x){x.joinPath=function(P,...A){return P.with({path:Se.join(P.path,...A)})},x.resolvePath=function(P,...A){let j=P.path,ne=!1;j[0]!==Be&&(j=Be+j,ne=!0);let X=Se.resolve(j,...A);return ne&&X[0]===Be&&!P.authority&&(X=X.substring(1)),P.with({path:X})},x.dirname=function(P){if(P.path.length===0||P.path===Be)return P;let A=Se.dirname(P.path);return A.length===1&&A.charCodeAt(0)===46&&(A=""),P.with({path:A})},x.basename=function(P){return Se.basename(P.path)},x.extname=function(P){return Se.extname(P.path)}})(Ve||(Ve={}))})(),pd=r})();var{URI:Cs,Utils:hp}=pd;var Ut=xt(require("fs")),xd=xt(Nd()),Md=xt(require("path")),jd=xt(require("node:util")),Id=xt(require("node:child_process")),kg=jd.promisify(Id.exec),Wn=xd.fileSync({prefix:"nushell",keep:!1}),me=(0,Ce.createConnection)(Ce.ProposedFeatures.all),Et=new Ce.TextDocuments(vi),Di=!1,xs=!1,Fd=!1;function Sg(e){let t=Cs.parse(e);return t.scheme==="file"?'-I "'+Md.dirname(t.fsPath):'-I "'+e}me.onExit(()=>{Wn.removeCallback()});me.onInitialize(e=>{let t=e.capabilities;Di=!!(t.workspace&&t.workspace.configuration),xs=!!(t.workspace&&t.workspace.workspaceFolders),Fd=!!(t.textDocument&&t.textDocument.publishDiagnostics&&t.textDocument.publishDiagnostics.relatedInformation);let n={capabilities:{textDocumentSync:Ce.TextDocumentSyncKind.Incremental,completionProvider:{resolveProvider:!0},inlayHintProvider:{resolveProvider:!1},hoverProvider:!0,definitionProvider:!0}};return xs&&(n.capabilities.workspace={workspaceFolders:{supported:!0}}),n});var qg=0;function Eg(e){return`${e}#${qg++}`}async function Ri(e,t){console.log("Triggered "+e+": ...");let n=Eg(e);console.time(n);let r=await t(n);return process.stdout.write("Finished  "),console.timeEnd(n),new Promise(i=>i(r))}me.onInitialized(()=>{Di&&me.client.register(Ce.DidChangeConfigurationNotification.type,void 0),xs&&me.workspace.onDidChangeWorkspaceFolders(e=>{me.console.log("Workspace folder change event received.")})});var Ad={maxNumberOfProblems:1e3,hints:{showInferredTypes:!0},nushellExecutablePath:"nu",maxNushellInvocationTime:1e7,includeDirs:[]},Ld=Ad,_i=new Map;me.onDidChangeConfiguration(e=>{Di?_i.clear():Ld=e.settings.nushellLanguageServer||Ad,Et.all().forEach(Wd)});function wi(e){if(!Di)return Promise.resolve(Ld);let t=_i.get(e);return t||(t=me.workspace.getConfiguration({scopeUri:e,section:"nushellLanguageServer"}),_i.set(e,t)),t}Et.onDidClose(e=>{_i.delete(e.document.uri)});function Og(e,t,n){let r;return function(...a){let h=this,p=function(){r=null,n||e.apply(h,a)},m=n&&!r;clearTimeout(r),r=setTimeout(p,t),m&&e.apply(h,a)}}Et.onDidChangeContent((()=>{let e=Og(Wd,500,!1);return t=>{e(t.document)}})());async function Wd(e){return await Ri(`validateTextDocument ${e.uri}`,async t=>{if(!Fd){console.error("Trying to validate a document with no diagnostic capability");return}let n=await wi(e.uri),r=e.getText(),i=Is(r),a=await Pi(r,"--ide-check",n,e.uri,{label:t});e.nuInlayHints=[];let h=[],p=new Set,m=a.split(`
`).filter(g=>g.length>0);for(let g of m){me.console.log("line: "+g);try{let D=JSON.parse(g);if(D.type=="diagnostic"){let w=Ce.DiagnosticSeverity.Error;switch(D.severity){case"Information":w=Ce.DiagnosticSeverity.Information;break;case"Hint":w=Ce.DiagnosticSeverity.Hint;break;case"Warning":w=Ce.DiagnosticSeverity.Warning;break;case"Error":w=Ce.DiagnosticSeverity.Error;break}let k=$t(D.span.start,i),O=$t(D.span.end,i),L={severity:w,range:{start:k,end:O},message:D.message,source:e.uri};h.push(L)}else if(D.type=="hint"&&n.hints.showInferredTypes&&!p.has(D.position)){p.add(D.position);let w=$t(D.position.end,i),k=": "+D.typename,O=bn.InlayHint.create(w,[bn.InlayHintLabelPart.create(k)],bn.InlayHintKind.Type);e.nuInlayHints.push(O)}}catch(D){me.console.error(`error: ${D}`)}}me.sendDiagnostics({uri:e.uri,diagnostics:h})})}me.onDidChangeWatchedFiles(e=>{me.console.log("We received an file change event")});function Ng(e,t){let n=0,r=0,i=e.length-1;if(t>=e[i])return i;for(;n<i;)r=n+i>>1,e[r]<t?n=r+1:i=r;return n-1}function $t(e,t){let n=Ng(t,e),r=n==-1?0:t[n]+1,i=Math.max(0,e-r);return{line:n+1,character:i}}function js(e,t){let n=0,r=0,i=new Ms.TextEncoder().encode(t),a=0;for(;a<i.length;){if(n==e.line&&r==e.character)return a;i.at(a)==10?(n++,r=0):r++,a++}return a}async function Pi(e,t,n,r,i={label:"runCompiler"}){let a=i.allowErrors===void 0?!0:i.allowErrors;try{Ut.writeFileSync(Wn.name,e)}catch(p){me.console.error(`[${i.label}] error writing to tmp file: ${p}`)}let h="";try{let p=Sg(r)+""+n.includeDirs.join("")+'"',m=n.maxNumberOfProblems;t.includes("ide-check")&&(t=t+" "+m),me.console.log(`[${i.label}] running: ${n.nushellExecutablePath} ${t} ${p} ${Wn.name}`),h=(await kg(`${n.nushellExecutablePath} ${t} ${p} ${Wn.name}`,{timeout:n.maxNushellInvocationTime})).stdout,console.log(`[${i.label}] stdout: ${h}`)}catch(p){if(h=p.stdout,me.console.log(`[${i.label}] compile failed: `+p),!a)throw p}return h}me.onHover(async e=>await Ri("onHover",async()=>{let t=Et.get(e.textDocument.uri),n=await wi(e.textDocument.uri),r=t?.getText();if(typeof r!="string")return null;let a=(await Pi(r,"--ide-hover "+js(e.position,r),n,e.textDocument.uri)).split(`
`).filter(h=>h.length>0);for(let h of a){let p=JSON.parse(h),m={value:p.hover,kind:"markdown"};if(p.hover!="")if(p.span){let g=Is(p.file?(await Ut.promises.readFile(p.file)).toString():t?.getText()??"");return{contents:m,range:{start:$t(p.span.start,g),end:$t(p.span.end,g)}}}else return{contents:m}}}));me.onCompletion(async e=>await Ri("onCompletion",async()=>{let t=Et.get(e.textDocument.uri),n=await wi(e.textDocument.uri),r=t?.getText();if(typeof r=="string"){let i=js(e.position,r),h=(await Pi(r,"--ide-complete "+i,n,e.textDocument.uri)).split(`
`).filter(p=>p.length>0);for(let p of h){let m=JSON.parse(p),g=[],D=1;for(let w of m.completions)g.push({label:w,kind:w.includes("(")?Ce.CompletionItemKind.Function:Ce.CompletionItemKind.Field,data:D}),D++;return g}}return[]}));me.onDefinition(async e=>await Ri("onDefinition",async t=>{let n=Et.get(e.textDocument.uri);if(!n)return;let r=await wi(e.textDocument.uri),i=n.getText(),a=await Pi(i,"--ide-goto-def "+js(e.position,i),r,e.textDocument.uri,{label:t});return xg(n,a)}));me.onCompletionResolve(e=>e);async function xg(e,t){let n=t.split(`
`).filter(r=>r.length>0);for(let r of n){let i=JSON.parse(r);if(i.file===""||i.file==="__prelude__")return;let a;if(i.file)if(Ut.existsSync(i.file))a=await Ut.promises.readFile(i.file).then(m=>m.toString());else{me.console.log(`File ${i.file} does not exist`);return}else a=e.getText();let h=Is(a),p="";return i.file==Wn.name?p=e.uri:p=i.file?Cs.file(i.file).toString():e.uri,{uri:p,range:{start:$t(i.start,h),end:$t(i.end,h)}}}}me.languages.inlayHint.on(e=>Et.get(e.textDocument.uri).nuInlayHints);function Is(e){let t=new Ms.TextEncoder().encode(e),n=[];for(let r=0;r<t.length;++r)t[r]==10&&n.push(r);return n}Et.listen(me);me.listen();
/*! Bundled license information:

tmp/lib/tmp.js:
  (*!
   * Tmp
   *
   * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
   *
   * MIT Licensed
   *)
*/
//# sourceMappingURL=server.js.map
