{
  "version": 3,
  "sources": ["../../../server/node_modules/vscode-languageserver/lib/common/utils/is.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/is.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/messages.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/linkedMap.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/disposable.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/ral.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/events.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/cancellation.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/sharedArrayCancellation.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/semaphore.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/messageReader.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/messageWriter.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/messageBuffer.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/connection.js", "../../../server/node_modules/vscode-jsonrpc/lib/common/api.js", "../../../server/node_modules/vscode-jsonrpc/lib/node/ril.js", "../../../server/node_modules/vscode-jsonrpc/lib/node/main.js", "../../../server/node_modules/vscode-jsonrpc/node.js", "../../../server/node_modules/vscode-languageserver-types/lib/umd/main.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/messages.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/utils/is.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineCompletion.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/protocol.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/connection.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/common/api.js", "../../../server/node_modules/vscode-languageserver-protocol/lib/node/main.js", "../../../server/node_modules/vscode-languageserver/lib/common/utils/uuid.js", "../../../server/node_modules/vscode-languageserver/lib/common/progress.js", "../../../server/node_modules/vscode-languageserver/lib/common/configuration.js", "../../../server/node_modules/vscode-languageserver/lib/common/workspaceFolder.js", "../../../server/node_modules/vscode-languageserver/lib/common/callHierarchy.js", "../../../server/node_modules/vscode-languageserver/lib/common/semanticTokens.js", "../../../server/node_modules/vscode-languageserver/lib/common/showDocument.js", "../../../server/node_modules/vscode-languageserver/lib/common/fileOperations.js", "../../../server/node_modules/vscode-languageserver/lib/common/linkedEditingRange.js", "../../../server/node_modules/vscode-languageserver/lib/common/typeHierarchy.js", "../../../server/node_modules/vscode-languageserver/lib/common/inlineValue.js", "../../../server/node_modules/vscode-languageserver/lib/common/foldingRange.js", "../../../server/node_modules/vscode-languageserver/lib/common/inlayHint.js", "../../../server/node_modules/vscode-languageserver/lib/common/diagnostic.js", "../../../server/node_modules/vscode-languageserver/lib/common/textDocuments.js", "../../../server/node_modules/vscode-languageserver/lib/common/notebook.js", "../../../server/node_modules/vscode-languageserver/lib/common/moniker.js", "../../../server/node_modules/vscode-languageserver/lib/common/server.js", "../../../server/node_modules/vscode-languageserver/lib/node/files.js", "../../../server/node_modules/vscode-languageserver-protocol/node.js", "../../../server/node_modules/vscode-languageserver/lib/common/inlineCompletion.proposed.js", "../../../server/node_modules/vscode-languageserver/lib/common/api.js", "../../../server/node_modules/vscode-languageserver/lib/node/main.js", "../../../server/node_modules/vscode-languageserver/node.js", "../../../server/node_modules/tmp/lib/tmp.js", "../../../server/src/server.ts", "../../../server/node_modules/vscode-languageserver-textdocument/lib/esm/main.js", "../../../server/node_modules/vscode-uri/lib/esm/webpack:/LIB/node_modules/path-browserify/index.js", "../../../server/node_modules/vscode-uri/lib/esm/webpack:/LIB/webpack/bootstrap", "../../../server/node_modules/vscode-uri/lib/esm/webpack:/LIB/webpack/runtime/define property getters", "../../../server/node_modules/vscode-uri/lib/esm/webpack:/LIB/webpack/runtime/hasOwnProperty shorthand", "../../../server/node_modules/vscode-uri/lib/esm/webpack:/LIB/webpack/runtime/make namespace object", "../../../server/node_modules/vscode-uri/lib/esm/webpack:/LIB/src/platform.ts", "../../../server/node_modules/vscode-uri/lib/esm/webpack:/LIB/src/uri.ts", "../../../server/node_modules/vscode-uri/lib/esm/webpack:/LIB/src/utils.ts"],
  "sourcesContent": ["\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes || (exports.ErrorCodes = ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message || (exports.Message = Message = {}));\n", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch || (exports.Touch = Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[_a] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [(_a = Symbol.toStringTag, Symbol.iterator)]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable || (exports.Disposable = Disposable = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event || (exports.Event = Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken || (exports.CancellationToken = CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = void 0;\nconst cancellation_1 = require(\"./cancellation\");\nvar CancellationState;\n(function (CancellationState) {\n    CancellationState.Continue = 0;\n    CancellationState.Cancelled = 1;\n})(CancellationState || (CancellationState = {}));\nclass SharedArraySenderStrategy {\n    constructor() {\n        this.buffers = new Map();\n    }\n    enableCancellation(request) {\n        if (request.id === null) {\n            return;\n        }\n        const buffer = new SharedArrayBuffer(4);\n        const data = new Int32Array(buffer, 0, 1);\n        data[0] = CancellationState.Continue;\n        this.buffers.set(request.id, buffer);\n        request.$cancellationData = buffer;\n    }\n    async sendCancellation(_conn, id) {\n        const buffer = this.buffers.get(id);\n        if (buffer === undefined) {\n            return;\n        }\n        const data = new Int32Array(buffer, 0, 1);\n        Atomics.store(data, 0, CancellationState.Cancelled);\n    }\n    cleanup(id) {\n        this.buffers.delete(id);\n    }\n    dispose() {\n        this.buffers.clear();\n    }\n}\nexports.SharedArraySenderStrategy = SharedArraySenderStrategy;\nclass SharedArrayBufferCancellationToken {\n    constructor(buffer) {\n        this.data = new Int32Array(buffer, 0, 1);\n    }\n    get isCancellationRequested() {\n        return Atomics.load(this.data, 0) === CancellationState.Cancelled;\n    }\n    get onCancellationRequested() {\n        throw new Error(`Cancellation over SharedArrayBuffer doesn't support cancellation events`);\n    }\n}\nclass SharedArrayBufferCancellationTokenSource {\n    constructor(buffer) {\n        this.token = new SharedArrayBufferCancellationToken(buffer);\n    }\n    cancel() {\n    }\n    dispose() {\n    }\n}\nclass SharedArrayReceiverStrategy {\n    constructor() {\n        this.kind = 'request';\n    }\n    createCancellationTokenSource(request) {\n        const buffer = request.$cancellationData;\n        if (buffer === undefined) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n        return new SharedArrayBufferCancellationTokenSource(buffer);\n    }\n}\nexports.SharedArrayReceiverStrategy = SharedArrayReceiverStrategy;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nconst semaphore_1 = require(\"./semaphore\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader || (exports.MessageReader = MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.readSemaphore = new semaphore_1.Semaphore(1);\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        try {\n            this.buffer.append(data);\n            while (true) {\n                if (this.nextMessageLength === -1) {\n                    const headers = this.buffer.tryReadHeaders(true);\n                    if (!headers) {\n                        return;\n                    }\n                    const contentLength = headers.get('content-length');\n                    if (!contentLength) {\n                        this.fireError(new Error(`Header must provide a Content-Length property.\\n${JSON.stringify(Object.fromEntries(headers))}`));\n                        return;\n                    }\n                    const length = parseInt(contentLength);\n                    if (isNaN(length)) {\n                        this.fireError(new Error(`Content-Length value must be a number. Got ${contentLength}`));\n                        return;\n                    }\n                    this.nextMessageLength = length;\n                }\n                const body = this.buffer.tryReadBody(this.nextMessageLength);\n                if (body === undefined) {\n                    /** We haven't received the full message yet. */\n                    this.setPartialMessageTimer();\n                    return;\n                }\n                this.clearPartialMessageTimer();\n                this.nextMessageLength = -1;\n                // Make sure that we convert one received message after the\n                // other. Otherwise it could happen that a decoding of a second\n                // smaller message finished before the decoding of a first larger\n                // message and then we would deliver the second message first.\n                this.readSemaphore.lock(async () => {\n                    const bytes = this.options.contentDecoder !== undefined\n                        ? await this.options.contentDecoder.decode(body)\n                        : body;\n                    const message = await this.options.contentTypeDecoder.decode(bytes, this.options);\n                    this.callback(message);\n                }).catch((error) => {\n                    this.fireError(error);\n                });\n            }\n        }\n        catch (error) {\n            this.fireError(error);\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter || (exports.MessageWriter = MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders(lowerCaseKeys = false) {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error(`Message header must separate key and value using ':'\\n${header}`);\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(lowerCaseKeys ? key.toLowerCase() : key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.RequestCancellationReceiverStrategy = exports.IdCancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken || (exports.ProgressToken = ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace || (exports.Trace = Trace = {}));\nvar TraceValues;\n(function (TraceValues) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValues.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValues.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValues.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValues.Verbose = 'verbose';\n})(TraceValues || (exports.TraceValues = TraceValues = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace || (exports.Trace = Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat || (exports.TraceFormat = TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat || (exports.TraceFormat = TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification || (exports.SetTraceNotification = SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification || (exports.LogTraceNotification = LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors || (exports.ConnectionErrors = ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy || (exports.ConnectionStrategy = ConnectionStrategy = {}));\nvar IdCancellationReceiverStrategy;\n(function (IdCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.kind === undefined || candidate.kind === 'id') && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    IdCancellationReceiverStrategy.is = is;\n})(IdCancellationReceiverStrategy || (exports.IdCancellationReceiverStrategy = IdCancellationReceiverStrategy = {}));\nvar RequestCancellationReceiverStrategy;\n(function (RequestCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'request' && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    RequestCancellationReceiverStrategy.is = is;\n})(RequestCancellationReceiverStrategy || (exports.RequestCancellationReceiverStrategy = RequestCancellationReceiverStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        return IdCancellationReceiverStrategy.is(value) || RequestCancellationReceiverStrategy.is(value);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy || (exports.CancellationSenderStrategy = CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy || (exports.CancellationStrategy = CancellationStrategy = {}));\nvar MessageStrategy;\n(function (MessageStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.handleMessage);\n    }\n    MessageStrategy.is = is;\n})(MessageStrategy || (exports.MessageStrategy = MessageStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy) || MessageStrategy.is(candidate.messageStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions || (exports.ConnectionOptions = ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function handleMessage(message) {\n        if (messages_1.Message.isRequest(message)) {\n            handleRequest(message);\n        }\n        else if (messages_1.Message.isNotification(message)) {\n            handleNotification(message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            handleResponse(message);\n        }\n        else {\n            handleInvalidMessage(message);\n        }\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            const messageStrategy = options?.messageStrategy;\n            if (MessageStrategy.is(messageStrategy)) {\n                messageStrategy.handleMessage(message, handleMessage);\n            }\n            else {\n                handleMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = IdCancellationReceiverStrategy.is(cancellationStrategy.receiver)\n                ? cancellationStrategy.receiver.createCancellationTokenSource(tokenKey)\n                : cancellationStrategy.receiver.createCancellationTokenSource(requestMessage);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    requestTokens.delete(tokenKey);\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        requestTokens.delete(tokenKey);\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        requestTokens.delete(tokenKey);\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    requestTokens.delete(tokenKey);\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                requestTokens.delete(tokenKey);\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch((error) => {\n                logger.error(`Sending notification failed.`);\n                throw error;\n            });\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            // This should not await but simple return to ensure that we don't have another\n            // async scheduling. Otherwise one send could overtake another send.\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                    if (p === undefined) {\n                        logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                        return Promise.resolve();\n                    }\n                    else {\n                        return p.catch(() => {\n                            logger.log(`Sending cancellation messages for id ${id} failed`);\n                        });\n                    }\n                });\n            }\n            const requestMessage = {\n                jsonrpc: version,\n                id: id,\n                method: method,\n                params: messageParams\n            };\n            traceSendingRequest(requestMessage);\n            if (typeof cancellationStrategy.sender.enableCancellation === 'function') {\n                cancellationStrategy.sender.enableCancellation(requestMessage);\n            }\n            return new Promise(async (resolve, reject) => {\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                try {\n                    await messageWriter.write(requestMessage);\n                    responsePromises.set(id, responsePromise);\n                }\n                catch (error) {\n                    logger.error(`Sending request failed.`);\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, error.message ? error.message : 'Unknown reason'));\n                    throw error;\n                }\n            });\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.AbstractMessageBuffer = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst sharedArrayCancellation_1 = require(\"./sharedArrayCancellation\");\nObject.defineProperty(exports, \"SharedArraySenderStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArraySenderStrategy; } });\nObject.defineProperty(exports, \"SharedArrayReceiverStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArrayReceiverStrategy; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst messageBuffer_1 = require(\"./messageBuffer\");\nObject.defineProperty(exports, \"AbstractMessageBuffer\", { enumerable: true, get: function () { return messageBuffer_1.AbstractMessageBuffer; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nObject.defineProperty(exports, \"MessageStrategy\", { enumerable: true, get: function () { return connection_1.MessageStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"util\");\nconst api_1 = require(\"../common/api\");\nclass MessageBuffer extends api_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return api_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setImmediate(callback, ...args);\n            return { dispose: () => clearImmediate(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        api_1.RAL.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.PortMessageWriter = exports.PortMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\nconst api_1 = require(\"../common/api\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        const eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass PortMessageReader extends api_1.AbstractMessageReader {\n    constructor(port) {\n        super();\n        this.onData = new api_1.Emitter;\n        port.on('close', () => this.fireClose);\n        port.on('error', (error) => this.fireError(error));\n        port.on('message', (message) => {\n            this.onData.fire(message);\n        });\n    }\n    listen(callback) {\n        return this.onData.event(callback);\n    }\n}\nexports.PortMessageReader = PortMessageReader;\nclass PortMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(port) {\n        super();\n        this.port = port;\n        this.errorCount = 0;\n        port.on('close', () => this.fireClose());\n        port.on('error', (error) => this.fireError(error));\n    }\n    write(msg) {\n        try {\n            this.port.postMessage(msg);\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.PortMessageWriter = PortMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super((0, ril_1.default)().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super((0, ril_1.default)().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readable, encoding) {\n        super((0, ril_1.default)().stream.asReadableStream(readable), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super((0, ril_1.default)().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = (0, crypto_1.randomBytes)(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length > limit) {\n        (0, ril_1.default)().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');", "(function (factory) {\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\n        var v = factory(require, exports);\n        if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === \"function\" && define.amd) {\n        define([\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    /* --------------------------------------------------------------------------------------------\n     * Copyright (c) Microsoft Corporation. All rights reserved.\n     * Licensed under the MIT License. See License.txt in the project root for license information.\n     * ------------------------------------------------------------------------------------------ */\n    'use strict';\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.TextDocument = exports.EOL = exports.WorkspaceFolder = exports.InlineCompletionContext = exports.SelectedCompletionInfo = exports.InlineCompletionTriggerKind = exports.InlineCompletionList = exports.InlineCompletionItem = exports.StringValue = exports.InlayHint = exports.InlayHintLabelPart = exports.InlayHintKind = exports.InlineValueContext = exports.InlineValueEvaluatableExpression = exports.InlineValueVariableLookup = exports.InlineValueText = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = exports.SelectionRange = exports.DocumentLink = exports.FormattingOptions = exports.CodeLens = exports.CodeAction = exports.CodeActionContext = exports.CodeActionTriggerKind = exports.CodeActionKind = exports.DocumentSymbol = exports.WorkspaceSymbol = exports.SymbolInformation = exports.SymbolTag = exports.SymbolKind = exports.DocumentHighlight = exports.DocumentHighlightKind = exports.SignatureInformation = exports.ParameterInformation = exports.Hover = exports.MarkedString = exports.CompletionList = exports.CompletionItem = exports.CompletionItemLabelDetails = exports.InsertTextMode = exports.InsertReplaceEdit = exports.CompletionItemTag = exports.InsertTextFormat = exports.CompletionItemKind = exports.MarkupContent = exports.MarkupKind = exports.TextDocumentItem = exports.OptionalVersionedTextDocumentIdentifier = exports.VersionedTextDocumentIdentifier = exports.TextDocumentIdentifier = exports.WorkspaceChange = exports.WorkspaceEdit = exports.DeleteFile = exports.RenameFile = exports.CreateFile = exports.TextDocumentEdit = exports.AnnotatedTextEdit = exports.ChangeAnnotationIdentifier = exports.ChangeAnnotation = exports.TextEdit = exports.Command = exports.Diagnostic = exports.CodeDescription = exports.DiagnosticTag = exports.DiagnosticSeverity = exports.DiagnosticRelatedInformation = exports.FoldingRange = exports.FoldingRangeKind = exports.ColorPresentation = exports.ColorInformation = exports.Color = exports.LocationLink = exports.Location = exports.Range = exports.Position = exports.uinteger = exports.integer = exports.URI = exports.DocumentUri = void 0;\n    var DocumentUri;\n    (function (DocumentUri) {\n        function is(value) {\n            return typeof value === 'string';\n        }\n        DocumentUri.is = is;\n    })(DocumentUri || (exports.DocumentUri = DocumentUri = {}));\n    var URI;\n    (function (URI) {\n        function is(value) {\n            return typeof value === 'string';\n        }\n        URI.is = is;\n    })(URI || (exports.URI = URI = {}));\n    var integer;\n    (function (integer) {\n        integer.MIN_VALUE = -2147483648;\n        integer.MAX_VALUE = 2147483647;\n        function is(value) {\n            return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n        }\n        integer.is = is;\n    })(integer || (exports.integer = integer = {}));\n    var uinteger;\n    (function (uinteger) {\n        uinteger.MIN_VALUE = 0;\n        uinteger.MAX_VALUE = 2147483647;\n        function is(value) {\n            return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n        }\n        uinteger.is = is;\n    })(uinteger || (exports.uinteger = uinteger = {}));\n    /**\n     * The Position namespace provides helper functions to work with\n     * {@link Position} literals.\n     */\n    var Position;\n    (function (Position) {\n        /**\n         * Creates a new Position literal from the given line and character.\n         * @param line The position's line.\n         * @param character The position's character.\n         */\n        function create(line, character) {\n            if (line === Number.MAX_VALUE) {\n                line = uinteger.MAX_VALUE;\n            }\n            if (character === Number.MAX_VALUE) {\n                character = uinteger.MAX_VALUE;\n            }\n            return { line: line, character: character };\n        }\n        Position.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Position} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n        }\n        Position.is = is;\n    })(Position || (exports.Position = Position = {}));\n    /**\n     * The Range namespace provides helper functions to work with\n     * {@link Range} literals.\n     */\n    var Range;\n    (function (Range) {\n        function create(one, two, three, four) {\n            if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n                return { start: Position.create(one, two), end: Position.create(three, four) };\n            }\n            else if (Position.is(one) && Position.is(two)) {\n                return { start: one, end: two };\n            }\n            else {\n                throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n            }\n        }\n        Range.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Range} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n        }\n        Range.is = is;\n    })(Range || (exports.Range = Range = {}));\n    /**\n     * The Location namespace provides helper functions to work with\n     * {@link Location} literals.\n     */\n    var Location;\n    (function (Location) {\n        /**\n         * Creates a Location literal.\n         * @param uri The location's uri.\n         * @param range The location's range.\n         */\n        function create(uri, range) {\n            return { uri: uri, range: range };\n        }\n        Location.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Location} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n        }\n        Location.is = is;\n    })(Location || (exports.Location = Location = {}));\n    /**\n     * The LocationLink namespace provides helper functions to work with\n     * {@link LocationLink} literals.\n     */\n    var LocationLink;\n    (function (LocationLink) {\n        /**\n         * Creates a LocationLink literal.\n         * @param targetUri The definition's uri.\n         * @param targetRange The full range of the definition.\n         * @param targetSelectionRange The span of the symbol definition at the target.\n         * @param originSelectionRange The span of the symbol being defined in the originating source file.\n         */\n        function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n            return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n        }\n        LocationLink.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link LocationLink} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n                && Range.is(candidate.targetSelectionRange)\n                && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n        }\n        LocationLink.is = is;\n    })(LocationLink || (exports.LocationLink = LocationLink = {}));\n    /**\n     * The Color namespace provides helper functions to work with\n     * {@link Color} literals.\n     */\n    var Color;\n    (function (Color) {\n        /**\n         * Creates a new Color literal.\n         */\n        function create(red, green, blue, alpha) {\n            return {\n                red: red,\n                green: green,\n                blue: blue,\n                alpha: alpha,\n            };\n        }\n        Color.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Color} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n                && Is.numberRange(candidate.green, 0, 1)\n                && Is.numberRange(candidate.blue, 0, 1)\n                && Is.numberRange(candidate.alpha, 0, 1);\n        }\n        Color.is = is;\n    })(Color || (exports.Color = Color = {}));\n    /**\n     * The ColorInformation namespace provides helper functions to work with\n     * {@link ColorInformation} literals.\n     */\n    var ColorInformation;\n    (function (ColorInformation) {\n        /**\n         * Creates a new ColorInformation literal.\n         */\n        function create(range, color) {\n            return {\n                range: range,\n                color: color,\n            };\n        }\n        ColorInformation.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n        }\n        ColorInformation.is = is;\n    })(ColorInformation || (exports.ColorInformation = ColorInformation = {}));\n    /**\n     * The Color namespace provides helper functions to work with\n     * {@link ColorPresentation} literals.\n     */\n    var ColorPresentation;\n    (function (ColorPresentation) {\n        /**\n         * Creates a new ColorInformation literal.\n         */\n        function create(label, textEdit, additionalTextEdits) {\n            return {\n                label: label,\n                textEdit: textEdit,\n                additionalTextEdits: additionalTextEdits,\n            };\n        }\n        ColorPresentation.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.string(candidate.label)\n                && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n                && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n        }\n        ColorPresentation.is = is;\n    })(ColorPresentation || (exports.ColorPresentation = ColorPresentation = {}));\n    /**\n     * A set of predefined range kinds.\n     */\n    var FoldingRangeKind;\n    (function (FoldingRangeKind) {\n        /**\n         * Folding range for a comment\n         */\n        FoldingRangeKind.Comment = 'comment';\n        /**\n         * Folding range for an import or include\n         */\n        FoldingRangeKind.Imports = 'imports';\n        /**\n         * Folding range for a region (e.g. `#region`)\n         */\n        FoldingRangeKind.Region = 'region';\n    })(FoldingRangeKind || (exports.FoldingRangeKind = FoldingRangeKind = {}));\n    /**\n     * The folding range namespace provides helper functions to work with\n     * {@link FoldingRange} literals.\n     */\n    var FoldingRange;\n    (function (FoldingRange) {\n        /**\n         * Creates a new FoldingRange literal.\n         */\n        function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n            var result = {\n                startLine: startLine,\n                endLine: endLine\n            };\n            if (Is.defined(startCharacter)) {\n                result.startCharacter = startCharacter;\n            }\n            if (Is.defined(endCharacter)) {\n                result.endCharacter = endCharacter;\n            }\n            if (Is.defined(kind)) {\n                result.kind = kind;\n            }\n            if (Is.defined(collapsedText)) {\n                result.collapsedText = collapsedText;\n            }\n            return result;\n        }\n        FoldingRange.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link FoldingRange} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n                && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n                && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n                && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n        }\n        FoldingRange.is = is;\n    })(FoldingRange || (exports.FoldingRange = FoldingRange = {}));\n    /**\n     * The DiagnosticRelatedInformation namespace provides helper functions to work with\n     * {@link DiagnosticRelatedInformation} literals.\n     */\n    var DiagnosticRelatedInformation;\n    (function (DiagnosticRelatedInformation) {\n        /**\n         * Creates a new DiagnosticRelatedInformation literal.\n         */\n        function create(location, message) {\n            return {\n                location: location,\n                message: message\n            };\n        }\n        DiagnosticRelatedInformation.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link DiagnosticRelatedInformation} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n        }\n        DiagnosticRelatedInformation.is = is;\n    })(DiagnosticRelatedInformation || (exports.DiagnosticRelatedInformation = DiagnosticRelatedInformation = {}));\n    /**\n     * The diagnostic's severity.\n     */\n    var DiagnosticSeverity;\n    (function (DiagnosticSeverity) {\n        /**\n         * Reports an error.\n         */\n        DiagnosticSeverity.Error = 1;\n        /**\n         * Reports a warning.\n         */\n        DiagnosticSeverity.Warning = 2;\n        /**\n         * Reports an information.\n         */\n        DiagnosticSeverity.Information = 3;\n        /**\n         * Reports a hint.\n         */\n        DiagnosticSeverity.Hint = 4;\n    })(DiagnosticSeverity || (exports.DiagnosticSeverity = DiagnosticSeverity = {}));\n    /**\n     * The diagnostic tags.\n     *\n     * @since 3.15.0\n     */\n    var DiagnosticTag;\n    (function (DiagnosticTag) {\n        /**\n         * Unused or unnecessary code.\n         *\n         * Clients are allowed to render diagnostics with this tag faded out instead of having\n         * an error squiggle.\n         */\n        DiagnosticTag.Unnecessary = 1;\n        /**\n         * Deprecated or obsolete code.\n         *\n         * Clients are allowed to rendered diagnostics with this tag strike through.\n         */\n        DiagnosticTag.Deprecated = 2;\n    })(DiagnosticTag || (exports.DiagnosticTag = DiagnosticTag = {}));\n    /**\n     * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n     *\n     * @since 3.16.0\n     */\n    var CodeDescription;\n    (function (CodeDescription) {\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.string(candidate.href);\n        }\n        CodeDescription.is = is;\n    })(CodeDescription || (exports.CodeDescription = CodeDescription = {}));\n    /**\n     * The Diagnostic namespace provides helper functions to work with\n     * {@link Diagnostic} literals.\n     */\n    var Diagnostic;\n    (function (Diagnostic) {\n        /**\n         * Creates a new Diagnostic literal.\n         */\n        function create(range, message, severity, code, source, relatedInformation) {\n            var result = { range: range, message: message };\n            if (Is.defined(severity)) {\n                result.severity = severity;\n            }\n            if (Is.defined(code)) {\n                result.code = code;\n            }\n            if (Is.defined(source)) {\n                result.source = source;\n            }\n            if (Is.defined(relatedInformation)) {\n                result.relatedInformation = relatedInformation;\n            }\n            return result;\n        }\n        Diagnostic.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Diagnostic} interface.\n         */\n        function is(value) {\n            var _a;\n            var candidate = value;\n            return Is.defined(candidate)\n                && Range.is(candidate.range)\n                && Is.string(candidate.message)\n                && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n                && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n                && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n                && (Is.string(candidate.source) || Is.undefined(candidate.source))\n                && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n        }\n        Diagnostic.is = is;\n    })(Diagnostic || (exports.Diagnostic = Diagnostic = {}));\n    /**\n     * The Command namespace provides helper functions to work with\n     * {@link Command} literals.\n     */\n    var Command;\n    (function (Command) {\n        /**\n         * Creates a new Command literal.\n         */\n        function create(title, command) {\n            var args = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                args[_i - 2] = arguments[_i];\n            }\n            var result = { title: title, command: command };\n            if (Is.defined(args) && args.length > 0) {\n                result.arguments = args;\n            }\n            return result;\n        }\n        Command.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Command} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n        }\n        Command.is = is;\n    })(Command || (exports.Command = Command = {}));\n    /**\n     * The TextEdit namespace provides helper function to create replace,\n     * insert and delete edits more easily.\n     */\n    var TextEdit;\n    (function (TextEdit) {\n        /**\n         * Creates a replace text edit.\n         * @param range The range of text to be replaced.\n         * @param newText The new text.\n         */\n        function replace(range, newText) {\n            return { range: range, newText: newText };\n        }\n        TextEdit.replace = replace;\n        /**\n         * Creates an insert text edit.\n         * @param position The position to insert the text at.\n         * @param newText The text to be inserted.\n         */\n        function insert(position, newText) {\n            return { range: { start: position, end: position }, newText: newText };\n        }\n        TextEdit.insert = insert;\n        /**\n         * Creates a delete text edit.\n         * @param range The range of text to be deleted.\n         */\n        function del(range) {\n            return { range: range, newText: '' };\n        }\n        TextEdit.del = del;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate)\n                && Is.string(candidate.newText)\n                && Range.is(candidate.range);\n        }\n        TextEdit.is = is;\n    })(TextEdit || (exports.TextEdit = TextEdit = {}));\n    var ChangeAnnotation;\n    (function (ChangeAnnotation) {\n        function create(label, needsConfirmation, description) {\n            var result = { label: label };\n            if (needsConfirmation !== undefined) {\n                result.needsConfirmation = needsConfirmation;\n            }\n            if (description !== undefined) {\n                result.description = description;\n            }\n            return result;\n        }\n        ChangeAnnotation.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n                (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n                (Is.string(candidate.description) || candidate.description === undefined);\n        }\n        ChangeAnnotation.is = is;\n    })(ChangeAnnotation || (exports.ChangeAnnotation = ChangeAnnotation = {}));\n    var ChangeAnnotationIdentifier;\n    (function (ChangeAnnotationIdentifier) {\n        function is(value) {\n            var candidate = value;\n            return Is.string(candidate);\n        }\n        ChangeAnnotationIdentifier.is = is;\n    })(ChangeAnnotationIdentifier || (exports.ChangeAnnotationIdentifier = ChangeAnnotationIdentifier = {}));\n    var AnnotatedTextEdit;\n    (function (AnnotatedTextEdit) {\n        /**\n         * Creates an annotated replace text edit.\n         *\n         * @param range The range of text to be replaced.\n         * @param newText The new text.\n         * @param annotation The annotation.\n         */\n        function replace(range, newText, annotation) {\n            return { range: range, newText: newText, annotationId: annotation };\n        }\n        AnnotatedTextEdit.replace = replace;\n        /**\n         * Creates an annotated insert text edit.\n         *\n         * @param position The position to insert the text at.\n         * @param newText The text to be inserted.\n         * @param annotation The annotation.\n         */\n        function insert(position, newText, annotation) {\n            return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n        }\n        AnnotatedTextEdit.insert = insert;\n        /**\n         * Creates an annotated delete text edit.\n         *\n         * @param range The range of text to be deleted.\n         * @param annotation The annotation.\n         */\n        function del(range, annotation) {\n            return { range: range, newText: '', annotationId: annotation };\n        }\n        AnnotatedTextEdit.del = del;\n        function is(value) {\n            var candidate = value;\n            return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        AnnotatedTextEdit.is = is;\n    })(AnnotatedTextEdit || (exports.AnnotatedTextEdit = AnnotatedTextEdit = {}));\n    /**\n     * The TextDocumentEdit namespace provides helper function to create\n     * an edit that manipulates a text document.\n     */\n    var TextDocumentEdit;\n    (function (TextDocumentEdit) {\n        /**\n         * Creates a new `TextDocumentEdit`\n         */\n        function create(textDocument, edits) {\n            return { textDocument: textDocument, edits: edits };\n        }\n        TextDocumentEdit.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate)\n                && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n                && Array.isArray(candidate.edits);\n        }\n        TextDocumentEdit.is = is;\n    })(TextDocumentEdit || (exports.TextDocumentEdit = TextDocumentEdit = {}));\n    var CreateFile;\n    (function (CreateFile) {\n        function create(uri, options, annotation) {\n            var result = {\n                kind: 'create',\n                uri: uri\n            };\n            if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n                result.options = options;\n            }\n            if (annotation !== undefined) {\n                result.annotationId = annotation;\n            }\n            return result;\n        }\n        CreateFile.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n                ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        CreateFile.is = is;\n    })(CreateFile || (exports.CreateFile = CreateFile = {}));\n    var RenameFile;\n    (function (RenameFile) {\n        function create(oldUri, newUri, options, annotation) {\n            var result = {\n                kind: 'rename',\n                oldUri: oldUri,\n                newUri: newUri\n            };\n            if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n                result.options = options;\n            }\n            if (annotation !== undefined) {\n                result.annotationId = annotation;\n            }\n            return result;\n        }\n        RenameFile.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n                ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        RenameFile.is = is;\n    })(RenameFile || (exports.RenameFile = RenameFile = {}));\n    var DeleteFile;\n    (function (DeleteFile) {\n        function create(uri, options, annotation) {\n            var result = {\n                kind: 'delete',\n                uri: uri\n            };\n            if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n                result.options = options;\n            }\n            if (annotation !== undefined) {\n                result.annotationId = annotation;\n            }\n            return result;\n        }\n        DeleteFile.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n                ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        DeleteFile.is = is;\n    })(DeleteFile || (exports.DeleteFile = DeleteFile = {}));\n    var WorkspaceEdit;\n    (function (WorkspaceEdit) {\n        function is(value) {\n            var candidate = value;\n            return candidate &&\n                (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n                (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                    if (Is.string(change.kind)) {\n                        return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                    }\n                    else {\n                        return TextDocumentEdit.is(change);\n                    }\n                }));\n        }\n        WorkspaceEdit.is = is;\n    })(WorkspaceEdit || (exports.WorkspaceEdit = WorkspaceEdit = {}));\n    var TextEditChangeImpl = /** @class */ (function () {\n        function TextEditChangeImpl(edits, changeAnnotations) {\n            this.edits = edits;\n            this.changeAnnotations = changeAnnotations;\n        }\n        TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n            var edit;\n            var id;\n            if (annotation === undefined) {\n                edit = TextEdit.insert(position, newText);\n            }\n            else if (ChangeAnnotationIdentifier.is(annotation)) {\n                id = annotation;\n                edit = AnnotatedTextEdit.insert(position, newText, annotation);\n            }\n            else {\n                this.assertChangeAnnotations(this.changeAnnotations);\n                id = this.changeAnnotations.manage(annotation);\n                edit = AnnotatedTextEdit.insert(position, newText, id);\n            }\n            this.edits.push(edit);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n            var edit;\n            var id;\n            if (annotation === undefined) {\n                edit = TextEdit.replace(range, newText);\n            }\n            else if (ChangeAnnotationIdentifier.is(annotation)) {\n                id = annotation;\n                edit = AnnotatedTextEdit.replace(range, newText, annotation);\n            }\n            else {\n                this.assertChangeAnnotations(this.changeAnnotations);\n                id = this.changeAnnotations.manage(annotation);\n                edit = AnnotatedTextEdit.replace(range, newText, id);\n            }\n            this.edits.push(edit);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        TextEditChangeImpl.prototype.delete = function (range, annotation) {\n            var edit;\n            var id;\n            if (annotation === undefined) {\n                edit = TextEdit.del(range);\n            }\n            else if (ChangeAnnotationIdentifier.is(annotation)) {\n                id = annotation;\n                edit = AnnotatedTextEdit.del(range, annotation);\n            }\n            else {\n                this.assertChangeAnnotations(this.changeAnnotations);\n                id = this.changeAnnotations.manage(annotation);\n                edit = AnnotatedTextEdit.del(range, id);\n            }\n            this.edits.push(edit);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        TextEditChangeImpl.prototype.add = function (edit) {\n            this.edits.push(edit);\n        };\n        TextEditChangeImpl.prototype.all = function () {\n            return this.edits;\n        };\n        TextEditChangeImpl.prototype.clear = function () {\n            this.edits.splice(0, this.edits.length);\n        };\n        TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n            if (value === undefined) {\n                throw new Error(\"Text edit change is not configured to manage change annotations.\");\n            }\n        };\n        return TextEditChangeImpl;\n    }());\n    /**\n     * A helper class\n     */\n    var ChangeAnnotations = /** @class */ (function () {\n        function ChangeAnnotations(annotations) {\n            this._annotations = annotations === undefined ? Object.create(null) : annotations;\n            this._counter = 0;\n            this._size = 0;\n        }\n        ChangeAnnotations.prototype.all = function () {\n            return this._annotations;\n        };\n        Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n            get: function () {\n                return this._size;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n            var id;\n            if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n                id = idOrAnnotation;\n            }\n            else {\n                id = this.nextId();\n                annotation = idOrAnnotation;\n            }\n            if (this._annotations[id] !== undefined) {\n                throw new Error(\"Id \".concat(id, \" is already in use.\"));\n            }\n            if (annotation === undefined) {\n                throw new Error(\"No annotation provided for id \".concat(id));\n            }\n            this._annotations[id] = annotation;\n            this._size++;\n            return id;\n        };\n        ChangeAnnotations.prototype.nextId = function () {\n            this._counter++;\n            return this._counter.toString();\n        };\n        return ChangeAnnotations;\n    }());\n    /**\n     * A workspace change helps constructing changes to a workspace.\n     */\n    var WorkspaceChange = /** @class */ (function () {\n        function WorkspaceChange(workspaceEdit) {\n            var _this = this;\n            this._textEditChanges = Object.create(null);\n            if (workspaceEdit !== undefined) {\n                this._workspaceEdit = workspaceEdit;\n                if (workspaceEdit.documentChanges) {\n                    this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                    workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                    workspaceEdit.documentChanges.forEach(function (change) {\n                        if (TextDocumentEdit.is(change)) {\n                            var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                            _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                        }\n                    });\n                }\n                else if (workspaceEdit.changes) {\n                    Object.keys(workspaceEdit.changes).forEach(function (key) {\n                        var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                        _this._textEditChanges[key] = textEditChange;\n                    });\n                }\n            }\n            else {\n                this._workspaceEdit = {};\n            }\n        }\n        Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n            /**\n             * Returns the underlying {@link WorkspaceEdit} literal\n             * use to be returned from a workspace edit operation like rename.\n             */\n            get: function () {\n                this.initDocumentChanges();\n                if (this._changeAnnotations !== undefined) {\n                    if (this._changeAnnotations.size === 0) {\n                        this._workspaceEdit.changeAnnotations = undefined;\n                    }\n                    else {\n                        this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                    }\n                }\n                return this._workspaceEdit;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WorkspaceChange.prototype.getTextEditChange = function (key) {\n            if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n                this.initDocumentChanges();\n                if (this._workspaceEdit.documentChanges === undefined) {\n                    throw new Error('Workspace edit is not configured for document changes.');\n                }\n                var textDocument = { uri: key.uri, version: key.version };\n                var result = this._textEditChanges[textDocument.uri];\n                if (!result) {\n                    var edits = [];\n                    var textDocumentEdit = {\n                        textDocument: textDocument,\n                        edits: edits\n                    };\n                    this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                    result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                    this._textEditChanges[textDocument.uri] = result;\n                }\n                return result;\n            }\n            else {\n                this.initChanges();\n                if (this._workspaceEdit.changes === undefined) {\n                    throw new Error('Workspace edit is not configured for normal text edit changes.');\n                }\n                var result = this._textEditChanges[key];\n                if (!result) {\n                    var edits = [];\n                    this._workspaceEdit.changes[key] = edits;\n                    result = new TextEditChangeImpl(edits);\n                    this._textEditChanges[key] = result;\n                }\n                return result;\n            }\n        };\n        WorkspaceChange.prototype.initDocumentChanges = function () {\n            if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n                this._changeAnnotations = new ChangeAnnotations();\n                this._workspaceEdit.documentChanges = [];\n                this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n            }\n        };\n        WorkspaceChange.prototype.initChanges = function () {\n            if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n                this._workspaceEdit.changes = Object.create(null);\n            }\n        };\n        WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var annotation;\n            if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n                annotation = optionsOrAnnotation;\n            }\n            else {\n                options = optionsOrAnnotation;\n            }\n            var operation;\n            var id;\n            if (annotation === undefined) {\n                operation = CreateFile.create(uri, options);\n            }\n            else {\n                id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n                operation = CreateFile.create(uri, options, id);\n            }\n            this._workspaceEdit.documentChanges.push(operation);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var annotation;\n            if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n                annotation = optionsOrAnnotation;\n            }\n            else {\n                options = optionsOrAnnotation;\n            }\n            var operation;\n            var id;\n            if (annotation === undefined) {\n                operation = RenameFile.create(oldUri, newUri, options);\n            }\n            else {\n                id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n                operation = RenameFile.create(oldUri, newUri, options, id);\n            }\n            this._workspaceEdit.documentChanges.push(operation);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var annotation;\n            if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n                annotation = optionsOrAnnotation;\n            }\n            else {\n                options = optionsOrAnnotation;\n            }\n            var operation;\n            var id;\n            if (annotation === undefined) {\n                operation = DeleteFile.create(uri, options);\n            }\n            else {\n                id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n                operation = DeleteFile.create(uri, options, id);\n            }\n            this._workspaceEdit.documentChanges.push(operation);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        return WorkspaceChange;\n    }());\n    exports.WorkspaceChange = WorkspaceChange;\n    /**\n     * The TextDocumentIdentifier namespace provides helper functions to work with\n     * {@link TextDocumentIdentifier} literals.\n     */\n    var TextDocumentIdentifier;\n    (function (TextDocumentIdentifier) {\n        /**\n         * Creates a new TextDocumentIdentifier literal.\n         * @param uri The document's uri.\n         */\n        function create(uri) {\n            return { uri: uri };\n        }\n        TextDocumentIdentifier.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link TextDocumentIdentifier} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri);\n        }\n        TextDocumentIdentifier.is = is;\n    })(TextDocumentIdentifier || (exports.TextDocumentIdentifier = TextDocumentIdentifier = {}));\n    /**\n     * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n     * {@link VersionedTextDocumentIdentifier} literals.\n     */\n    var VersionedTextDocumentIdentifier;\n    (function (VersionedTextDocumentIdentifier) {\n        /**\n         * Creates a new VersionedTextDocumentIdentifier literal.\n         * @param uri The document's uri.\n         * @param version The document's version.\n         */\n        function create(uri, version) {\n            return { uri: uri, version: version };\n        }\n        VersionedTextDocumentIdentifier.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link VersionedTextDocumentIdentifier} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n        }\n        VersionedTextDocumentIdentifier.is = is;\n    })(VersionedTextDocumentIdentifier || (exports.VersionedTextDocumentIdentifier = VersionedTextDocumentIdentifier = {}));\n    /**\n     * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n     * {@link OptionalVersionedTextDocumentIdentifier} literals.\n     */\n    var OptionalVersionedTextDocumentIdentifier;\n    (function (OptionalVersionedTextDocumentIdentifier) {\n        /**\n         * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n         * @param uri The document's uri.\n         * @param version The document's version.\n         */\n        function create(uri, version) {\n            return { uri: uri, version: version };\n        }\n        OptionalVersionedTextDocumentIdentifier.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link OptionalVersionedTextDocumentIdentifier} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n        }\n        OptionalVersionedTextDocumentIdentifier.is = is;\n    })(OptionalVersionedTextDocumentIdentifier || (exports.OptionalVersionedTextDocumentIdentifier = OptionalVersionedTextDocumentIdentifier = {}));\n    /**\n     * The TextDocumentItem namespace provides helper functions to work with\n     * {@link TextDocumentItem} literals.\n     */\n    var TextDocumentItem;\n    (function (TextDocumentItem) {\n        /**\n         * Creates a new TextDocumentItem literal.\n         * @param uri The document's uri.\n         * @param languageId The document's language identifier.\n         * @param version The document's version number.\n         * @param text The document's text.\n         */\n        function create(uri, languageId, version, text) {\n            return { uri: uri, languageId: languageId, version: version, text: text };\n        }\n        TextDocumentItem.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link TextDocumentItem} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n        }\n        TextDocumentItem.is = is;\n    })(TextDocumentItem || (exports.TextDocumentItem = TextDocumentItem = {}));\n    /**\n     * Describes the content type that a client supports in various\n     * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n     *\n     * Please note that `MarkupKinds` must not start with a `$`. This kinds\n     * are reserved for internal usage.\n     */\n    var MarkupKind;\n    (function (MarkupKind) {\n        /**\n         * Plain text is supported as a content format\n         */\n        MarkupKind.PlainText = 'plaintext';\n        /**\n         * Markdown is supported as a content format\n         */\n        MarkupKind.Markdown = 'markdown';\n        /**\n         * Checks whether the given value is a value of the {@link MarkupKind} type.\n         */\n        function is(value) {\n            var candidate = value;\n            return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n        }\n        MarkupKind.is = is;\n    })(MarkupKind || (exports.MarkupKind = MarkupKind = {}));\n    var MarkupContent;\n    (function (MarkupContent) {\n        /**\n         * Checks whether the given value conforms to the {@link MarkupContent} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n        }\n        MarkupContent.is = is;\n    })(MarkupContent || (exports.MarkupContent = MarkupContent = {}));\n    /**\n     * The kind of a completion entry.\n     */\n    var CompletionItemKind;\n    (function (CompletionItemKind) {\n        CompletionItemKind.Text = 1;\n        CompletionItemKind.Method = 2;\n        CompletionItemKind.Function = 3;\n        CompletionItemKind.Constructor = 4;\n        CompletionItemKind.Field = 5;\n        CompletionItemKind.Variable = 6;\n        CompletionItemKind.Class = 7;\n        CompletionItemKind.Interface = 8;\n        CompletionItemKind.Module = 9;\n        CompletionItemKind.Property = 10;\n        CompletionItemKind.Unit = 11;\n        CompletionItemKind.Value = 12;\n        CompletionItemKind.Enum = 13;\n        CompletionItemKind.Keyword = 14;\n        CompletionItemKind.Snippet = 15;\n        CompletionItemKind.Color = 16;\n        CompletionItemKind.File = 17;\n        CompletionItemKind.Reference = 18;\n        CompletionItemKind.Folder = 19;\n        CompletionItemKind.EnumMember = 20;\n        CompletionItemKind.Constant = 21;\n        CompletionItemKind.Struct = 22;\n        CompletionItemKind.Event = 23;\n        CompletionItemKind.Operator = 24;\n        CompletionItemKind.TypeParameter = 25;\n    })(CompletionItemKind || (exports.CompletionItemKind = CompletionItemKind = {}));\n    /**\n     * Defines whether the insert text in a completion item should be interpreted as\n     * plain text or a snippet.\n     */\n    var InsertTextFormat;\n    (function (InsertTextFormat) {\n        /**\n         * The primary text to be inserted is treated as a plain string.\n         */\n        InsertTextFormat.PlainText = 1;\n        /**\n         * The primary text to be inserted is treated as a snippet.\n         *\n         * A snippet can define tab stops and placeholders with `$1`, `$2`\n         * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n         * the end of the snippet. Placeholders with equal identifiers are linked,\n         * that is typing in one will update others too.\n         *\n         * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n         */\n        InsertTextFormat.Snippet = 2;\n    })(InsertTextFormat || (exports.InsertTextFormat = InsertTextFormat = {}));\n    /**\n     * Completion item tags are extra annotations that tweak the rendering of a completion\n     * item.\n     *\n     * @since 3.15.0\n     */\n    var CompletionItemTag;\n    (function (CompletionItemTag) {\n        /**\n         * Render a completion as obsolete, usually using a strike-out.\n         */\n        CompletionItemTag.Deprecated = 1;\n    })(CompletionItemTag || (exports.CompletionItemTag = CompletionItemTag = {}));\n    /**\n     * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n     *\n     * @since 3.16.0\n     */\n    var InsertReplaceEdit;\n    (function (InsertReplaceEdit) {\n        /**\n         * Creates a new insert / replace edit\n         */\n        function create(newText, insert, replace) {\n            return { newText: newText, insert: insert, replace: replace };\n        }\n        InsertReplaceEdit.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link InsertReplaceEdit} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n        }\n        InsertReplaceEdit.is = is;\n    })(InsertReplaceEdit || (exports.InsertReplaceEdit = InsertReplaceEdit = {}));\n    /**\n     * How whitespace and indentation is handled during completion\n     * item insertion.\n     *\n     * @since 3.16.0\n     */\n    var InsertTextMode;\n    (function (InsertTextMode) {\n        /**\n         * The insertion or replace strings is taken as it is. If the\n         * value is multi line the lines below the cursor will be\n         * inserted using the indentation defined in the string value.\n         * The client will not apply any kind of adjustments to the\n         * string.\n         */\n        InsertTextMode.asIs = 1;\n        /**\n         * The editor adjusts leading whitespace of new lines so that\n         * they match the indentation up to the cursor of the line for\n         * which the item is accepted.\n         *\n         * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n         * multi line completion item is indented using 2 tabs and all\n         * following lines inserted will be indented using 2 tabs as well.\n         */\n        InsertTextMode.adjustIndentation = 2;\n    })(InsertTextMode || (exports.InsertTextMode = InsertTextMode = {}));\n    var CompletionItemLabelDetails;\n    (function (CompletionItemLabelDetails) {\n        function is(value) {\n            var candidate = value;\n            return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n                (Is.string(candidate.description) || candidate.description === undefined);\n        }\n        CompletionItemLabelDetails.is = is;\n    })(CompletionItemLabelDetails || (exports.CompletionItemLabelDetails = CompletionItemLabelDetails = {}));\n    /**\n     * The CompletionItem namespace provides functions to deal with\n     * completion items.\n     */\n    var CompletionItem;\n    (function (CompletionItem) {\n        /**\n         * Create a completion item and seed it with a label.\n         * @param label The completion item's label\n         */\n        function create(label) {\n            return { label: label };\n        }\n        CompletionItem.create = create;\n    })(CompletionItem || (exports.CompletionItem = CompletionItem = {}));\n    /**\n     * The CompletionList namespace provides functions to deal with\n     * completion lists.\n     */\n    var CompletionList;\n    (function (CompletionList) {\n        /**\n         * Creates a new completion list.\n         *\n         * @param items The completion items.\n         * @param isIncomplete The list is not complete.\n         */\n        function create(items, isIncomplete) {\n            return { items: items ? items : [], isIncomplete: !!isIncomplete };\n        }\n        CompletionList.create = create;\n    })(CompletionList || (exports.CompletionList = CompletionList = {}));\n    var MarkedString;\n    (function (MarkedString) {\n        /**\n         * Creates a marked string from plain text.\n         *\n         * @param plainText The plain text.\n         */\n        function fromPlainText(plainText) {\n            return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n        }\n        MarkedString.fromPlainText = fromPlainText;\n        /**\n         * Checks whether the given value conforms to the {@link MarkedString} type.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n        }\n        MarkedString.is = is;\n    })(MarkedString || (exports.MarkedString = MarkedString = {}));\n    var Hover;\n    (function (Hover) {\n        /**\n         * Checks whether the given value conforms to the {@link Hover} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n                MarkedString.is(candidate.contents) ||\n                Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n        }\n        Hover.is = is;\n    })(Hover || (exports.Hover = Hover = {}));\n    /**\n     * The ParameterInformation namespace provides helper functions to work with\n     * {@link ParameterInformation} literals.\n     */\n    var ParameterInformation;\n    (function (ParameterInformation) {\n        /**\n         * Creates a new parameter information literal.\n         *\n         * @param label A label string.\n         * @param documentation A doc string.\n         */\n        function create(label, documentation) {\n            return documentation ? { label: label, documentation: documentation } : { label: label };\n        }\n        ParameterInformation.create = create;\n    })(ParameterInformation || (exports.ParameterInformation = ParameterInformation = {}));\n    /**\n     * The SignatureInformation namespace provides helper functions to work with\n     * {@link SignatureInformation} literals.\n     */\n    var SignatureInformation;\n    (function (SignatureInformation) {\n        function create(label, documentation) {\n            var parameters = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                parameters[_i - 2] = arguments[_i];\n            }\n            var result = { label: label };\n            if (Is.defined(documentation)) {\n                result.documentation = documentation;\n            }\n            if (Is.defined(parameters)) {\n                result.parameters = parameters;\n            }\n            else {\n                result.parameters = [];\n            }\n            return result;\n        }\n        SignatureInformation.create = create;\n    })(SignatureInformation || (exports.SignatureInformation = SignatureInformation = {}));\n    /**\n     * A document highlight kind.\n     */\n    var DocumentHighlightKind;\n    (function (DocumentHighlightKind) {\n        /**\n         * A textual occurrence.\n         */\n        DocumentHighlightKind.Text = 1;\n        /**\n         * Read-access of a symbol, like reading a variable.\n         */\n        DocumentHighlightKind.Read = 2;\n        /**\n         * Write-access of a symbol, like writing to a variable.\n         */\n        DocumentHighlightKind.Write = 3;\n    })(DocumentHighlightKind || (exports.DocumentHighlightKind = DocumentHighlightKind = {}));\n    /**\n     * DocumentHighlight namespace to provide helper functions to work with\n     * {@link DocumentHighlight} literals.\n     */\n    var DocumentHighlight;\n    (function (DocumentHighlight) {\n        /**\n         * Create a DocumentHighlight object.\n         * @param range The range the highlight applies to.\n         * @param kind The highlight kind\n         */\n        function create(range, kind) {\n            var result = { range: range };\n            if (Is.number(kind)) {\n                result.kind = kind;\n            }\n            return result;\n        }\n        DocumentHighlight.create = create;\n    })(DocumentHighlight || (exports.DocumentHighlight = DocumentHighlight = {}));\n    /**\n     * A symbol kind.\n     */\n    var SymbolKind;\n    (function (SymbolKind) {\n        SymbolKind.File = 1;\n        SymbolKind.Module = 2;\n        SymbolKind.Namespace = 3;\n        SymbolKind.Package = 4;\n        SymbolKind.Class = 5;\n        SymbolKind.Method = 6;\n        SymbolKind.Property = 7;\n        SymbolKind.Field = 8;\n        SymbolKind.Constructor = 9;\n        SymbolKind.Enum = 10;\n        SymbolKind.Interface = 11;\n        SymbolKind.Function = 12;\n        SymbolKind.Variable = 13;\n        SymbolKind.Constant = 14;\n        SymbolKind.String = 15;\n        SymbolKind.Number = 16;\n        SymbolKind.Boolean = 17;\n        SymbolKind.Array = 18;\n        SymbolKind.Object = 19;\n        SymbolKind.Key = 20;\n        SymbolKind.Null = 21;\n        SymbolKind.EnumMember = 22;\n        SymbolKind.Struct = 23;\n        SymbolKind.Event = 24;\n        SymbolKind.Operator = 25;\n        SymbolKind.TypeParameter = 26;\n    })(SymbolKind || (exports.SymbolKind = SymbolKind = {}));\n    /**\n     * Symbol tags are extra annotations that tweak the rendering of a symbol.\n     *\n     * @since 3.16\n     */\n    var SymbolTag;\n    (function (SymbolTag) {\n        /**\n         * Render a symbol as obsolete, usually using a strike-out.\n         */\n        SymbolTag.Deprecated = 1;\n    })(SymbolTag || (exports.SymbolTag = SymbolTag = {}));\n    var SymbolInformation;\n    (function (SymbolInformation) {\n        /**\n         * Creates a new symbol information literal.\n         *\n         * @param name The name of the symbol.\n         * @param kind The kind of the symbol.\n         * @param range The range of the location of the symbol.\n         * @param uri The resource of the location of symbol.\n         * @param containerName The name of the symbol containing the symbol.\n         */\n        function create(name, kind, range, uri, containerName) {\n            var result = {\n                name: name,\n                kind: kind,\n                location: { uri: uri, range: range }\n            };\n            if (containerName) {\n                result.containerName = containerName;\n            }\n            return result;\n        }\n        SymbolInformation.create = create;\n    })(SymbolInformation || (exports.SymbolInformation = SymbolInformation = {}));\n    var WorkspaceSymbol;\n    (function (WorkspaceSymbol) {\n        /**\n         * Create a new workspace symbol.\n         *\n         * @param name The name of the symbol.\n         * @param kind The kind of the symbol.\n         * @param uri The resource of the location of the symbol.\n         * @param range An options range of the location.\n         * @returns A WorkspaceSymbol.\n         */\n        function create(name, kind, uri, range) {\n            return range !== undefined\n                ? { name: name, kind: kind, location: { uri: uri, range: range } }\n                : { name: name, kind: kind, location: { uri: uri } };\n        }\n        WorkspaceSymbol.create = create;\n    })(WorkspaceSymbol || (exports.WorkspaceSymbol = WorkspaceSymbol = {}));\n    var DocumentSymbol;\n    (function (DocumentSymbol) {\n        /**\n         * Creates a new symbol information literal.\n         *\n         * @param name The name of the symbol.\n         * @param detail The detail of the symbol.\n         * @param kind The kind of the symbol.\n         * @param range The range of the symbol.\n         * @param selectionRange The selectionRange of the symbol.\n         * @param children Children of the symbol.\n         */\n        function create(name, detail, kind, range, selectionRange, children) {\n            var result = {\n                name: name,\n                detail: detail,\n                kind: kind,\n                range: range,\n                selectionRange: selectionRange\n            };\n            if (children !== undefined) {\n                result.children = children;\n            }\n            return result;\n        }\n        DocumentSymbol.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link DocumentSymbol} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return candidate &&\n                Is.string(candidate.name) && Is.number(candidate.kind) &&\n                Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n                (candidate.detail === undefined || Is.string(candidate.detail)) &&\n                (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n                (candidate.children === undefined || Array.isArray(candidate.children)) &&\n                (candidate.tags === undefined || Array.isArray(candidate.tags));\n        }\n        DocumentSymbol.is = is;\n    })(DocumentSymbol || (exports.DocumentSymbol = DocumentSymbol = {}));\n    /**\n     * A set of predefined code action kinds\n     */\n    var CodeActionKind;\n    (function (CodeActionKind) {\n        /**\n         * Empty kind.\n         */\n        CodeActionKind.Empty = '';\n        /**\n         * Base kind for quickfix actions: 'quickfix'\n         */\n        CodeActionKind.QuickFix = 'quickfix';\n        /**\n         * Base kind for refactoring actions: 'refactor'\n         */\n        CodeActionKind.Refactor = 'refactor';\n        /**\n         * Base kind for refactoring extraction actions: 'refactor.extract'\n         *\n         * Example extract actions:\n         *\n         * - Extract method\n         * - Extract function\n         * - Extract variable\n         * - Extract interface from class\n         * - ...\n         */\n        CodeActionKind.RefactorExtract = 'refactor.extract';\n        /**\n         * Base kind for refactoring inline actions: 'refactor.inline'\n         *\n         * Example inline actions:\n         *\n         * - Inline function\n         * - Inline variable\n         * - Inline constant\n         * - ...\n         */\n        CodeActionKind.RefactorInline = 'refactor.inline';\n        /**\n         * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n         *\n         * Example rewrite actions:\n         *\n         * - Convert JavaScript function to class\n         * - Add or remove parameter\n         * - Encapsulate field\n         * - Make method static\n         * - Move method to base class\n         * - ...\n         */\n        CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n        /**\n         * Base kind for source actions: `source`\n         *\n         * Source code actions apply to the entire file.\n         */\n        CodeActionKind.Source = 'source';\n        /**\n         * Base kind for an organize imports source action: `source.organizeImports`\n         */\n        CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n        /**\n         * Base kind for auto-fix source actions: `source.fixAll`.\n         *\n         * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n         * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n         *\n         * @since 3.15.0\n         */\n        CodeActionKind.SourceFixAll = 'source.fixAll';\n    })(CodeActionKind || (exports.CodeActionKind = CodeActionKind = {}));\n    /**\n     * The reason why code actions were requested.\n     *\n     * @since 3.17.0\n     */\n    var CodeActionTriggerKind;\n    (function (CodeActionTriggerKind) {\n        /**\n         * Code actions were explicitly requested by the user or by an extension.\n         */\n        CodeActionTriggerKind.Invoked = 1;\n        /**\n         * Code actions were requested automatically.\n         *\n         * This typically happens when current selection in a file changes, but can\n         * also be triggered when file content changes.\n         */\n        CodeActionTriggerKind.Automatic = 2;\n    })(CodeActionTriggerKind || (exports.CodeActionTriggerKind = CodeActionTriggerKind = {}));\n    /**\n     * The CodeActionContext namespace provides helper functions to work with\n     * {@link CodeActionContext} literals.\n     */\n    var CodeActionContext;\n    (function (CodeActionContext) {\n        /**\n         * Creates a new CodeActionContext literal.\n         */\n        function create(diagnostics, only, triggerKind) {\n            var result = { diagnostics: diagnostics };\n            if (only !== undefined && only !== null) {\n                result.only = only;\n            }\n            if (triggerKind !== undefined && triggerKind !== null) {\n                result.triggerKind = triggerKind;\n            }\n            return result;\n        }\n        CodeActionContext.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link CodeActionContext} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n                && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n                && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n        }\n        CodeActionContext.is = is;\n    })(CodeActionContext || (exports.CodeActionContext = CodeActionContext = {}));\n    var CodeAction;\n    (function (CodeAction) {\n        function create(title, kindOrCommandOrEdit, kind) {\n            var result = { title: title };\n            var checkKind = true;\n            if (typeof kindOrCommandOrEdit === 'string') {\n                checkKind = false;\n                result.kind = kindOrCommandOrEdit;\n            }\n            else if (Command.is(kindOrCommandOrEdit)) {\n                result.command = kindOrCommandOrEdit;\n            }\n            else {\n                result.edit = kindOrCommandOrEdit;\n            }\n            if (checkKind && kind !== undefined) {\n                result.kind = kind;\n            }\n            return result;\n        }\n        CodeAction.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && Is.string(candidate.title) &&\n                (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n                (candidate.kind === undefined || Is.string(candidate.kind)) &&\n                (candidate.edit !== undefined || candidate.command !== undefined) &&\n                (candidate.command === undefined || Command.is(candidate.command)) &&\n                (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n                (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n        }\n        CodeAction.is = is;\n    })(CodeAction || (exports.CodeAction = CodeAction = {}));\n    /**\n     * The CodeLens namespace provides helper functions to work with\n     * {@link CodeLens} literals.\n     */\n    var CodeLens;\n    (function (CodeLens) {\n        /**\n         * Creates a new CodeLens literal.\n         */\n        function create(range, data) {\n            var result = { range: range };\n            if (Is.defined(data)) {\n                result.data = data;\n            }\n            return result;\n        }\n        CodeLens.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link CodeLens} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n        }\n        CodeLens.is = is;\n    })(CodeLens || (exports.CodeLens = CodeLens = {}));\n    /**\n     * The FormattingOptions namespace provides helper functions to work with\n     * {@link FormattingOptions} literals.\n     */\n    var FormattingOptions;\n    (function (FormattingOptions) {\n        /**\n         * Creates a new FormattingOptions literal.\n         */\n        function create(tabSize, insertSpaces) {\n            return { tabSize: tabSize, insertSpaces: insertSpaces };\n        }\n        FormattingOptions.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link FormattingOptions} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n        }\n        FormattingOptions.is = is;\n    })(FormattingOptions || (exports.FormattingOptions = FormattingOptions = {}));\n    /**\n     * The DocumentLink namespace provides helper functions to work with\n     * {@link DocumentLink} literals.\n     */\n    var DocumentLink;\n    (function (DocumentLink) {\n        /**\n         * Creates a new DocumentLink literal.\n         */\n        function create(range, target, data) {\n            return { range: range, target: target, data: data };\n        }\n        DocumentLink.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link DocumentLink} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n        }\n        DocumentLink.is = is;\n    })(DocumentLink || (exports.DocumentLink = DocumentLink = {}));\n    /**\n     * The SelectionRange namespace provides helper function to work with\n     * SelectionRange literals.\n     */\n    var SelectionRange;\n    (function (SelectionRange) {\n        /**\n         * Creates a new SelectionRange\n         * @param range the range.\n         * @param parent an optional parent.\n         */\n        function create(range, parent) {\n            return { range: range, parent: parent };\n        }\n        SelectionRange.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n        }\n        SelectionRange.is = is;\n    })(SelectionRange || (exports.SelectionRange = SelectionRange = {}));\n    /**\n     * A set of predefined token types. This set is not fixed\n     * an clients can specify additional token types via the\n     * corresponding client capabilities.\n     *\n     * @since 3.16.0\n     */\n    var SemanticTokenTypes;\n    (function (SemanticTokenTypes) {\n        SemanticTokenTypes[\"namespace\"] = \"namespace\";\n        /**\n         * Represents a generic type. Acts as a fallback for types which can't be mapped to\n         * a specific type like class or enum.\n         */\n        SemanticTokenTypes[\"type\"] = \"type\";\n        SemanticTokenTypes[\"class\"] = \"class\";\n        SemanticTokenTypes[\"enum\"] = \"enum\";\n        SemanticTokenTypes[\"interface\"] = \"interface\";\n        SemanticTokenTypes[\"struct\"] = \"struct\";\n        SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n        SemanticTokenTypes[\"parameter\"] = \"parameter\";\n        SemanticTokenTypes[\"variable\"] = \"variable\";\n        SemanticTokenTypes[\"property\"] = \"property\";\n        SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n        SemanticTokenTypes[\"event\"] = \"event\";\n        SemanticTokenTypes[\"function\"] = \"function\";\n        SemanticTokenTypes[\"method\"] = \"method\";\n        SemanticTokenTypes[\"macro\"] = \"macro\";\n        SemanticTokenTypes[\"keyword\"] = \"keyword\";\n        SemanticTokenTypes[\"modifier\"] = \"modifier\";\n        SemanticTokenTypes[\"comment\"] = \"comment\";\n        SemanticTokenTypes[\"string\"] = \"string\";\n        SemanticTokenTypes[\"number\"] = \"number\";\n        SemanticTokenTypes[\"regexp\"] = \"regexp\";\n        SemanticTokenTypes[\"operator\"] = \"operator\";\n        /**\n         * @since 3.17.0\n         */\n        SemanticTokenTypes[\"decorator\"] = \"decorator\";\n    })(SemanticTokenTypes || (exports.SemanticTokenTypes = SemanticTokenTypes = {}));\n    /**\n     * A set of predefined token modifiers. This set is not fixed\n     * an clients can specify additional token types via the\n     * corresponding client capabilities.\n     *\n     * @since 3.16.0\n     */\n    var SemanticTokenModifiers;\n    (function (SemanticTokenModifiers) {\n        SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n        SemanticTokenModifiers[\"definition\"] = \"definition\";\n        SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n        SemanticTokenModifiers[\"static\"] = \"static\";\n        SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n        SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n        SemanticTokenModifiers[\"async\"] = \"async\";\n        SemanticTokenModifiers[\"modification\"] = \"modification\";\n        SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n        SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n    })(SemanticTokenModifiers || (exports.SemanticTokenModifiers = SemanticTokenModifiers = {}));\n    /**\n     * @since 3.16.0\n     */\n    var SemanticTokens;\n    (function (SemanticTokens) {\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n                Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n        }\n        SemanticTokens.is = is;\n    })(SemanticTokens || (exports.SemanticTokens = SemanticTokens = {}));\n    /**\n     * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n     *\n     * @since 3.17.0\n     */\n    var InlineValueText;\n    (function (InlineValueText) {\n        /**\n         * Creates a new InlineValueText literal.\n         */\n        function create(range, text) {\n            return { range: range, text: text };\n        }\n        InlineValueText.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n        }\n        InlineValueText.is = is;\n    })(InlineValueText || (exports.InlineValueText = InlineValueText = {}));\n    /**\n     * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n     *\n     * @since 3.17.0\n     */\n    var InlineValueVariableLookup;\n    (function (InlineValueVariableLookup) {\n        /**\n         * Creates a new InlineValueText literal.\n         */\n        function create(range, variableName, caseSensitiveLookup) {\n            return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n        }\n        InlineValueVariableLookup.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n                && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n        }\n        InlineValueVariableLookup.is = is;\n    })(InlineValueVariableLookup || (exports.InlineValueVariableLookup = InlineValueVariableLookup = {}));\n    /**\n     * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n     *\n     * @since 3.17.0\n     */\n    var InlineValueEvaluatableExpression;\n    (function (InlineValueEvaluatableExpression) {\n        /**\n         * Creates a new InlineValueEvaluatableExpression literal.\n         */\n        function create(range, expression) {\n            return { range: range, expression: expression };\n        }\n        InlineValueEvaluatableExpression.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n                && (Is.string(candidate.expression) || candidate.expression === undefined);\n        }\n        InlineValueEvaluatableExpression.is = is;\n    })(InlineValueEvaluatableExpression || (exports.InlineValueEvaluatableExpression = InlineValueEvaluatableExpression = {}));\n    /**\n     * The InlineValueContext namespace provides helper functions to work with\n     * {@link InlineValueContext} literals.\n     *\n     * @since 3.17.0\n     */\n    var InlineValueContext;\n    (function (InlineValueContext) {\n        /**\n         * Creates a new InlineValueContext literal.\n         */\n        function create(frameId, stoppedLocation) {\n            return { frameId: frameId, stoppedLocation: stoppedLocation };\n        }\n        InlineValueContext.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link InlineValueContext} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Range.is(value.stoppedLocation);\n        }\n        InlineValueContext.is = is;\n    })(InlineValueContext || (exports.InlineValueContext = InlineValueContext = {}));\n    /**\n     * Inlay hint kinds.\n     *\n     * @since 3.17.0\n     */\n    var InlayHintKind;\n    (function (InlayHintKind) {\n        /**\n         * An inlay hint that for a type annotation.\n         */\n        InlayHintKind.Type = 1;\n        /**\n         * An inlay hint that is for a parameter.\n         */\n        InlayHintKind.Parameter = 2;\n        function is(value) {\n            return value === 1 || value === 2;\n        }\n        InlayHintKind.is = is;\n    })(InlayHintKind || (exports.InlayHintKind = InlayHintKind = {}));\n    var InlayHintLabelPart;\n    (function (InlayHintLabelPart) {\n        function create(value) {\n            return { value: value };\n        }\n        InlayHintLabelPart.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate)\n                && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n                && (candidate.location === undefined || Location.is(candidate.location))\n                && (candidate.command === undefined || Command.is(candidate.command));\n        }\n        InlayHintLabelPart.is = is;\n    })(InlayHintLabelPart || (exports.InlayHintLabelPart = InlayHintLabelPart = {}));\n    var InlayHint;\n    (function (InlayHint) {\n        function create(position, label, kind) {\n            var result = { position: position, label: label };\n            if (kind !== undefined) {\n                result.kind = kind;\n            }\n            return result;\n        }\n        InlayHint.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Position.is(candidate.position)\n                && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n                && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n                && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n                && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n                && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n                && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n        }\n        InlayHint.is = is;\n    })(InlayHint || (exports.InlayHint = InlayHint = {}));\n    var StringValue;\n    (function (StringValue) {\n        function createSnippet(value) {\n            return { kind: 'snippet', value: value };\n        }\n        StringValue.createSnippet = createSnippet;\n    })(StringValue || (exports.StringValue = StringValue = {}));\n    var InlineCompletionItem;\n    (function (InlineCompletionItem) {\n        function create(insertText, filterText, range, command) {\n            return { insertText: insertText, filterText: filterText, range: range, command: command };\n        }\n        InlineCompletionItem.create = create;\n    })(InlineCompletionItem || (exports.InlineCompletionItem = InlineCompletionItem = {}));\n    var InlineCompletionList;\n    (function (InlineCompletionList) {\n        function create(items) {\n            return { items: items };\n        }\n        InlineCompletionList.create = create;\n    })(InlineCompletionList || (exports.InlineCompletionList = InlineCompletionList = {}));\n    /**\n     * Describes how an {@link InlineCompletionItemProvider inline completion provider} was triggered.\n     *\n     * @since 3.18.0\n     * @proposed\n     */\n    var InlineCompletionTriggerKind;\n    (function (InlineCompletionTriggerKind) {\n        /**\n         * Completion was triggered explicitly by a user gesture.\n         */\n        InlineCompletionTriggerKind.Invoked = 0;\n        /**\n         * Completion was triggered automatically while editing.\n         */\n        InlineCompletionTriggerKind.Automatic = 1;\n    })(InlineCompletionTriggerKind || (exports.InlineCompletionTriggerKind = InlineCompletionTriggerKind = {}));\n    var SelectedCompletionInfo;\n    (function (SelectedCompletionInfo) {\n        function create(range, text) {\n            return { range: range, text: text };\n        }\n        SelectedCompletionInfo.create = create;\n    })(SelectedCompletionInfo || (exports.SelectedCompletionInfo = SelectedCompletionInfo = {}));\n    var InlineCompletionContext;\n    (function (InlineCompletionContext) {\n        function create(triggerKind, selectedCompletionInfo) {\n            return { triggerKind: triggerKind, selectedCompletionInfo: selectedCompletionInfo };\n        }\n        InlineCompletionContext.create = create;\n    })(InlineCompletionContext || (exports.InlineCompletionContext = InlineCompletionContext = {}));\n    var WorkspaceFolder;\n    (function (WorkspaceFolder) {\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n        }\n        WorkspaceFolder.is = is;\n    })(WorkspaceFolder || (exports.WorkspaceFolder = WorkspaceFolder = {}));\n    exports.EOL = ['\\n', '\\r\\n', '\\r'];\n    /**\n     * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n     */\n    var TextDocument;\n    (function (TextDocument) {\n        /**\n         * Creates a new ITextDocument literal from the given uri and content.\n         * @param uri The document's uri.\n         * @param languageId The document's language Id.\n         * @param version The document's version.\n         * @param content The document's content.\n         */\n        function create(uri, languageId, version, content) {\n            return new FullTextDocument(uri, languageId, version, content);\n        }\n        TextDocument.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link ITextDocument} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n                && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n        }\n        TextDocument.is = is;\n        function applyEdits(document, edits) {\n            var text = document.getText();\n            var sortedEdits = mergeSort(edits, function (a, b) {\n                var diff = a.range.start.line - b.range.start.line;\n                if (diff === 0) {\n                    return a.range.start.character - b.range.start.character;\n                }\n                return diff;\n            });\n            var lastModifiedOffset = text.length;\n            for (var i = sortedEdits.length - 1; i >= 0; i--) {\n                var e = sortedEdits[i];\n                var startOffset = document.offsetAt(e.range.start);\n                var endOffset = document.offsetAt(e.range.end);\n                if (endOffset <= lastModifiedOffset) {\n                    text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n                }\n                else {\n                    throw new Error('Overlapping edit');\n                }\n                lastModifiedOffset = startOffset;\n            }\n            return text;\n        }\n        TextDocument.applyEdits = applyEdits;\n        function mergeSort(data, compare) {\n            if (data.length <= 1) {\n                // sorted\n                return data;\n            }\n            var p = (data.length / 2) | 0;\n            var left = data.slice(0, p);\n            var right = data.slice(p);\n            mergeSort(left, compare);\n            mergeSort(right, compare);\n            var leftIdx = 0;\n            var rightIdx = 0;\n            var i = 0;\n            while (leftIdx < left.length && rightIdx < right.length) {\n                var ret = compare(left[leftIdx], right[rightIdx]);\n                if (ret <= 0) {\n                    // smaller_equal -> take left to preserve order\n                    data[i++] = left[leftIdx++];\n                }\n                else {\n                    // greater -> take right\n                    data[i++] = right[rightIdx++];\n                }\n            }\n            while (leftIdx < left.length) {\n                data[i++] = left[leftIdx++];\n            }\n            while (rightIdx < right.length) {\n                data[i++] = right[rightIdx++];\n            }\n            return data;\n        }\n    })(TextDocument || (exports.TextDocument = TextDocument = {}));\n    /**\n     * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n     */\n    var FullTextDocument = /** @class */ (function () {\n        function FullTextDocument(uri, languageId, version, content) {\n            this._uri = uri;\n            this._languageId = languageId;\n            this._version = version;\n            this._content = content;\n            this._lineOffsets = undefined;\n        }\n        Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n            get: function () {\n                return this._uri;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n            get: function () {\n                return this._languageId;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(FullTextDocument.prototype, \"version\", {\n            get: function () {\n                return this._version;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        FullTextDocument.prototype.getText = function (range) {\n            if (range) {\n                var start = this.offsetAt(range.start);\n                var end = this.offsetAt(range.end);\n                return this._content.substring(start, end);\n            }\n            return this._content;\n        };\n        FullTextDocument.prototype.update = function (event, version) {\n            this._content = event.text;\n            this._version = version;\n            this._lineOffsets = undefined;\n        };\n        FullTextDocument.prototype.getLineOffsets = function () {\n            if (this._lineOffsets === undefined) {\n                var lineOffsets = [];\n                var text = this._content;\n                var isLineStart = true;\n                for (var i = 0; i < text.length; i++) {\n                    if (isLineStart) {\n                        lineOffsets.push(i);\n                        isLineStart = false;\n                    }\n                    var ch = text.charAt(i);\n                    isLineStart = (ch === '\\r' || ch === '\\n');\n                    if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                        i++;\n                    }\n                }\n                if (isLineStart && text.length > 0) {\n                    lineOffsets.push(text.length);\n                }\n                this._lineOffsets = lineOffsets;\n            }\n            return this._lineOffsets;\n        };\n        FullTextDocument.prototype.positionAt = function (offset) {\n            offset = Math.max(Math.min(offset, this._content.length), 0);\n            var lineOffsets = this.getLineOffsets();\n            var low = 0, high = lineOffsets.length;\n            if (high === 0) {\n                return Position.create(0, offset);\n            }\n            while (low < high) {\n                var mid = Math.floor((low + high) / 2);\n                if (lineOffsets[mid] > offset) {\n                    high = mid;\n                }\n                else {\n                    low = mid + 1;\n                }\n            }\n            // low is the least x for which the line offset is larger than the current offset\n            // or array.length if no line offset is larger than the current offset\n            var line = low - 1;\n            return Position.create(line, offset - lineOffsets[line]);\n        };\n        FullTextDocument.prototype.offsetAt = function (position) {\n            var lineOffsets = this.getLineOffsets();\n            if (position.line >= lineOffsets.length) {\n                return this._content.length;\n            }\n            else if (position.line < 0) {\n                return 0;\n            }\n            var lineOffset = lineOffsets[position.line];\n            var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n            return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n        };\n        Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n            get: function () {\n                return this.getLineOffsets().length;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return FullTextDocument;\n    }());\n    var Is;\n    (function (Is) {\n        var toString = Object.prototype.toString;\n        function defined(value) {\n            return typeof value !== 'undefined';\n        }\n        Is.defined = defined;\n        function undefined(value) {\n            return typeof value === 'undefined';\n        }\n        Is.undefined = undefined;\n        function boolean(value) {\n            return value === true || value === false;\n        }\n        Is.boolean = boolean;\n        function string(value) {\n            return toString.call(value) === '[object String]';\n        }\n        Is.string = string;\n        function number(value) {\n            return toString.call(value) === '[object Number]';\n        }\n        Is.number = number;\n        function numberRange(value, min, max) {\n            return toString.call(value) === '[object Number]' && min <= value && value <= max;\n        }\n        Is.numberRange = numberRange;\n        function integer(value) {\n            return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n        }\n        Is.integer = integer;\n        function uinteger(value) {\n            return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n        }\n        Is.uinteger = uinteger;\n        function func(value) {\n            return toString.call(value) === '[object Function]';\n        }\n        Is.func = func;\n        function objectLiteral(value) {\n            // Strictly speaking class instances pass this check as well. Since the LSP\n            // doesn't use classes we ignore this for now. If we do we need to add something\n            // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n            return value !== null && typeof value === 'object';\n        }\n        Is.objectLiteral = objectLiteral;\n        function typedArray(value, check) {\n            return Array.isArray(value) && value.every(check);\n        }\n        Is.typedArray = typedArray;\n    })(Is || (Is = {}));\n});\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = exports.MessageDirection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nvar MessageDirection;\n(function (MessageDirection) {\n    MessageDirection[\"clientToServer\"] = \"clientToServer\";\n    MessageDirection[\"serverToClient\"] = \"serverToClient\";\n    MessageDirection[\"both\"] = \"both\";\n})(MessageDirection || (exports.MessageDirection = MessageDirection = {}));\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Definition} or a Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest || (exports.ImplementationRequest = ImplementationRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Definition} or a Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest || (exports.TypeDefinitionRequest = TypeDefinitionRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.method = 'workspace/workspaceFolders';\n    WorkspaceFoldersRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest.method);\n})(WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.method = 'workspace/didChangeWorkspaceFolders';\n    DidChangeWorkspaceFoldersNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification.method);\n})(DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = DidChangeWorkspaceFoldersNotification = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.method = 'workspace/configuration';\n    ConfigurationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType(ConfigurationRequest.method);\n})(ConfigurationRequest || (exports.ConfigurationRequest = ConfigurationRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type {@link DocumentColorParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest || (exports.DocumentColorRequest = DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type {@link ColorPresentationParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.method = 'textDocument/colorPresentation';\n    ColorPresentationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType(ColorPresentationRequest.method);\n})(ColorPresentationRequest || (exports.ColorPresentationRequest = ColorPresentationRequest = {}));\n", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRefreshRequest = exports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type {@link FoldingRangeParams}, the\n * response is of type {@link FoldingRangeList} or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest || (exports.FoldingRangeRequest = FoldingRangeRequest = {}));\n/**\n * @since 3.18.0\n * @proposed\n */\nvar FoldingRangeRefreshRequest;\n(function (FoldingRangeRefreshRequest) {\n    FoldingRangeRefreshRequest.method = `workspace/foldingRange/refresh`;\n    FoldingRangeRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    FoldingRangeRefreshRequest.type = new messages_1.ProtocolRequestType0(FoldingRangeRefreshRequest.method);\n})(FoldingRangeRefreshRequest || (exports.FoldingRangeRefreshRequest = FoldingRangeRefreshRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Declaration} or a typed array of {@link DeclarationLink}\n * or a Thenable that resolves to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest || (exports.DeclarationRequest = DeclarationRequest = {}));\n", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type {@link SelectionRangeParams}, the\n * response is of type {@link SelectionRange SelectionRange[]} or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest || (exports.SelectionRangeRequest = SelectionRangeRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress || (exports.WorkDoneProgress = WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = WorkDoneProgressCancelNotification = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = CallHierarchyOutgoingCallsRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat || (exports.TokenFormat = TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n    SemanticTokensRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRequest || (exports.SemanticTokensRequest = SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n    SemanticTokensDeltaRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n    SemanticTokensRangeRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = SemanticTokensRefreshRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest || (exports.ShowDocumentRequest = ShowDocumentRequest = {}));\n", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = LinkedEditingRangeRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind || (exports.FileOperationPatternKind = FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * The request can return a `WorkspaceEdit` which will be applied to workspace before the\n * files are created. Hence the `WorkspaceEdit` can not manipulate the content of the file\n * to be created.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest || (exports.WillCreateFilesRequest = WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification || (exports.DidCreateFilesNotification = DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest || (exports.WillRenameFilesRequest = WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification || (exports.DidRenameFilesNotification = DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = WillDeleteFilesRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel || (exports.UniquenessLevel = UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind || (exports.MonikerKind = MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type {@link TextDocumentPositionParams}.\n * The response is of type {@link Moniker Moniker[]} or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest || (exports.MonikerRequest = MonikerRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = TypeHierarchySubtypesRequest = {}));\n", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type {@link InlineValueParams}, the response is of type\n * {@link InlineValue InlineValue[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest || (exports.InlineValueRequest = InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = InlineValueRefreshRequest = {}));\n", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type {@link InlayHintsParams}, the response is of type\n * {@link InlayHint InlayHint[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest || (exports.InlayHintRequest = InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type {@link InlayHint}, the response is\n * of type {@link InlayHint} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest || (exports.InlayHintResolveRequest = InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = InlayHintRefreshRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = DiagnosticRefreshRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind || (exports.NotebookCellKind = NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary || (exports.ExecutionSummary = ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell || (exports.NotebookCell = NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument || (exports.NotebookDocument = NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.messageDirection = messages_1.MessageDirection.clientToServer;\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n    DidOpenNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange || (exports.NotebookCellArrayChange = NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n    DidChangeNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n    DidSaveNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n    DidCloseNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = DidCloseNotebookDocumentNotification = {}));\n", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineCompletionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline completions in a document. The request's parameter is of\n * type {@link InlineCompletionParams}, the response is of type\n * {@link InlineCompletion InlineCompletion[]} or a Thenable that resolves to such.\n *\n * @since 3.18.0\n * @proposed\n */\nvar InlineCompletionRequest;\n(function (InlineCompletionRequest) {\n    InlineCompletionRequest.method = 'textDocument/inlineCompletion';\n    InlineCompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineCompletionRequest.type = new messages_1.ProtocolRequestType(InlineCompletionRequest.method);\n})(InlineCompletionRequest || (exports.InlineCompletionRequest = InlineCompletionRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRefreshRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangesFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = void 0;\nexports.InlineCompletionRequest = exports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nObject.defineProperty(exports, \"FoldingRangeRefreshRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRefreshRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\nconst protocol_inlineCompletion_1 = require(\"./protocol.inlineCompletion\");\nObject.defineProperty(exports, \"InlineCompletionRequest\", { enumerable: true, get: function () { return protocol_inlineCompletion_1.InlineCompletionRequest; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * {@link TextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate) || (Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter || (exports.TextDocumentFilter = TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * {@link NotebookDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter || (exports.NotebookDocumentFilter = NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * {@link NotebookCellTextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * {@link DocumentSelector}s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector || (exports.DocumentSelector = DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.method = 'client/registerCapability';\n    RegistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    RegistrationRequest.type = new messages_1.ProtocolRequestType(RegistrationRequest.method);\n})(RegistrationRequest || (exports.RegistrationRequest = RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.method = 'client/unregisterCapability';\n    UnregistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType(UnregistrationRequest.method);\n})(UnregistrationRequest || (exports.UnregistrationRequest = UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind || (exports.ResourceOperationKind = ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind || (exports.FailureHandlingKind = FailureHandlingKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units (e.g. bytes).\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode codepoints,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind || (exports.PositionEncodingKind = PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * {@link StaticRegistrationOptions} literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions || (exports.StaticRegistrationOptions = StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * {@link TextDocumentRegistrationOptions} literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * {@link WorkDoneProgressOptions} literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type {@link InitializeParams}\n * the response if of type {@link InitializeResult} of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.method = 'initialize';\n    InitializeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializeRequest.type = new messages_1.ProtocolRequestType(InitializeRequest.method);\n})(InitializeRequest || (exports.InitializeRequest = InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes || (exports.InitializeErrorCodes = InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.method = 'initialized';\n    InitializedNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializedNotification.type = new messages_1.ProtocolNotificationType(InitializedNotification.method);\n})(InitializedNotification || (exports.InitializedNotification = InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.method = 'shutdown';\n    ShutdownRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0(ShutdownRequest.method);\n})(ShutdownRequest || (exports.ShutdownRequest = ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.method = 'exit';\n    ExitNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExitNotification.type = new messages_1.ProtocolNotificationType0(ExitNotification.method);\n})(ExitNotification || (exports.ExitNotification = ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.method = 'workspace/didChangeConfiguration';\n    DidChangeConfigurationNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification.method);\n})(DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n    /**\n     * A debug message.\n     *\n     * @since 3.18.0\n     */\n    MessageType.Debug = 5;\n})(MessageType || (exports.MessageType = MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.method = 'window/showMessage';\n    ShowMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType(ShowMessageNotification.method);\n})(ShowMessageNotification || (exports.ShowMessageNotification = ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.method = 'window/showMessageRequest';\n    ShowMessageRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType(ShowMessageRequest.method);\n})(ShowMessageRequest || (exports.ShowMessageRequest = ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.method = 'window/logMessage';\n    LogMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType(LogMessageNotification.method);\n})(LogMessageNotification || (exports.LogMessageNotification = LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.method = 'telemetry/event';\n    TelemetryEventNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType(TelemetryEventNotification.method);\n})(TelemetryEventNotification || (exports.TelemetryEventNotification = TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind || (exports.TextDocumentSyncKind = TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason || (exports.TextDocumentSaveReason = TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.method = 'workspace/didChangeWatchedFiles';\n    DidChangeWatchedFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification.method);\n})(DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType || (exports.FileChangeType = FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern || (exports.RelativePattern = RelativePattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind || (exports.WatchKind = WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.method = 'textDocument/publishDiagnostics';\n    PublishDiagnosticsNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification.method);\n})(PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind || (exports.CompletionTriggerKind = CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response\n * is of type {@link CompletionItem CompletionItem[]} or {@link CompletionList}\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the {@link CompletionItem.detail `detail`}\n * and {@link CompletionItem.documentation `documentation`} properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest || (exports.CompletionRequest = CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type {@link CompletionItem} the response\n * is of type {@link CompletionItem} or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest || (exports.CompletionResolveRequest = CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response is of\n * type {@link Hover} or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest || (exports.HoverRequest = HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest || (exports.SignatureHelpRequest = SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPosition}\n * the response is of either type {@link Definition} or a typed array of\n * {@link DefinitionLink} or a Thenable that resolves to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest || (exports.DefinitionRequest = DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type {@link ReferenceParams} the response is of type\n * {@link Location Location[]} or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest || (exports.ReferencesRequest = ReferencesRequest = {}));\n/**\n * Request to resolve a {@link DocumentHighlight} for a given\n * text document position. The request's parameter is of type {@link TextDocumentPosition}\n * the request response is an array of type {@link DocumentHighlight}\n * or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest || (exports.DocumentHighlightRequest = DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type {@link TextDocumentIdentifier} the\n * response is of type {@link SymbolInformation SymbolInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest || (exports.DocumentSymbolRequest = DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest || (exports.CodeActionRequest = CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type {@link CodeAction} the response\n * is of type {@link CodeAction} or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest || (exports.CodeActionResolveRequest = CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the {@link WorkspaceSymbolParams}. The response is\n * of type {@link SymbolInformation SymbolInformation[]} or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest || (exports.CodeLensRequest = CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest || (exports.CodeLensResolveRequest = CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest || (exports.DocumentLinkRequest = DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type {@link DocumentLink} the response\n * is of type {@link DocumentLink} or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = DocumentLinkResolveRequest = {}));\n/**\n * A request to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest || (exports.DocumentFormattingRequest = DocumentFormattingRequest = {}));\n/**\n * A request to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = DocumentRangeFormattingRequest = {}));\n/**\n * A request to format ranges in a document.\n *\n * @since 3.18.0\n * @proposed\n */\nvar DocumentRangesFormattingRequest;\n(function (DocumentRangesFormattingRequest) {\n    DocumentRangesFormattingRequest.method = 'textDocument/rangesFormatting';\n    DocumentRangesFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangesFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangesFormattingRequest.method);\n})(DocumentRangesFormattingRequest || (exports.DocumentRangesFormattingRequest = DocumentRangesFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest || (exports.RenameRequest = RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest || (exports.PrepareRenameRequest = PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.method = 'workspace/executeCommand';\n    ExecuteCommandRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType(ExecuteCommandRequest.method);\n})(ExecuteCommandRequest || (exports.ExecuteCommandRequest = ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.method = 'workspace/applyEdit';\n    ApplyWorkspaceEditRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = ApplyWorkspaceEditRequest = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server as detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes || (exports.LSPErrorCodes = LSPErrorCodes = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return (0, node_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n", "\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attachPartialResult = exports.ProgressFeature = exports.attachWorkDone = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nclass WorkDoneProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n        WorkDoneProgressReporterImpl.Instances.set(this._token, this);\n    }\n    begin(title, percentage, message, cancellable) {\n        let param = {\n            kind: 'begin',\n            title,\n            percentage,\n            message,\n            cancellable\n        };\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    report(arg0, arg1) {\n        let param = {\n            kind: 'report'\n        };\n        if (typeof arg0 === 'number') {\n            param.percentage = arg0;\n            if (arg1 !== undefined) {\n                param.message = arg1;\n            }\n        }\n        else {\n            param.message = arg0;\n        }\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    done() {\n        WorkDoneProgressReporterImpl.Instances.delete(this._token);\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\n    }\n}\nWorkDoneProgressReporterImpl.Instances = new Map();\nclass WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl {\n    constructor(connection, token) {\n        super(connection, token);\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n        super.done();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nclass NullProgressReporter {\n    constructor() {\n    }\n    begin() {\n    }\n    report() {\n    }\n    done() {\n    }\n}\nclass NullProgressServerReporter extends NullProgressReporter {\n    constructor() {\n        super();\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nfunction attachWorkDone(connection, params) {\n    if (params === undefined || params.workDoneToken === undefined) {\n        return new NullProgressReporter();\n    }\n    const token = params.workDoneToken;\n    delete params.workDoneToken;\n    return new WorkDoneProgressReporterImpl(connection, token);\n}\nexports.attachWorkDone = attachWorkDone;\nconst ProgressFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._progressSupported = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            if (capabilities?.window?.workDoneProgress === true) {\n                this._progressSupported = true;\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\n                    let progress = WorkDoneProgressReporterImpl.Instances.get(params.token);\n                    if (progress instanceof WorkDoneProgressServerReporterImpl || progress instanceof NullProgressServerReporter) {\n                        progress.cancel();\n                    }\n                });\n            }\n        }\n        attachWorkDoneProgress(token) {\n            if (token === undefined) {\n                return new NullProgressReporter();\n            }\n            else {\n                return new WorkDoneProgressReporterImpl(this.connection, token);\n            }\n        }\n        createWorkDoneProgress() {\n            if (this._progressSupported) {\n                const token = (0, uuid_1.generateUuid)();\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\n                    const result = new WorkDoneProgressServerReporterImpl(this.connection, token);\n                    return result;\n                });\n            }\n            else {\n                return Promise.resolve(new NullProgressServerReporter());\n            }\n        }\n    };\n};\nexports.ProgressFeature = ProgressFeature;\nvar ResultProgress;\n(function (ResultProgress) {\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\n})(ResultProgress || (ResultProgress = {}));\nclass ResultProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n    }\n    report(data) {\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\n    }\n}\nfunction attachPartialResult(connection, params) {\n    if (params === undefined || params.partialResultToken === undefined) {\n        return undefined;\n    }\n    const token = params.partialResultToken;\n    delete params.partialResultToken;\n    return new ResultProgressReporterImpl(connection, token);\n}\nexports.attachPartialResult = attachPartialResult;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst ConfigurationFeature = (Base) => {\n    return class extends Base {\n        getConfiguration(arg) {\n            if (!arg) {\n                return this._getConfiguration({});\n            }\n            else if (Is.string(arg)) {\n                return this._getConfiguration({ section: arg });\n            }\n            else {\n                return this._getConfiguration(arg);\n            }\n        }\n        _getConfiguration(arg) {\n            let params = {\n                items: Array.isArray(arg) ? arg : [arg]\n            };\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\n                if (Array.isArray(result)) {\n                    return Array.isArray(arg) ? result : result[0];\n                }\n                else {\n                    return Array.isArray(arg) ? [] : null;\n                }\n            });\n        }\n    };\n};\nexports.ConfigurationFeature = ConfigurationFeature;\n", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst WorkspaceFoldersFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._notificationIsAutoRegistered = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            let workspaceCapabilities = capabilities.workspace;\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\n                });\n            }\n        }\n        fillServerCapabilities(capabilities) {\n            super.fillServerCapabilities(capabilities);\n            const changeNotifications = capabilities.workspace?.workspaceFolders?.changeNotifications;\n            this._notificationIsAutoRegistered = changeNotifications === true || typeof changeNotifications === 'string';\n        }\n        getWorkspaceFolders() {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\n        }\n        get onDidChangeWorkspaceFolders() {\n            if (!this._onDidChangeWorkspaceFolders) {\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\n            }\n            if (!this._notificationIsAutoRegistered && !this._unregistration) {\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\n            }\n            return this._onDidChangeWorkspaceFolders.event;\n        }\n    };\n};\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst CallHierarchyFeature = (Base) => {\n    return class extends Base {\n        get callHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onIncomingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onOutgoingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.CallHierarchyFeature = CallHierarchyFeature;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensBuilder = exports.SemanticTokensDiff = exports.SemanticTokensFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst SemanticTokensFeature = (Base) => {\n    return class extends Base {\n        get semanticTokens() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type);\n                },\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onDelta: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onRange: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.SemanticTokensFeature = SemanticTokensFeature;\nclass SemanticTokensDiff {\n    constructor(originalSequence, modifiedSequence) {\n        this.originalSequence = originalSequence;\n        this.modifiedSequence = modifiedSequence;\n    }\n    computeDiff() {\n        const originalLength = this.originalSequence.length;\n        const modifiedLength = this.modifiedSequence.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && this.originalSequence[startIndex] === this.modifiedSequence[startIndex]) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= startIndex && modifiedEndIndex >= startIndex && this.originalSequence[originalEndIndex] === this.modifiedSequence[modifiedEndIndex]) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            // if one moved behind the start index move them forward again\n            if (originalEndIndex < startIndex || modifiedEndIndex < startIndex) {\n                originalEndIndex++;\n                modifiedEndIndex++;\n            }\n            const deleteCount = originalEndIndex - startIndex + 1;\n            const newData = this.modifiedSequence.slice(startIndex, modifiedEndIndex + 1);\n            // If we moved behind the start index we could have missed a simple delete.\n            if (newData.length === 1 && newData[0] === this.originalSequence[originalEndIndex]) {\n                return [\n                    { start: startIndex, deleteCount: deleteCount - 1 }\n                ];\n            }\n            else {\n                return [\n                    { start: startIndex, deleteCount, data: newData }\n                ];\n            }\n        }\n        else if (startIndex < modifiedLength) {\n            return [\n                { start: startIndex, deleteCount: 0, data: this.modifiedSequence.slice(startIndex) }\n            ];\n        }\n        else if (startIndex < originalLength) {\n            return [\n                { start: startIndex, deleteCount: originalLength - startIndex }\n            ];\n        }\n        else {\n            // The two arrays are the same.\n            return [];\n        }\n    }\n}\nexports.SemanticTokensDiff = SemanticTokensDiff;\nclass SemanticTokensBuilder {\n    constructor() {\n        this._prevData = undefined;\n        this.initialize();\n    }\n    initialize() {\n        this._id = Date.now();\n        this._prevLine = 0;\n        this._prevChar = 0;\n        this._data = [];\n        this._dataLen = 0;\n    }\n    push(line, char, length, tokenType, tokenModifiers) {\n        let pushLine = line;\n        let pushChar = char;\n        if (this._dataLen > 0) {\n            pushLine -= this._prevLine;\n            if (pushLine === 0) {\n                pushChar -= this._prevChar;\n            }\n        }\n        this._data[this._dataLen++] = pushLine;\n        this._data[this._dataLen++] = pushChar;\n        this._data[this._dataLen++] = length;\n        this._data[this._dataLen++] = tokenType;\n        this._data[this._dataLen++] = tokenModifiers;\n        this._prevLine = line;\n        this._prevChar = char;\n    }\n    get id() {\n        return this._id.toString();\n    }\n    previousResult(id) {\n        if (this.id === id) {\n            this._prevData = this._data;\n        }\n        this.initialize();\n    }\n    build() {\n        this._prevData = undefined;\n        return {\n            resultId: this.id,\n            data: this._data\n        };\n    }\n    canBuildEdits() {\n        return this._prevData !== undefined;\n    }\n    buildEdits() {\n        if (this._prevData !== undefined) {\n            return {\n                resultId: this.id,\n                edits: (new SemanticTokensDiff(this._prevData, this._data)).computeDiff()\n            };\n        }\n        else {\n            return this.build();\n        }\n    }\n}\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst ShowDocumentFeature = (Base) => {\n    return class extends Base {\n        showDocument(params) {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, params);\n        }\n    };\n};\nexports.ShowDocumentFeature = ShowDocumentFeature;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileOperationsFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FileOperationsFeature = (Base) => {\n    return class extends Base {\n        onDidCreateFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidCreateFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidRenameFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidRenameFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidDeleteFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidDeleteFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onWillCreateFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillCreateFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillRenameFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillRenameFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillDeleteFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillDeleteFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n    };\n};\nexports.FileOperationsFeature = FileOperationsFeature;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst LinkedEditingRangeFeature = (Base) => {\n    return class extends Base {\n        onLinkedEditingRange(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.LinkedEditingRangeRequest.type, (params, cancel) => {\n                return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n            });\n        }\n    };\n};\nexports.LinkedEditingRangeFeature = LinkedEditingRangeFeature;\n", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst TypeHierarchyFeature = (Base) => {\n    return class extends Base {\n        get typeHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onSupertypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onSubtypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlineValueFeature = (Base) => {\n    return class extends Base {\n        get inlineValue() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlineValueFeature = InlineValueFeature;\n", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FoldingRangeFeature = (Base) => {\n    return class extends Base {\n        get foldingRange() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRefreshRequest.type);\n                },\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.FoldingRangeRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.FoldingRangeFeature = FoldingRangeFeature;\n", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlayHintFeature = (Base) => {\n    return class extends Base {\n        get inlayHint() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                },\n                resolve: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, (params, cancel) => {\n                        return handler(params, cancel);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlayHintFeature = InlayHintFeature;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst DiagnosticFeature = (Base) => {\n    return class extends Base {\n        get diagnostics() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.partialResult, params));\n                    });\n                },\n                onWorkspace: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.DiagnosticFeature = DiagnosticFeature;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextDocuments = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\n/**\n * A manager for simple text documents. The manager requires at a minimum that\n * the server registered for the following text document sync events in the\n * initialize handler or via dynamic registration:\n *\n * - open and close events.\n * - change events.\n *\n * Registering for save and will save events is optional.\n */\nclass TextDocuments {\n    /**\n     * Create a new text document manager.\n     */\n    constructor(configuration) {\n        this._configuration = configuration;\n        this._syncedDocuments = new Map();\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened.\n     */\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened or the content changes.\n     */\n    get onDidChangeContent() {\n        return this._onDidChangeContent.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * will be saved.\n     */\n    get onWillSave() {\n        return this._onWillSave.event;\n    }\n    /**\n     * Sets a handler that will be called if a participant wants to provide\n     * edits during a text document save.\n     */\n    onWillSaveWaitUntil(handler) {\n        this._willSaveWaitUntil = handler;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been saved.\n     */\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been closed.\n     */\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Returns the document for the given URI. Returns undefined if\n     * the document is not managed by this instance.\n     *\n     * @param uri The text document's URI to retrieve.\n     * @return the text document or `undefined`.\n     */\n    get(uri) {\n        return this._syncedDocuments.get(uri);\n    }\n    /**\n     * Returns all text documents managed by this instance.\n     *\n     * @return all text documents.\n     */\n    all() {\n        return Array.from(this._syncedDocuments.values());\n    }\n    /**\n     * Returns the URIs of all text documents managed by this instance.\n     *\n     * @return the URI's of all text documents.\n     */\n    keys() {\n        return Array.from(this._syncedDocuments.keys());\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the text documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenTextDocument`, `onDidChangeTextDocument`, `onDidCloseTextDocument`,\n     * `onWillSaveTextDocument`, `onWillSaveTextDocumentWaitUntil` and `onDidSaveTextDocument`.\n     *\n     * Use the corresponding events on the TextDocuments instance instead.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental;\n        const disposables = [];\n        disposables.push(connection.onDidOpenTextDocument((event) => {\n            const td = event.textDocument;\n            const document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\n            this._syncedDocuments.set(td.uri, document);\n            const toFire = Object.freeze({ document });\n            this._onDidOpen.fire(toFire);\n            this._onDidChangeContent.fire(toFire);\n        }));\n        disposables.push(connection.onDidChangeTextDocument((event) => {\n            const td = event.textDocument;\n            const changes = event.contentChanges;\n            if (changes.length === 0) {\n                return;\n            }\n            const { version } = td;\n            if (version === null || version === undefined) {\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\n            }\n            let syncedDocument = this._syncedDocuments.get(td.uri);\n            if (syncedDocument !== undefined) {\n                syncedDocument = this._configuration.update(syncedDocument, changes, version);\n                this._syncedDocuments.set(td.uri, syncedDocument);\n                this._onDidChangeContent.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onDidCloseTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._syncedDocuments.delete(event.textDocument.uri);\n                this._onDidClose.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onWillSave.fire(Object.freeze({ document: syncedDocument, reason: event.reason }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocumentWaitUntil((event, token) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined && this._willSaveWaitUntil) {\n                return this._willSaveWaitUntil(Object.freeze({ document: syncedDocument, reason: event.reason }), token);\n            }\n            else {\n                return [];\n            }\n        }));\n        disposables.push(connection.onDidSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onDidSave.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n}\nexports.TextDocuments = TextDocuments;\n", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocuments = exports.NotebookSyncFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst textDocuments_1 = require(\"./textDocuments\");\nconst NotebookSyncFeature = (Base) => {\n    return class extends Base {\n        get synchronization() {\n            return {\n                onDidOpenNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidOpenNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidChangeNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidSaveNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidSaveNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidCloseNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidCloseNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.NotebookSyncFeature = NotebookSyncFeature;\nclass CellTextDocumentConnection {\n    onDidOpenTextDocument(handler) {\n        this.openHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.openHandler = undefined; });\n    }\n    openTextDocument(params) {\n        this.openHandler && this.openHandler(params);\n    }\n    onDidChangeTextDocument(handler) {\n        this.changeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.changeHandler = handler; });\n    }\n    changeTextDocument(params) {\n        this.changeHandler && this.changeHandler(params);\n    }\n    onDidCloseTextDocument(handler) {\n        this.closeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.closeHandler = undefined; });\n    }\n    closeTextDocument(params) {\n        this.closeHandler && this.closeHandler(params);\n    }\n    onWillSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onWillSaveTextDocumentWaitUntil() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onDidSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n}\nCellTextDocumentConnection.NULL_DISPOSE = Object.freeze({ dispose: () => { } });\nclass NotebookDocuments {\n    constructor(configurationOrTextDocuments) {\n        if (configurationOrTextDocuments instanceof textDocuments_1.TextDocuments) {\n            this._cellTextDocuments = configurationOrTextDocuments;\n        }\n        else {\n            this._cellTextDocuments = new textDocuments_1.TextDocuments(configurationOrTextDocuments);\n        }\n        this.notebookDocuments = new Map();\n        this.notebookCellMap = new Map();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidChange = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n    }\n    get cellTextDocuments() {\n        return this._cellTextDocuments;\n    }\n    getCellTextDocument(cell) {\n        return this._cellTextDocuments.get(cell.document);\n    }\n    getNotebookDocument(uri) {\n        return this.notebookDocuments.get(uri);\n    }\n    getNotebookCell(uri) {\n        const value = this.notebookCellMap.get(uri);\n        return value && value[0];\n    }\n    findNotebookDocumentForCell(cell) {\n        const key = typeof cell === 'string' ? cell : cell.document;\n        const value = this.notebookCellMap.get(key);\n        return value && value[1];\n    }\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    get onDidChange() {\n        return this._onDidChange.event;\n    }\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the notebook documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenNotebookDocument`, `onDidChangeNotebookDocument`, `onDidSaveNotebookDocument`,\n     *  and `onDidCloseNotebookDocument`.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        const cellTextDocumentConnection = new CellTextDocumentConnection();\n        const disposables = [];\n        disposables.push(this.cellTextDocuments.listen(cellTextDocumentConnection));\n        disposables.push(connection.notebooks.synchronization.onDidOpenNotebookDocument((params) => {\n            this.notebookDocuments.set(params.notebookDocument.uri, params.notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.openTextDocument({ textDocument: cellTextDocument });\n            }\n            this.updateCellMap(params.notebookDocument);\n            this._onDidOpen.fire(params.notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidChangeNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            notebookDocument.version = params.notebookDocument.version;\n            const oldMetadata = notebookDocument.metadata;\n            let metadataChanged = false;\n            const change = params.change;\n            if (change.metadata !== undefined) {\n                metadataChanged = true;\n                notebookDocument.metadata = change.metadata;\n            }\n            const opened = [];\n            const closed = [];\n            const data = [];\n            const text = [];\n            if (change.cells !== undefined) {\n                const changedCells = change.cells;\n                if (changedCells.structure !== undefined) {\n                    const array = changedCells.structure.array;\n                    notebookDocument.cells.splice(array.start, array.deleteCount, ...(array.cells !== undefined ? array.cells : []));\n                    // Additional open cell text documents.\n                    if (changedCells.structure.didOpen !== undefined) {\n                        for (const open of changedCells.structure.didOpen) {\n                            cellTextDocumentConnection.openTextDocument({ textDocument: open });\n                            opened.push(open.uri);\n                        }\n                    }\n                    // Additional closed cell test documents.\n                    if (changedCells.structure.didClose) {\n                        for (const close of changedCells.structure.didClose) {\n                            cellTextDocumentConnection.closeTextDocument({ textDocument: close });\n                            closed.push(close.uri);\n                        }\n                    }\n                }\n                if (changedCells.data !== undefined) {\n                    const cellUpdates = new Map(changedCells.data.map(cell => [cell.document, cell]));\n                    for (let i = 0; i <= notebookDocument.cells.length; i++) {\n                        const change = cellUpdates.get(notebookDocument.cells[i].document);\n                        if (change !== undefined) {\n                            const old = notebookDocument.cells.splice(i, 1, change);\n                            data.push({ old: old[0], new: change });\n                            cellUpdates.delete(change.document);\n                            if (cellUpdates.size === 0) {\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (changedCells.textContent !== undefined) {\n                    for (const cellTextDocument of changedCells.textContent) {\n                        cellTextDocumentConnection.changeTextDocument({ textDocument: cellTextDocument.document, contentChanges: cellTextDocument.changes });\n                        text.push(cellTextDocument.document.uri);\n                    }\n                }\n            }\n            // Update internal data structure.\n            this.updateCellMap(notebookDocument);\n            const changeEvent = { notebookDocument };\n            if (metadataChanged) {\n                changeEvent.metadata = { old: oldMetadata, new: notebookDocument.metadata };\n            }\n            const added = [];\n            for (const open of opened) {\n                added.push(this.getNotebookCell(open));\n            }\n            const removed = [];\n            for (const close of closed) {\n                removed.push(this.getNotebookCell(close));\n            }\n            const textContent = [];\n            for (const change of text) {\n                textContent.push(this.getNotebookCell(change));\n            }\n            if (added.length > 0 || removed.length > 0 || data.length > 0 || textContent.length > 0) {\n                changeEvent.cells = { added, removed, changed: { data, textContent } };\n            }\n            if (changeEvent.metadata !== undefined || changeEvent.cells !== undefined) {\n                this._onDidChange.fire(changeEvent);\n            }\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidSaveNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidSave.fire(notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidCloseNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidClose.fire(notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.closeTextDocument({ textDocument: cellTextDocument });\n            }\n            this.notebookDocuments.delete(params.notebookDocument.uri);\n            for (const cell of notebookDocument.cells) {\n                this.notebookCellMap.delete(cell.document);\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n    updateCellMap(notebookDocument) {\n        for (const cell of notebookDocument.cells) {\n            this.notebookCellMap.set(cell.document, [cell, notebookDocument]);\n        }\n    }\n}\nexports.NotebookDocuments = NotebookDocuments;\n", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst MonikerFeature = (Base) => {\n    return class extends Base {\n        get moniker() {\n            return {\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.MonikerRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n            };\n        }\n    };\n};\nexports.MonikerFeature = MonikerFeature;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.combineFeatures = exports.combineNotebooksFeatures = exports.combineLanguagesFeatures = exports.combineWorkspaceFeatures = exports.combineWindowFeatures = exports.combineClientFeatures = exports.combineTracerFeatures = exports.combineTelemetryFeatures = exports.combineConsoleFeatures = exports._NotebooksImpl = exports._LanguagesImpl = exports.BulkUnregistration = exports.BulkRegistration = exports.ErrorMessageTracker = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst progress_1 = require(\"./progress\");\nconst configuration_1 = require(\"./configuration\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst showDocument_1 = require(\"./showDocument\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst foldingRange_1 = require(\"./foldingRange\");\n// import { InlineCompletionFeatureShape, InlineCompletionFeature } from './inlineCompletion.proposed';\nconst inlayHint_1 = require(\"./inlayHint\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst moniker_1 = require(\"./moniker\");\nfunction null2Undefined(value) {\n    if (value === null) {\n        return undefined;\n    }\n    return value;\n}\n/**\n * Helps tracking error message. Equal occurrences of the same\n * message are only stored once. This class is for example\n * useful if text documents are validated in a loop and equal\n * error message should be folded into one.\n */\nclass ErrorMessageTracker {\n    constructor() {\n        this._messages = Object.create(null);\n    }\n    /**\n     * Add a message to the tracker.\n     *\n     * @param message The message to add.\n     */\n    add(message) {\n        let count = this._messages[message];\n        if (!count) {\n            count = 0;\n        }\n        count++;\n        this._messages[message] = count;\n    }\n    /**\n     * Send all tracked messages to the connection's window.\n     *\n     * @param connection The connection established between client and server.\n     */\n    sendErrors(connection) {\n        Object.keys(this._messages).forEach(message => {\n            connection.window.showErrorMessage(message);\n        });\n    }\n}\nexports.ErrorMessageTracker = ErrorMessageTracker;\nclass RemoteConsoleImpl {\n    constructor() {\n    }\n    rawAttach(connection) {\n        this._rawConnection = connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    initialize(_capabilities) {\n    }\n    error(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\n    }\n    warn(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\n    }\n    info(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\n    }\n    log(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\n    }\n    debug(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Debug, message);\n    }\n    send(type, message) {\n        if (this._rawConnection) {\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message }).catch(() => {\n                (0, vscode_languageserver_protocol_1.RAL)().console.error(`Sending log message failed`);\n            });\n        }\n    }\n}\nclass _RemoteWindowImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    showErrorMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showWarningMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showInformationMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n}\nconst RemoteWindowImpl = (0, showDocument_1.ShowDocumentFeature)((0, progress_1.ProgressFeature)(_RemoteWindowImpl));\nvar BulkRegistration;\n(function (BulkRegistration) {\n    /**\n     * Creates a new bulk registration.\n     * @return an empty bulk registration.\n     */\n    function create() {\n        return new BulkRegistrationImpl();\n    }\n    BulkRegistration.create = create;\n})(BulkRegistration || (exports.BulkRegistration = BulkRegistration = {}));\nclass BulkRegistrationImpl {\n    constructor() {\n        this._registrations = [];\n        this._registered = new Set();\n    }\n    add(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        if (this._registered.has(method)) {\n            throw new Error(`${method} is already added to this registration`);\n        }\n        const id = UUID.generateUuid();\n        this._registrations.push({\n            id: id,\n            method: method,\n            registerOptions: registerOptions || {}\n        });\n        this._registered.add(method);\n    }\n    asRegistrationParams() {\n        return {\n            registrations: this._registrations\n        };\n    }\n}\nvar BulkUnregistration;\n(function (BulkUnregistration) {\n    function create() {\n        return new BulkUnregistrationImpl(undefined, []);\n    }\n    BulkUnregistration.create = create;\n})(BulkUnregistration || (exports.BulkUnregistration = BulkUnregistration = {}));\nclass BulkUnregistrationImpl {\n    constructor(_connection, unregistrations) {\n        this._connection = _connection;\n        this._unregistrations = new Map();\n        unregistrations.forEach(unregistration => {\n            this._unregistrations.set(unregistration.method, unregistration);\n        });\n    }\n    get isAttached() {\n        return !!this._connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    add(unregistration) {\n        this._unregistrations.set(unregistration.method, unregistration);\n    }\n    dispose() {\n        let unregistrations = [];\n        for (let unregistration of this._unregistrations.values()) {\n            unregistrations.push(unregistration);\n        }\n        let params = {\n            unregisterations: unregistrations\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this._connection.console.info(`Bulk unregistration failed.`);\n        });\n    }\n    disposeSingle(arg) {\n        const method = Is.string(arg) ? arg : arg.method;\n        const unregistration = this._unregistrations.get(method);\n        if (!unregistration) {\n            return false;\n        }\n        let params = {\n            unregisterations: [unregistration]\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\n            this._unregistrations.delete(method);\n        }, (_error) => {\n            this._connection.console.info(`Un-registering request handler for ${unregistration.id} failed.`);\n        });\n        return true;\n    }\n}\nclass RemoteClientImpl {\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\n            return this.registerMany(typeOrRegistrations);\n        }\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\n        }\n        else {\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\n        }\n    }\n    registerSingle1(unregistration, type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        if (!unregistration.isAttached) {\n            unregistration.attach(this.connection);\n        }\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            unregistration.add({ id: id, method: method });\n            return unregistration;\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    registerSingle2(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\n                this.unregisterSingle(id, method).catch(() => { this.connection.console.info(`Un-registering capability with id ${id} failed.`); });\n            });\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    unregisterSingle(id, method) {\n        let params = {\n            unregisterations: [{ id, method }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this.connection.console.info(`Un-registering request handler for ${id} failed.`);\n        });\n    }\n    registerMany(registrations) {\n        let params = registrations.asRegistrationParams();\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\n        }, (_error) => {\n            this.connection.console.info(`Bulk registration failed.`);\n            return Promise.reject(_error);\n        });\n    }\n}\nclass _RemoteWorkspaceImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    applyEdit(paramOrEdit) {\n        function isApplyWorkspaceEditParams(value) {\n            return value && !!value.edit;\n        }\n        let params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\n    }\n}\nconst RemoteWorkspaceImpl = (0, fileOperations_1.FileOperationsFeature)((0, workspaceFolder_1.WorkspaceFoldersFeature)((0, configuration_1.ConfigurationFeature)(_RemoteWorkspaceImpl)));\nclass TracerImpl {\n    constructor() {\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    set trace(value) {\n        this._trace = value;\n    }\n    log(message, verbose) {\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\n            return;\n        }\n        this.connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\n            message: message,\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\n        }).catch(() => {\n            // Very hard to decide what to do. We tried to send a log\n            // message which failed so we can't simply send another :-(.\n        });\n    }\n}\nclass TelemetryImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    logEvent(data) {\n        this.connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data).catch(() => {\n            this.connection.console.log(`Sending TelemetryEventNotification failed`);\n        });\n    }\n}\nclass _LanguagesImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._LanguagesImpl = _LanguagesImpl;\nconst LanguagesImpl = (0, foldingRange_1.FoldingRangeFeature)((0, moniker_1.MonikerFeature)((0, diagnostic_1.DiagnosticFeature)((0, inlayHint_1.InlayHintFeature)((0, inlineValue_1.InlineValueFeature)((0, typeHierarchy_1.TypeHierarchyFeature)((0, linkedEditingRange_1.LinkedEditingRangeFeature)((0, semanticTokens_1.SemanticTokensFeature)((0, callHierarchy_1.CallHierarchyFeature)(_LanguagesImpl)))))))));\nclass _NotebooksImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._NotebooksImpl = _NotebooksImpl;\nconst NotebooksImpl = (0, notebook_1.NotebookSyncFeature)(_NotebooksImpl);\nfunction combineConsoleFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineConsoleFeatures = combineConsoleFeatures;\nfunction combineTelemetryFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\nfunction combineTracerFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTracerFeatures = combineTracerFeatures;\nfunction combineClientFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineClientFeatures = combineClientFeatures;\nfunction combineWindowFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWindowFeatures = combineWindowFeatures;\nfunction combineWorkspaceFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\nfunction combineLanguagesFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\nfunction combineNotebooksFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineNotebooksFeatures = combineNotebooksFeatures;\nfunction combineFeatures(one, two) {\n    function combine(one, two, func) {\n        if (one && two) {\n            return func(one, two);\n        }\n        else if (one) {\n            return one;\n        }\n        else {\n            return two;\n        }\n    }\n    let result = {\n        __brand: 'features',\n        console: combine(one.console, two.console, combineConsoleFeatures),\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\n        client: combine(one.client, two.client, combineClientFeatures),\n        window: combine(one.window, two.window, combineWindowFeatures),\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures),\n        languages: combine(one.languages, two.languages, combineLanguagesFeatures),\n        notebooks: combine(one.notebooks, two.notebooks, combineNotebooksFeatures)\n    };\n    return result;\n}\nexports.combineFeatures = combineFeatures;\nfunction createConnection(connectionFactory, watchDog, factories) {\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\n    const connection = connectionFactory(logger);\n    logger.rawAttach(connection);\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\n    const notebooks = (factories && factories.notebooks ? new (factories.notebooks(NotebooksImpl))() : new NotebooksImpl());\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages, notebooks];\n    function asPromise(value) {\n        if (value instanceof Promise) {\n            return value;\n        }\n        else if (Is.thenable(value)) {\n            return new Promise((resolve, reject) => {\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\n            });\n        }\n        else {\n            return Promise.resolve(value);\n        }\n    }\n    let shutdownHandler = undefined;\n    let initializeHandler = undefined;\n    let exitHandler = undefined;\n    let protocolConnection = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        sendNotification: (type, param) => {\n            const method = Is.string(type) ? type : type.method;\n            return connection.sendNotification(method, param);\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        onInitialize: (handler) => {\n            initializeHandler = handler;\n            return {\n                dispose: () => {\n                    initializeHandler = undefined;\n                }\n            };\n        },\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\n        onShutdown: (handler) => {\n            shutdownHandler = handler;\n            return {\n                dispose: () => {\n                    shutdownHandler = undefined;\n                }\n            };\n        },\n        onExit: (handler) => {\n            exitHandler = handler;\n            return {\n                dispose: () => {\n                    exitHandler = undefined;\n                }\n            };\n        },\n        get console() { return logger; },\n        get telemetry() { return telemetry; },\n        get tracer() { return tracer; },\n        get client() { return client; },\n        get window() { return remoteWindow; },\n        get workspace() { return workspace; },\n        get languages() { return languages; },\n        get notebooks() { return notebooks; },\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\n        __textDocumentSync: undefined,\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbolResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, handler),\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeActionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        dispose: () => connection.dispose()\n    };\n    for (let remote of allRemotes) {\n        remote.attach(protocolConnection);\n    }\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\n        watchDog.initialize(params);\n        if (Is.string(params.trace)) {\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\n        }\n        for (let remote of allRemotes) {\n            remote.initialize(params.capabilities);\n        }\n        if (initializeHandler) {\n            let result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, (0, progress_1.attachWorkDone)(connection, params), undefined);\n            return asPromise(result).then((value) => {\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\n                    return value;\n                }\n                let result = value;\n                if (!result) {\n                    result = { capabilities: {} };\n                }\n                let capabilities = result.capabilities;\n                if (!capabilities) {\n                    capabilities = {};\n                    result.capabilities = capabilities;\n                }\n                if (capabilities.textDocumentSync === undefined || capabilities.textDocumentSync === null) {\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                for (let remote of allRemotes) {\n                    remote.fillServerCapabilities(capabilities);\n                }\n                return result;\n            });\n        }\n        else {\n            let result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\n            for (let remote of allRemotes) {\n                remote.fillServerCapabilities(result.capabilities);\n            }\n            return result;\n        }\n    });\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\n        watchDog.shutdownReceived = true;\n        if (shutdownHandler) {\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\n        }\n        else {\n            return undefined;\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\n        try {\n            if (exitHandler) {\n                exitHandler();\n            }\n        }\n        finally {\n            if (watchDog.shutdownReceived) {\n                watchDog.exit(0);\n            }\n            else {\n                watchDog.exit(1);\n            }\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\n    });\n    return protocolConnection;\n}\nexports.createConnection = createConnection;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveModulePath = exports.FileSystem = exports.resolveGlobalYarnPath = exports.resolveGlobalNodePath = exports.resolve = exports.uriToFilePath = void 0;\nconst url = require(\"url\");\nconst path = require(\"path\");\nconst fs = require(\"fs\");\nconst child_process_1 = require(\"child_process\");\n/**\n * @deprecated Use the `vscode-uri` npm module which provides a more\n * complete implementation of handling VS Code URIs.\n */\nfunction uriToFilePath(uri) {\n    let parsed = url.parse(uri);\n    if (parsed.protocol !== 'file:' || !parsed.path) {\n        return undefined;\n    }\n    let segments = parsed.path.split('/');\n    for (var i = 0, len = segments.length; i < len; i++) {\n        segments[i] = decodeURIComponent(segments[i]);\n    }\n    if (process.platform === 'win32' && segments.length > 1) {\n        let first = segments[0];\n        let second = segments[1];\n        // Do we have a drive letter and we started with a / which is the\n        // case if the first segement is empty (see split above)\n        if (first.length === 0 && second.length > 1 && second[1] === ':') {\n            // Remove first slash\n            segments.shift();\n        }\n    }\n    return path.normalize(segments.join('/'));\n}\nexports.uriToFilePath = uriToFilePath;\nfunction isWindows() {\n    return process.platform === 'win32';\n}\nfunction resolve(moduleName, nodePath, cwd, tracer) {\n    const nodePathKey = 'NODE_PATH';\n    const app = [\n        'var p = process;',\n        'p.on(\\'message\\',function(m){',\n        'if(m.c===\\'e\\'){',\n        'p.exit(0);',\n        '}',\n        'else if(m.c===\\'rs\\'){',\n        'try{',\n        'var r=require.resolve(m.a);',\n        'p.send({c:\\'r\\',s:true,r:r});',\n        '}',\n        'catch(err){',\n        'p.send({c:\\'r\\',s:false});',\n        '}',\n        '}',\n        '});'\n    ].join('');\n    return new Promise((resolve, reject) => {\n        let env = process.env;\n        let newEnv = Object.create(null);\n        Object.keys(env).forEach(key => newEnv[key] = env[key]);\n        if (nodePath && fs.existsSync(nodePath) /* see issue 545 */) {\n            if (newEnv[nodePathKey]) {\n                newEnv[nodePathKey] = nodePath + path.delimiter + newEnv[nodePathKey];\n            }\n            else {\n                newEnv[nodePathKey] = nodePath;\n            }\n            if (tracer) {\n                tracer(`NODE_PATH value is: ${newEnv[nodePathKey]}`);\n            }\n        }\n        newEnv['ELECTRON_RUN_AS_NODE'] = '1';\n        try {\n            let cp = (0, child_process_1.fork)('', [], {\n                cwd: cwd,\n                env: newEnv,\n                execArgv: ['-e', app]\n            });\n            if (cp.pid === void 0) {\n                reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));\n                return;\n            }\n            cp.on('error', (error) => {\n                reject(error);\n            });\n            cp.on('message', (message) => {\n                if (message.c === 'r') {\n                    cp.send({ c: 'e' });\n                    if (message.s) {\n                        resolve(message.r);\n                    }\n                    else {\n                        reject(new Error(`Failed to resolve module: ${moduleName}`));\n                    }\n                }\n            });\n            let message = {\n                c: 'rs',\n                a: moduleName\n            };\n            cp.send(message);\n        }\n        catch (error) {\n            reject(error);\n        }\n    });\n}\nexports.resolve = resolve;\n/**\n * Resolve the global npm package path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalNodePath(tracer) {\n    let npmCommand = 'npm';\n    const env = Object.create(null);\n    Object.keys(process.env).forEach(key => env[key] = process.env[key]);\n    env['NO_UPDATE_NOTIFIER'] = 'true';\n    const options = {\n        encoding: 'utf8',\n        env\n    };\n    if (isWindows()) {\n        npmCommand = 'npm.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let stdout = (0, child_process_1.spawnSync)(npmCommand, ['config', 'get', 'prefix'], options).stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'npm config get prefix' didn't return a value.`);\n            }\n            return undefined;\n        }\n        let prefix = stdout.trim();\n        if (tracer) {\n            tracer(`'npm config get prefix' value is: ${prefix}`);\n        }\n        if (prefix.length > 0) {\n            if (isWindows()) {\n                return path.join(prefix, 'node_modules');\n            }\n            else {\n                return path.join(prefix, 'lib', 'node_modules');\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalNodePath = resolveGlobalNodePath;\n/*\n * Resolve the global yarn pakage path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalYarnPath(tracer) {\n    let yarnCommand = 'yarn';\n    let options = {\n        encoding: 'utf8'\n    };\n    if (isWindows()) {\n        yarnCommand = 'yarn.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let results = (0, child_process_1.spawnSync)(yarnCommand, ['global', 'dir', '--json'], options);\n        let stdout = results.stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'yarn global dir' didn't return a value.`);\n                if (results.stderr) {\n                    tracer(results.stderr);\n                }\n            }\n            return undefined;\n        }\n        let lines = stdout.trim().split(/\\r?\\n/);\n        for (let line of lines) {\n            try {\n                let yarn = JSON.parse(line);\n                if (yarn.type === 'log') {\n                    return path.join(yarn.data, 'node_modules');\n                }\n            }\n            catch (e) {\n                // Do nothing. Ignore the line\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalYarnPath = resolveGlobalYarnPath;\nvar FileSystem;\n(function (FileSystem) {\n    let _isCaseSensitive = undefined;\n    function isCaseSensitive() {\n        if (_isCaseSensitive !== void 0) {\n            return _isCaseSensitive;\n        }\n        if (process.platform === 'win32') {\n            _isCaseSensitive = false;\n        }\n        else {\n            // convert current file name to upper case / lower case and check if file exists\n            // (guards against cases when name is already all uppercase or lowercase)\n            _isCaseSensitive = !fs.existsSync(__filename.toUpperCase()) || !fs.existsSync(__filename.toLowerCase());\n        }\n        return _isCaseSensitive;\n    }\n    FileSystem.isCaseSensitive = isCaseSensitive;\n    function isParent(parent, child) {\n        if (isCaseSensitive()) {\n            return path.normalize(child).indexOf(path.normalize(parent)) === 0;\n        }\n        else {\n            return path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase()) === 0;\n        }\n    }\n    FileSystem.isParent = isParent;\n})(FileSystem || (exports.FileSystem = FileSystem = {}));\nfunction resolveModulePath(workspaceRoot, moduleName, nodePath, tracer) {\n    if (nodePath) {\n        if (!path.isAbsolute(nodePath)) {\n            nodePath = path.join(workspaceRoot, nodePath);\n        }\n        return resolve(moduleName, nodePath, nodePath, tracer).then((value) => {\n            if (FileSystem.isParent(nodePath, value)) {\n                return value;\n            }\n            else {\n                return Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`));\n            }\n        }).then(undefined, (_error) => {\n            return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n        });\n    }\n    else {\n        return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n    }\n}\nexports.resolveModulePath = resolveModulePath;\n", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineCompletionFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlineCompletionFeature = (Base) => {\n    return class extends Base {\n        get inlineCompletion() {\n            return {\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlineCompletionRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlineCompletionFeature = InlineCompletionFeature;\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.NotebookDocuments = exports.TextDocuments = exports.SemanticTokensBuilder = void 0;\nconst semanticTokens_1 = require(\"./semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokensBuilder\", { enumerable: true, get: function () { return semanticTokens_1.SemanticTokensBuilder; } });\nconst ic = require(\"./inlineCompletion.proposed\");\n__exportStar(require(\"vscode-languageserver-protocol/\"), exports);\nconst textDocuments_1 = require(\"./textDocuments\");\nObject.defineProperty(exports, \"TextDocuments\", { enumerable: true, get: function () { return textDocuments_1.TextDocuments; } });\nconst notebook_1 = require(\"./notebook\");\nObject.defineProperty(exports, \"NotebookDocuments\", { enumerable: true, get: function () { return notebook_1.NotebookDocuments; } });\n__exportStar(require(\"./server\"), exports);\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    ProposedFeatures.all = {\n        __brand: 'features',\n        languages: ic.InlineCompletionFeature\n    };\n})(ProposedFeatures || (exports.ProposedFeatures = ProposedFeatures = {}));\n", "\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.Files = void 0;\nconst node_util_1 = require(\"node:util\");\nconst Is = require(\"../common/utils/is\");\nconst server_1 = require(\"../common/server\");\nconst fm = require(\"./files\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nvar Files;\n(function (Files) {\n    Files.uriToFilePath = fm.uriToFilePath;\n    Files.resolveGlobalNodePath = fm.resolveGlobalNodePath;\n    Files.resolveGlobalYarnPath = fm.resolveGlobalYarnPath;\n    Files.resolve = fm.resolve;\n    Files.resolveModulePath = fm.resolveModulePath;\n})(Files || (exports.Files = Files = {}));\nlet _protocolConnection;\nfunction endProtocolConnection() {\n    if (_protocolConnection === undefined) {\n        return;\n    }\n    try {\n        _protocolConnection.end();\n    }\n    catch (_err) {\n        // Ignore. The client process could have already\n        // did and we can't send an end into the connection.\n    }\n}\nlet _shutdownReceived = false;\nlet exitTimer = undefined;\nfunction setupExitTimer() {\n    const argName = '--clientProcessId';\n    function runTimer(value) {\n        try {\n            let processId = parseInt(value);\n            if (!isNaN(processId)) {\n                exitTimer = setInterval(() => {\n                    try {\n                        process.kill(processId, 0);\n                    }\n                    catch (ex) {\n                        // Parent process doesn't exist anymore. Exit the server.\n                        endProtocolConnection();\n                        process.exit(_shutdownReceived ? 0 : 1);\n                    }\n                }, 3000);\n            }\n        }\n        catch (e) {\n            // Ignore errors;\n        }\n    }\n    for (let i = 2; i < process.argv.length; i++) {\n        let arg = process.argv[i];\n        if (arg === argName && i + 1 < process.argv.length) {\n            runTimer(process.argv[i + 1]);\n            return;\n        }\n        else {\n            let args = arg.split('=');\n            if (args[0] === argName) {\n                runTimer(args[1]);\n            }\n        }\n    }\n}\nsetupExitTimer();\nconst watchDog = {\n    initialize: (params) => {\n        const processId = params.processId;\n        if (Is.number(processId) && exitTimer === undefined) {\n            // We received a parent process id. Set up a timer to periodically check\n            // if the parent is still alive.\n            setInterval(() => {\n                try {\n                    process.kill(processId, 0);\n                }\n                catch (ex) {\n                    // Parent process doesn't exist anymore. Exit the server.\n                    process.exit(_shutdownReceived ? 0 : 1);\n                }\n            }, 3000);\n        }\n    },\n    get shutdownReceived() {\n        return _shutdownReceived;\n    },\n    set shutdownReceived(value) {\n        _shutdownReceived = value;\n    },\n    exit: (code) => {\n        endProtocolConnection();\n        process.exit(code);\n    }\n};\nfunction createConnection(arg1, arg2, arg3, arg4) {\n    let factories;\n    let input;\n    let output;\n    let options;\n    if (arg1 !== void 0 && arg1.__brand === 'features') {\n        factories = arg1;\n        arg1 = arg2;\n        arg2 = arg3;\n        arg3 = arg4;\n    }\n    if (node_1.ConnectionStrategy.is(arg1) || node_1.ConnectionOptions.is(arg1)) {\n        options = arg1;\n    }\n    else {\n        input = arg1;\n        output = arg2;\n        options = arg3;\n    }\n    return _createConnection(input, output, options, factories);\n}\nexports.createConnection = createConnection;\nfunction _createConnection(input, output, options, factories) {\n    let stdio = false;\n    if (!input && !output && process.argv.length > 2) {\n        let port = void 0;\n        let pipeName = void 0;\n        let argv = process.argv.slice(2);\n        for (let i = 0; i < argv.length; i++) {\n            let arg = argv[i];\n            if (arg === '--node-ipc') {\n                input = new node_1.IPCMessageReader(process);\n                output = new node_1.IPCMessageWriter(process);\n                break;\n            }\n            else if (arg === '--stdio') {\n                stdio = true;\n                input = process.stdin;\n                output = process.stdout;\n                break;\n            }\n            else if (arg === '--socket') {\n                port = parseInt(argv[i + 1]);\n                break;\n            }\n            else if (arg === '--pipe') {\n                pipeName = argv[i + 1];\n                break;\n            }\n            else {\n                var args = arg.split('=');\n                if (args[0] === '--socket') {\n                    port = parseInt(args[1]);\n                    break;\n                }\n                else if (args[0] === '--pipe') {\n                    pipeName = args[1];\n                    break;\n                }\n            }\n        }\n        if (port) {\n            let transport = (0, node_1.createServerSocketTransport)(port);\n            input = transport[0];\n            output = transport[1];\n        }\n        else if (pipeName) {\n            let transport = (0, node_1.createServerPipeTransport)(pipeName);\n            input = transport[0];\n            output = transport[1];\n        }\n    }\n    var commandLineMessage = 'Use arguments of createConnection or set command line parameters: \\'--node-ipc\\', \\'--stdio\\' or \\'--socket={number}\\'';\n    if (!input) {\n        throw new Error('Connection input stream is not set. ' + commandLineMessage);\n    }\n    if (!output) {\n        throw new Error('Connection output stream is not set. ' + commandLineMessage);\n    }\n    // Backwards compatibility\n    if (Is.func(input.read) && Is.func(input.on)) {\n        let inputStream = input;\n        inputStream.on('end', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n        inputStream.on('close', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n    }\n    const connectionFactory = (logger) => {\n        const result = (0, node_1.createProtocolConnection)(input, output, logger, options);\n        if (stdio) {\n            patchConsole(logger);\n        }\n        return result;\n    };\n    return (0, server_1.createConnection)(connectionFactory, watchDog, factories);\n}\nfunction patchConsole(logger) {\n    function serialize(args) {\n        return args.map(arg => typeof arg === 'string' ? arg : (0, node_util_1.inspect)(arg)).join(' ');\n    }\n    const counters = new Map();\n    console.assert = function assert(assertion, ...args) {\n        if (assertion) {\n            return;\n        }\n        if (args.length === 0) {\n            logger.error('Assertion failed');\n        }\n        else {\n            const [message, ...rest] = args;\n            logger.error(`Assertion failed: ${message} ${serialize(rest)}`);\n        }\n    };\n    console.count = function count(label = 'default') {\n        const message = String(label);\n        let counter = counters.get(message) ?? 0;\n        counter += 1;\n        counters.set(message, counter);\n        logger.log(`${message}: ${message}`);\n    };\n    console.countReset = function countReset(label) {\n        if (label === undefined) {\n            counters.clear();\n        }\n        else {\n            counters.delete(String(label));\n        }\n    };\n    console.debug = function debug(...args) {\n        logger.log(serialize(args));\n    };\n    console.dir = function dir(arg, options) {\n        // @ts-expect-error https://github.com/DefinitelyTyped/DefinitelyTyped/pull/66626\n        logger.log((0, node_util_1.inspect)(arg, options));\n    };\n    console.log = function log(...args) {\n        logger.log(serialize(args));\n    };\n    console.error = function error(...args) {\n        logger.error(serialize(args));\n    };\n    console.trace = function trace(...args) {\n        const stack = new Error().stack.replace(/(.+\\n){2}/, '');\n        let message = 'Trace';\n        if (args.length !== 0) {\n            message += `: ${serialize(args)}`;\n        }\n        logger.log(`${message}\\n${stack}`);\n    };\n    console.warn = function warn(...args) {\n        logger.warn(serialize(args));\n    };\n}\n", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');", "/*!\n * Tmp\n *\n * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>\n *\n * MIT Licensed\n */\n\n/*\n * Module dependencies.\n */\nconst fs = require('fs');\nconst os = require('os');\nconst path = require('path');\nconst crypto = require('crypto');\nconst _c = { fs: fs.constants, os: os.constants };\n\n/*\n * The working inner variables.\n */\nconst\n  // the random characters to choose from\n  RANDOM_CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n\n  TEMPLATE_PATTERN = /XXXXXX/,\n\n  DEFAULT_TRIES = 3,\n\n  CREATE_FLAGS = (_c.O_CREAT || _c.fs.O_CREAT) | (_c.O_EXCL || _c.fs.O_EXCL) | (_c.O_RDWR || _c.fs.O_RDWR),\n\n  // constants are off on the windows platform and will not match the actual errno codes\n  IS_WIN32 = os.platform() === 'win32',\n  EBADF = _c.EBADF || _c.os.errno.EBADF,\n  ENOENT = _c.ENOENT || _c.os.errno.ENOENT,\n\n  DIR_MODE = 0o700 /* 448 */,\n  FILE_MODE = 0o600 /* 384 */,\n\n  EXIT = 'exit',\n\n  // this will hold the objects need to be removed on exit\n  _removeObjects = [],\n\n  // API change in fs.rmdirSync leads to error when passing in a second parameter, e.g. the callback\n  FN_RMDIR_SYNC = fs.rmdirSync.bind(fs);\n\nlet\n  _gracefulCleanup = false;\n\n/**\n * Recursively remove a directory and its contents.\n *\n * @param {string} dirPath path of directory to remove\n * @param {Function} callback\n * @private\n */\nfunction rimraf(dirPath, callback) {\n  return fs.rm(dirPath, { recursive: true }, callback);\n}\n\n/**\n * Recursively remove a directory and its contents, synchronously.\n *\n * @param {string} dirPath path of directory to remove\n * @private\n */\nfunction FN_RIMRAF_SYNC(dirPath) {\n  return fs.rmSync(dirPath, { recursive: true });\n}\n\n/**\n * Gets a temporary file name.\n *\n * @param {(Options|tmpNameCallback)} options options or callback\n * @param {?tmpNameCallback} callback the callback function\n */\nfunction tmpName(options, callback) {\n  const\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1];\n\n  try {\n    _assertAndSanitizeOptions(opts);\n  } catch (err) {\n    return cb(err);\n  }\n\n  let tries = opts.tries;\n  (function _getUniqueName() {\n    try {\n      const name = _generateTmpName(opts);\n\n      // check whether the path exists then retry if needed\n      fs.stat(name, function (err) {\n        /* istanbul ignore else */\n        if (!err) {\n          /* istanbul ignore else */\n          if (tries-- > 0) return _getUniqueName();\n\n          return cb(new Error('Could not get a unique tmp filename, max tries reached ' + name));\n        }\n\n        cb(null, name);\n      });\n    } catch (err) {\n      cb(err);\n    }\n  }());\n}\n\n/**\n * Synchronous version of tmpName.\n *\n * @param {Object} options\n * @returns {string} the generated random name\n * @throws {Error} if the options are invalid or could not generate a filename\n */\nfunction tmpNameSync(options) {\n  const\n    args = _parseArguments(options),\n    opts = args[0];\n\n  _assertAndSanitizeOptions(opts);\n\n  let tries = opts.tries;\n  do {\n    const name = _generateTmpName(opts);\n    try {\n      fs.statSync(name);\n    } catch (e) {\n      return name;\n    }\n  } while (tries-- > 0);\n\n  throw new Error('Could not get a unique tmp filename, max tries reached');\n}\n\n/**\n * Creates and opens a temporary file.\n *\n * @param {(Options|null|undefined|fileCallback)} options the config options or the callback function or null or undefined\n * @param {?fileCallback} callback\n */\nfunction file(options, callback) {\n  const\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1];\n\n  // gets a temporary filename\n  tmpName(opts, function _tmpNameCreated(err, name) {\n    /* istanbul ignore else */\n    if (err) return cb(err);\n\n    // create and open the file\n    fs.open(name, CREATE_FLAGS, opts.mode || FILE_MODE, function _fileCreated(err, fd) {\n      /* istanbu ignore else */\n      if (err) return cb(err);\n\n      if (opts.discardDescriptor) {\n        return fs.close(fd, function _discardCallback(possibleErr) {\n          // the chance of getting an error on close here is rather low and might occur in the most edgiest cases only\n          return cb(possibleErr, name, undefined, _prepareTmpFileRemoveCallback(name, -1, opts, false));\n        });\n      } else {\n        // detachDescriptor passes the descriptor whereas discardDescriptor closes it, either way, we no longer care\n        // about the descriptor\n        const discardOrDetachDescriptor = opts.discardDescriptor || opts.detachDescriptor;\n        cb(null, name, fd, _prepareTmpFileRemoveCallback(name, discardOrDetachDescriptor ? -1 : fd, opts, false));\n      }\n    });\n  });\n}\n\n/**\n * Synchronous version of file.\n *\n * @param {Options} options\n * @returns {FileSyncObject} object consists of name, fd and removeCallback\n * @throws {Error} if cannot create a file\n */\nfunction fileSync(options) {\n  const\n    args = _parseArguments(options),\n    opts = args[0];\n\n  const discardOrDetachDescriptor = opts.discardDescriptor || opts.detachDescriptor;\n  const name = tmpNameSync(opts);\n  var fd = fs.openSync(name, CREATE_FLAGS, opts.mode || FILE_MODE);\n  /* istanbul ignore else */\n  if (opts.discardDescriptor) {\n    fs.closeSync(fd);\n    fd = undefined;\n  }\n\n  return {\n    name: name,\n    fd: fd,\n    removeCallback: _prepareTmpFileRemoveCallback(name, discardOrDetachDescriptor ? -1 : fd, opts, true)\n  };\n}\n\n/**\n * Creates a temporary directory.\n *\n * @param {(Options|dirCallback)} options the options or the callback function\n * @param {?dirCallback} callback\n */\nfunction dir(options, callback) {\n  const\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1];\n\n  // gets a temporary filename\n  tmpName(opts, function _tmpNameCreated(err, name) {\n    /* istanbul ignore else */\n    if (err) return cb(err);\n\n    // create the directory\n    fs.mkdir(name, opts.mode || DIR_MODE, function _dirCreated(err) {\n      /* istanbul ignore else */\n      if (err) return cb(err);\n\n      cb(null, name, _prepareTmpDirRemoveCallback(name, opts, false));\n    });\n  });\n}\n\n/**\n * Synchronous version of dir.\n *\n * @param {Options} options\n * @returns {DirSyncObject} object consists of name and removeCallback\n * @throws {Error} if it cannot create a directory\n */\nfunction dirSync(options) {\n  const\n    args = _parseArguments(options),\n    opts = args[0];\n\n  const name = tmpNameSync(opts);\n  fs.mkdirSync(name, opts.mode || DIR_MODE);\n\n  return {\n    name: name,\n    removeCallback: _prepareTmpDirRemoveCallback(name, opts, true)\n  };\n}\n\n/**\n * Removes files asynchronously.\n *\n * @param {Object} fdPath\n * @param {Function} next\n * @private\n */\nfunction _removeFileAsync(fdPath, next) {\n  const _handler = function (err) {\n    if (err && !_isENOENT(err)) {\n      // reraise any unanticipated error\n      return next(err);\n    }\n    next();\n  };\n\n  if (0 <= fdPath[0])\n    fs.close(fdPath[0], function () {\n      fs.unlink(fdPath[1], _handler);\n    });\n  else fs.unlink(fdPath[1], _handler);\n}\n\n/**\n * Removes files synchronously.\n *\n * @param {Object} fdPath\n * @private\n */\nfunction _removeFileSync(fdPath) {\n  let rethrownException = null;\n  try {\n    if (0 <= fdPath[0]) fs.closeSync(fdPath[0]);\n  } catch (e) {\n    // reraise any unanticipated error\n    if (!_isEBADF(e) && !_isENOENT(e)) throw e;\n  } finally {\n    try {\n      fs.unlinkSync(fdPath[1]);\n    }\n    catch (e) {\n      // reraise any unanticipated error\n      if (!_isENOENT(e)) rethrownException = e;\n    }\n  }\n  if (rethrownException !== null) {\n    throw rethrownException;\n  }\n}\n\n/**\n * Prepares the callback for removal of the temporary file.\n *\n * Returns either a sync callback or a async callback depending on whether\n * fileSync or file was called, which is expressed by the sync parameter.\n *\n * @param {string} name the path of the file\n * @param {number} fd file descriptor\n * @param {Object} opts\n * @param {boolean} sync\n * @returns {fileCallback | fileCallbackSync}\n * @private\n */\nfunction _prepareTmpFileRemoveCallback(name, fd, opts, sync) {\n  const removeCallbackSync = _prepareRemoveCallback(_removeFileSync, [fd, name], sync);\n  const removeCallback = _prepareRemoveCallback(_removeFileAsync, [fd, name], sync, removeCallbackSync);\n\n  if (!opts.keep) _removeObjects.unshift(removeCallbackSync);\n\n  return sync ? removeCallbackSync : removeCallback;\n}\n\n/**\n * Prepares the callback for removal of the temporary directory.\n *\n * Returns either a sync callback or a async callback depending on whether\n * tmpFileSync or tmpFile was called, which is expressed by the sync parameter.\n *\n * @param {string} name\n * @param {Object} opts\n * @param {boolean} sync\n * @returns {Function} the callback\n * @private\n */\nfunction _prepareTmpDirRemoveCallback(name, opts, sync) {\n  const removeFunction = opts.unsafeCleanup ? rimraf : fs.rmdir.bind(fs);\n  const removeFunctionSync = opts.unsafeCleanup ? FN_RIMRAF_SYNC : FN_RMDIR_SYNC;\n  const removeCallbackSync = _prepareRemoveCallback(removeFunctionSync, name, sync);\n  const removeCallback = _prepareRemoveCallback(removeFunction, name, sync, removeCallbackSync);\n  if (!opts.keep) _removeObjects.unshift(removeCallbackSync);\n\n  return sync ? removeCallbackSync : removeCallback;\n}\n\n/**\n * Creates a guarded function wrapping the removeFunction call.\n *\n * The cleanup callback is save to be called multiple times.\n * Subsequent invocations will be ignored.\n *\n * @param {Function} removeFunction\n * @param {string} fileOrDirName\n * @param {boolean} sync\n * @param {cleanupCallbackSync?} cleanupCallbackSync\n * @returns {cleanupCallback | cleanupCallbackSync}\n * @private\n */\nfunction _prepareRemoveCallback(removeFunction, fileOrDirName, sync, cleanupCallbackSync) {\n  let called = false;\n\n  // if sync is true, the next parameter will be ignored\n  return function _cleanupCallback(next) {\n\n    /* istanbul ignore else */\n    if (!called) {\n      // remove cleanupCallback from cache\n      const toRemove = cleanupCallbackSync || _cleanupCallback;\n      const index = _removeObjects.indexOf(toRemove);\n      /* istanbul ignore else */\n      if (index >= 0) _removeObjects.splice(index, 1);\n\n      called = true;\n      if (sync || removeFunction === FN_RMDIR_SYNC || removeFunction === FN_RIMRAF_SYNC) {\n        return removeFunction(fileOrDirName);\n      } else {\n        return removeFunction(fileOrDirName, next || function() {});\n      }\n    }\n  };\n}\n\n/**\n * The garbage collector.\n *\n * @private\n */\nfunction _garbageCollector() {\n  /* istanbul ignore else */\n  if (!_gracefulCleanup) return;\n\n  // the function being called removes itself from _removeObjects,\n  // loop until _removeObjects is empty\n  while (_removeObjects.length) {\n    try {\n      _removeObjects[0]();\n    } catch (e) {\n      // already removed?\n    }\n  }\n}\n\n/**\n * Random name generator based on crypto.\n * Adapted from http://blog.tompawlak.org/how-to-generate-random-values-nodejs-javascript\n *\n * @param {number} howMany\n * @returns {string} the generated random name\n * @private\n */\nfunction _randomChars(howMany) {\n  let\n    value = [],\n    rnd = null;\n\n  // make sure that we do not fail because we ran out of entropy\n  try {\n    rnd = crypto.randomBytes(howMany);\n  } catch (e) {\n    rnd = crypto.pseudoRandomBytes(howMany);\n  }\n\n  for (var i = 0; i < howMany; i++) {\n    value.push(RANDOM_CHARS[rnd[i] % RANDOM_CHARS.length]);\n  }\n\n  return value.join('');\n}\n\n/**\n * Helper which determines whether a string s is blank, that is undefined, or empty or null.\n *\n * @private\n * @param {string} s\n * @returns {Boolean} true whether the string s is blank, false otherwise\n */\nfunction _isBlank(s) {\n  return s === null || _isUndefined(s) || !s.trim();\n}\n\n/**\n * Checks whether the `obj` parameter is defined or not.\n *\n * @param {Object} obj\n * @returns {boolean} true if the object is undefined\n * @private\n */\nfunction _isUndefined(obj) {\n  return typeof obj === 'undefined';\n}\n\n/**\n * Parses the function arguments.\n *\n * This function helps to have optional arguments.\n *\n * @param {(Options|null|undefined|Function)} options\n * @param {?Function} callback\n * @returns {Array} parsed arguments\n * @private\n */\nfunction _parseArguments(options, callback) {\n  /* istanbul ignore else */\n  if (typeof options === 'function') {\n    return [{}, options];\n  }\n\n  /* istanbul ignore else */\n  if (_isUndefined(options)) {\n    return [{}, callback];\n  }\n\n  // copy options so we do not leak the changes we make internally\n  const actualOptions = {};\n  for (const key of Object.getOwnPropertyNames(options)) {\n    actualOptions[key] = options[key];\n  }\n\n  return [actualOptions, callback];\n}\n\n/**\n * Generates a new temporary name.\n *\n * @param {Object} opts\n * @returns {string} the new random name according to opts\n * @private\n */\nfunction _generateTmpName(opts) {\n\n  const tmpDir = opts.tmpdir;\n\n  /* istanbul ignore else */\n  if (!_isUndefined(opts.name))\n    return path.join(tmpDir, opts.dir, opts.name);\n\n  /* istanbul ignore else */\n  if (!_isUndefined(opts.template))\n    return path.join(tmpDir, opts.dir, opts.template).replace(TEMPLATE_PATTERN, _randomChars(6));\n\n  // prefix and postfix\n  const name = [\n    opts.prefix ? opts.prefix : 'tmp',\n    '-',\n    process.pid,\n    '-',\n    _randomChars(12),\n    opts.postfix ? '-' + opts.postfix : ''\n  ].join('');\n\n  return path.join(tmpDir, opts.dir, name);\n}\n\n/**\n * Asserts whether the specified options are valid, also sanitizes options and provides sane defaults for missing\n * options.\n *\n * @param {Options} options\n * @private\n */\nfunction _assertAndSanitizeOptions(options) {\n\n  options.tmpdir = _getTmpDir(options);\n\n  const tmpDir = options.tmpdir;\n\n  /* istanbul ignore else */\n  if (!_isUndefined(options.name))\n    _assertIsRelative(options.name, 'name', tmpDir);\n  /* istanbul ignore else */\n  if (!_isUndefined(options.dir))\n    _assertIsRelative(options.dir, 'dir', tmpDir);\n  /* istanbul ignore else */\n  if (!_isUndefined(options.template)) {\n    _assertIsRelative(options.template, 'template', tmpDir);\n    if (!options.template.match(TEMPLATE_PATTERN))\n      throw new Error(`Invalid template, found \"${options.template}\".`);\n  }\n  /* istanbul ignore else */\n  if (!_isUndefined(options.tries) && isNaN(options.tries) || options.tries < 0)\n    throw new Error(`Invalid tries, found \"${options.tries}\".`);\n\n  // if a name was specified we will try once\n  options.tries = _isUndefined(options.name) ? options.tries || DEFAULT_TRIES : 1;\n  options.keep = !!options.keep;\n  options.detachDescriptor = !!options.detachDescriptor;\n  options.discardDescriptor = !!options.discardDescriptor;\n  options.unsafeCleanup = !!options.unsafeCleanup;\n\n  // sanitize dir, also keep (multiple) blanks if the user, purportedly sane, requests us to\n  options.dir = _isUndefined(options.dir) ? '' : path.relative(tmpDir, _resolvePath(options.dir, tmpDir));\n  options.template = _isUndefined(options.template) ? undefined : path.relative(tmpDir, _resolvePath(options.template, tmpDir));\n  // sanitize further if template is relative to options.dir\n  options.template = _isBlank(options.template) ? undefined : path.relative(options.dir, options.template);\n\n  // for completeness' sake only, also keep (multiple) blanks if the user, purportedly sane, requests us to\n  options.name = _isUndefined(options.name) ? undefined : options.name;\n  options.prefix = _isUndefined(options.prefix) ? '' : options.prefix;\n  options.postfix = _isUndefined(options.postfix) ? '' : options.postfix;\n}\n\n/**\n * Resolve the specified path name in respect to tmpDir.\n *\n * The specified name might include relative path components, e.g. ../\n * so we need to resolve in order to be sure that is is located inside tmpDir\n *\n * @param name\n * @param tmpDir\n * @returns {string}\n * @private\n */\nfunction _resolvePath(name, tmpDir) {\n  if (name.startsWith(tmpDir)) {\n    return path.resolve(name);\n  } else {\n    return path.resolve(path.join(tmpDir, name));\n  }\n}\n\n/**\n * Asserts whether specified name is relative to the specified tmpDir.\n *\n * @param {string} name\n * @param {string} option\n * @param {string} tmpDir\n * @throws {Error}\n * @private\n */\nfunction _assertIsRelative(name, option, tmpDir) {\n  if (option === 'name') {\n    // assert that name is not absolute and does not contain a path\n    if (path.isAbsolute(name))\n      throw new Error(`${option} option must not contain an absolute path, found \"${name}\".`);\n    // must not fail on valid .<name> or ..<name> or similar such constructs\n    let basename = path.basename(name);\n    if (basename === '..' || basename === '.' || basename !== name)\n      throw new Error(`${option} option must not contain a path, found \"${name}\".`);\n  }\n  else { // if (option === 'dir' || option === 'template') {\n    // assert that dir or template are relative to tmpDir\n    if (path.isAbsolute(name) && !name.startsWith(tmpDir)) {\n      throw new Error(`${option} option must be relative to \"${tmpDir}\", found \"${name}\".`);\n    }\n    let resolvedPath = _resolvePath(name, tmpDir);\n    if (!resolvedPath.startsWith(tmpDir))\n      throw new Error(`${option} option must be relative to \"${tmpDir}\", found \"${resolvedPath}\".`);\n  }\n}\n\n/**\n * Helper for testing against EBADF to compensate changes made to Node 7.x under Windows.\n *\n * @private\n */\nfunction _isEBADF(error) {\n  return _isExpectedError(error, -EBADF, 'EBADF');\n}\n\n/**\n * Helper for testing against ENOENT to compensate changes made to Node 7.x under Windows.\n *\n * @private\n */\nfunction _isENOENT(error) {\n  return _isExpectedError(error, -ENOENT, 'ENOENT');\n}\n\n/**\n * Helper to determine whether the expected error code matches the actual code and errno,\n * which will differ between the supported node versions.\n *\n * - Node >= 7.0:\n *   error.code {string}\n *   error.errno {number} any numerical value will be negated\n *\n * CAVEAT\n *\n * On windows, the errno for EBADF is -4083 but os.constants.errno.EBADF is different and we must assume that ENOENT\n * is no different here.\n *\n * @param {SystemError} error\n * @param {number} errno\n * @param {string} code\n * @private\n */\nfunction _isExpectedError(error, errno, code) {\n  return IS_WIN32 ? error.code === code : error.code === code && error.errno === errno;\n}\n\n/**\n * Sets the graceful cleanup.\n *\n * If graceful cleanup is set, tmp will remove all controlled temporary objects on process exit, otherwise the\n * temporary objects will remain in place, waiting to be cleaned up on system restart or otherwise scheduled temporary\n * object removals.\n */\nfunction setGracefulCleanup() {\n  _gracefulCleanup = true;\n}\n\n/**\n * Returns the currently configured tmp dir from os.tmpdir().\n *\n * @private\n * @param {?Options} options\n * @returns {string} the currently configured tmp dir\n */\nfunction _getTmpDir(options) {\n  return path.resolve(options && options.tmpdir || os.tmpdir());\n}\n\n// Install process exit listener\nprocess.addListener(EXIT, _garbageCollector);\n\n/**\n * Configuration options.\n *\n * @typedef {Object} Options\n * @property {?boolean} keep the temporary object (file or dir) will not be garbage collected\n * @property {?number} tries the number of tries before give up the name generation\n * @property (?int) mode the access mode, defaults are 0o700 for directories and 0o600 for files\n * @property {?string} template the \"mkstemp\" like filename template\n * @property {?string} name fixed name relative to tmpdir or the specified dir option\n * @property {?string} dir tmp directory relative to the root tmp directory in use\n * @property {?string} prefix prefix for the generated name\n * @property {?string} postfix postfix for the generated name\n * @property {?string} tmpdir the root tmp directory which overrides the os tmpdir\n * @property {?boolean} unsafeCleanup recursively removes the created temporary directory, even when it's not empty\n * @property {?boolean} detachDescriptor detaches the file descriptor, caller is responsible for closing the file, tmp will no longer try closing the file during garbage collection\n * @property {?boolean} discardDescriptor discards the file descriptor (closes file, fd is -1), tmp will no longer try closing the file during garbage collection\n */\n\n/**\n * @typedef {Object} FileSyncObject\n * @property {string} name the name of the file\n * @property {string} fd the file descriptor or -1 if the fd has been discarded\n * @property {fileCallback} removeCallback the callback function to remove the file\n */\n\n/**\n * @typedef {Object} DirSyncObject\n * @property {string} name the name of the directory\n * @property {fileCallback} removeCallback the callback function to remove the directory\n */\n\n/**\n * @callback tmpNameCallback\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n */\n\n/**\n * @callback fileCallback\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {number} fd the file descriptor or -1 if the fd had been discarded\n * @param {cleanupCallback} fn the cleanup callback function\n */\n\n/**\n * @callback fileCallbackSync\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {number} fd the file descriptor or -1 if the fd had been discarded\n * @param {cleanupCallbackSync} fn the cleanup callback function\n */\n\n/**\n * @callback dirCallback\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {cleanupCallback} fn the cleanup callback function\n */\n\n/**\n * @callback dirCallbackSync\n * @param {?Error} err the error object if anything goes wrong\n * @param {string} name the temporary file name\n * @param {cleanupCallbackSync} fn the cleanup callback function\n */\n\n/**\n * Removes the temporary created file or directory.\n *\n * @callback cleanupCallback\n * @param {simpleCallback} [next] function to call whenever the tmp object needs to be removed\n */\n\n/**\n * Removes the temporary created file or directory.\n *\n * @callback cleanupCallbackSync\n */\n\n/**\n * Callback function for function composition.\n * @see {@link https://github.com/raszi/node-tmp/issues/57|raszi/node-tmp#57}\n *\n * @callback simpleCallback\n */\n\n// exporting all the needed methods\n\n// evaluate _getTmpDir() lazily, mainly for simplifying testing but it also will\n// allow users to reconfigure the temporary directory\nObject.defineProperty(module.exports, 'tmpdir', {\n  enumerable: true,\n  configurable: false,\n  get: function () {\n    return _getTmpDir();\n  }\n});\n\nmodule.exports.dir = dir;\nmodule.exports.dirSync = dirSync;\n\nmodule.exports.file = file;\nmodule.exports.fileSync = fileSync;\n\nmodule.exports.tmpName = tmpName;\nmodule.exports.tmpNameSync = tmpNameSync;\n\nmodule.exports.setGracefulCleanup = setGracefulCleanup;\n", "/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\nimport {\r\n  CompletionItem,\r\n  CompletionItemKind,\r\n  Definition,\r\n  Diagnostic,\r\n  DiagnosticSeverity,\r\n  DidChangeConfigurationNotification,\r\n  HandlerResult,\r\n  HoverParams,\r\n  InitializeParams,\r\n  InitializeResult,\r\n  ProposedFeatures,\r\n  TextDocumentPositionParams,\r\n  TextDocumentSyncKind,\r\n  TextDocuments,\r\n  createConnection,\r\n} from 'vscode-languageserver/node';\r\n\r\nimport {\r\n  InlayHint,\r\n  InlayHintKind,\r\n  InlayHintLabelPart,\r\n  InlayHintParams,\r\n  Position,\r\n} from 'vscode-languageserver-protocol';\r\n\r\nimport { TextEncoder } from 'node:util';\r\nimport { TextDocument } from 'vscode-languageserver-textdocument';\r\nimport { URI } from 'vscode-uri';\r\n\r\ninterface NuTextDocument extends TextDocument {\r\n  nuInlayHints?: InlayHint[];\r\n}\r\n\r\n// import fs = require('fs');\r\nimport * as fs from 'fs';\r\n// import tmp = require('tmp');\r\nimport * as tmp from 'tmp';\r\n// import path = require('path');\r\nimport * as path from 'path';\r\n\r\n// import util = require('node:util');\r\nimport * as util from 'node:util';\r\nimport * as child_process from 'node:child_process';\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-var-requires\r\n// const exec = util.promisify(require('node:child_process').exec);\r\nconst exec = util.promisify(child_process.exec);\r\n\r\nconst tmpFile = tmp.fileSync({ prefix: 'nushell', keep: false });\r\n\r\n// Create a connection for the server, using Node's IPC as a transport.\r\n// Also include all preview / proposed LSP features.\r\nconst connection = createConnection(ProposedFeatures.all);\r\n\r\n// Create a simple text document manager.\r\nconst documents: TextDocuments<TextDocument> = new TextDocuments(TextDocument);\r\n\r\nlet hasConfigurationCapability = false;\r\nlet hasWorkspaceFolderCapability = false;\r\nlet hasDiagnosticRelatedInformationCapability = false;\r\n\r\nfunction includeFlagForPath(file_path: string): string {\r\n  const parsed = URI.parse(file_path);\r\n  if (parsed.scheme === 'file') {\r\n    return '-I ' + '\"' + path.dirname(parsed.fsPath);\r\n  }\r\n  return '-I ' + '\"' + file_path;\r\n}\r\n\r\nconnection.onExit(() => {\r\n  tmpFile.removeCallback();\r\n});\r\n\r\nconnection.onInitialize((params: InitializeParams) => {\r\n  const capabilities = params.capabilities;\r\n\r\n  // Does the client support the `workspace/configuration` request?\r\n  // If not, we fall back using global settings.\r\n  hasConfigurationCapability = !!(\r\n    capabilities.workspace && !!capabilities.workspace.configuration\r\n  );\r\n  hasWorkspaceFolderCapability = !!(\r\n    capabilities.workspace && !!capabilities.workspace.workspaceFolders\r\n  );\r\n  hasDiagnosticRelatedInformationCapability = !!(\r\n    capabilities.textDocument &&\r\n    capabilities.textDocument.publishDiagnostics &&\r\n    capabilities.textDocument.publishDiagnostics.relatedInformation\r\n  );\r\n\r\n  const result: InitializeResult = {\r\n    capabilities: {\r\n      textDocumentSync: TextDocumentSyncKind.Incremental,\r\n      // Tell the client that this server supports code completion.\r\n      completionProvider: {\r\n        resolveProvider: true,\r\n      },\r\n      inlayHintProvider: {\r\n        resolveProvider: false,\r\n      },\r\n      hoverProvider: true,\r\n      definitionProvider: true,\r\n    },\r\n  };\r\n  if (hasWorkspaceFolderCapability) {\r\n    result.capabilities.workspace = {\r\n      workspaceFolders: {\r\n        supported: true,\r\n      },\r\n    };\r\n  }\r\n  return result;\r\n});\r\n\r\nlet labelid = 0;\r\nfunction createLabel(name: string): string {\r\n  return `${name}#${labelid++}`;\r\n}\r\nasync function durationLogWrapper<T>(\r\n  name: string,\r\n  fn: (label: string) => Promise<T>,\r\n): Promise<T> {\r\n  console.log('Triggered ' + name + ': ...');\r\n  const label = createLabel(name);\r\n  console.time(label);\r\n  const result = await fn(label);\r\n\r\n  // This purposefully has the same prefix length as the \"Triggered \" log above,\r\n  // also does not add a newline at the end.\r\n  process.stdout.write('Finished  ');\r\n  console.timeEnd(label);\r\n  return new Promise<T>((resolve) => resolve(result));\r\n}\r\n\r\nconnection.onInitialized(() => {\r\n  if (hasConfigurationCapability) {\r\n    // Register for all configuration changes.\r\n    connection.client.register(\r\n      DidChangeConfigurationNotification.type,\r\n      undefined,\r\n    );\r\n  }\r\n  if (hasWorkspaceFolderCapability) {\r\n    connection.workspace.onDidChangeWorkspaceFolders((_event) => {\r\n      connection.console.log('Workspace folder change event received.');\r\n    });\r\n  }\r\n});\r\n\r\n// The nushell settings\r\ninterface NushellIDESettings {\r\n  maxNumberOfProblems: number;\r\n  hints: {\r\n    showInferredTypes: boolean;\r\n  };\r\n  nushellExecutablePath: string;\r\n  maxNushellInvocationTime: number;\r\n  includeDirs: string[];\r\n}\r\n\r\n// The global settings, used when the `workspace/configuration` request is not supported by the client.\r\n// Please note that this is not the case when using this server with the client provided in this example\r\n// but could happen with other clients.\r\nconst defaultSettings: NushellIDESettings = {\r\n  maxNumberOfProblems: 1000,\r\n  hints: { showInferredTypes: true },\r\n  nushellExecutablePath: 'nu',\r\n  maxNushellInvocationTime: 10000000,\r\n  includeDirs: [],\r\n};\r\nlet globalSettings: NushellIDESettings = defaultSettings;\r\n\r\n// Cache the settings of all open documents\r\nconst documentSettings: Map<string, Thenable<NushellIDESettings>> = new Map();\r\n\r\nconnection.onDidChangeConfiguration((change) => {\r\n  if (hasConfigurationCapability) {\r\n    // Reset all cached document settings\r\n    documentSettings.clear();\r\n  } else {\r\n    globalSettings = <NushellIDESettings>(\r\n      (change.settings.nushellLanguageServer || defaultSettings)\r\n    );\r\n  }\r\n\r\n  // Revalidate all open text documents\r\n  documents.all().forEach(validateTextDocument);\r\n});\r\n\r\nfunction getDocumentSettings(resource: string): Thenable<NushellIDESettings> {\r\n  if (!hasConfigurationCapability) {\r\n    return Promise.resolve(globalSettings);\r\n  }\r\n  let result = documentSettings.get(resource);\r\n  if (!result) {\r\n    result = connection.workspace.getConfiguration({\r\n      scopeUri: resource,\r\n      section: 'nushellLanguageServer',\r\n    });\r\n    documentSettings.set(resource, result);\r\n  }\r\n  return result;\r\n}\r\n\r\n// Only keep settings for open documents\r\ndocuments.onDidClose((e) => {\r\n  documentSettings.delete(e.document.uri);\r\n});\r\n\r\nfunction debounce(func: any, wait: number, immediate: boolean) {\r\n  let timeout: any;\r\n\r\n  return function executedFunction(this: any, ...args: any[]) {\r\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n    const context = this;\r\n\r\n    const later = function () {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n\r\n    const callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n}\r\n\r\ndocuments.onDidChangeContent(\r\n  (() => {\r\n    const throttledValidateTextDocument = debounce(\r\n      validateTextDocument,\r\n      500,\r\n      false,\r\n    );\r\n\r\n    return (change) => {\r\n      throttledValidateTextDocument(change.document);\r\n    };\r\n  })(),\r\n);\r\n\r\nasync function validateTextDocument(\r\n  textDocument: NuTextDocument,\r\n): Promise<void> {\r\n  return await durationLogWrapper(\r\n    `validateTextDocument ${textDocument.uri}`,\r\n    async (label) => {\r\n      if (!hasDiagnosticRelatedInformationCapability) {\r\n        console.error(\r\n          'Trying to validate a document with no diagnostic capability',\r\n        );\r\n        return;\r\n      }\r\n\r\n      // In this simple example we get the settings for every validate run.\r\n      const settings = await getDocumentSettings(textDocument.uri);\r\n\r\n      // The validator creates diagnostics for all uppercase words length 2 and more\r\n      const text = textDocument.getText();\r\n      const lineBreaks = findLineBreaks(text);\r\n\r\n      const stdout = await runCompiler(\r\n        text,\r\n        '--ide-check',\r\n        settings,\r\n        textDocument.uri,\r\n        { label: label },\r\n      );\r\n\r\n      textDocument.nuInlayHints = [];\r\n      const diagnostics: Diagnostic[] = [];\r\n\r\n      // FIXME: We use this to deduplicate type hints given by the compiler.\r\n      //        It'd be nicer if it didn't give duplicate hints in the first place.\r\n      const seenTypeHintPositions = new Set();\r\n\r\n      const lines = stdout.split('\\n').filter((l) => l.length > 0);\r\n      for (const line of lines) {\r\n        connection.console.log('line: ' + line);\r\n        try {\r\n          const obj = JSON.parse(line);\r\n\r\n          if (obj.type == 'diagnostic') {\r\n            let severity: DiagnosticSeverity = DiagnosticSeverity.Error;\r\n\r\n            switch (obj.severity) {\r\n              case 'Information':\r\n                severity = DiagnosticSeverity.Information;\r\n                break;\r\n              case 'Hint':\r\n                severity = DiagnosticSeverity.Hint;\r\n                break;\r\n              case 'Warning':\r\n                severity = DiagnosticSeverity.Warning;\r\n                break;\r\n              case 'Error':\r\n                severity = DiagnosticSeverity.Error;\r\n                break;\r\n            }\r\n\r\n            const position_start = convertSpan(obj.span.start, lineBreaks);\r\n            const position_end = convertSpan(obj.span.end, lineBreaks);\r\n\r\n            const diagnostic: Diagnostic = {\r\n              severity,\r\n              range: {\r\n                start: position_start,\r\n                end: position_end,\r\n              },\r\n              message: obj.message,\r\n              source: textDocument.uri,\r\n            };\r\n\r\n            // connection.console.log(diagnostic.message);\r\n\r\n            diagnostics.push(diagnostic);\r\n          } else if (obj.type == 'hint' && settings.hints.showInferredTypes) {\r\n            if (!seenTypeHintPositions.has(obj.position)) {\r\n              seenTypeHintPositions.add(obj.position);\r\n              const position = convertSpan(obj.position.end, lineBreaks);\r\n              const hint_string = ': ' + obj.typename;\r\n              const hint = InlayHint.create(\r\n                position,\r\n                [InlayHintLabelPart.create(hint_string)],\r\n                InlayHintKind.Type,\r\n              );\r\n\r\n              textDocument.nuInlayHints.push(hint);\r\n            }\r\n          }\r\n        } catch (e) {\r\n          connection.console.error(`error: ${e}`);\r\n        }\r\n      }\r\n\r\n      // Send the computed diagnostics to VSCode.\r\n      connection.sendDiagnostics({ uri: textDocument.uri, diagnostics });\r\n    },\r\n  );\r\n}\r\n\r\nconnection.onDidChangeWatchedFiles((_change) => {\r\n  // Monitored files have change in VSCode\r\n  connection.console.log('We received an file change event');\r\n});\r\n\r\nfunction lowerBoundBinarySearch(arr: number[], num: number): number {\r\n  let low = 0;\r\n  let mid = 0;\r\n  let high = arr.length - 1;\r\n\r\n  if (num >= arr[high]) return high;\r\n\r\n  while (low < high) {\r\n    // Bitshift to avoid floating point division\r\n    mid = (low + high) >> 1;\r\n\r\n    if (arr[mid] < num) {\r\n      low = mid + 1;\r\n    } else {\r\n      high = mid;\r\n    }\r\n  }\r\n\r\n  return low - 1;\r\n}\r\n\r\nfunction convertSpan(utf8_offset: number, lineBreaks: Array<number>): Position {\r\n  const lineBreakIndex = lowerBoundBinarySearch(lineBreaks, utf8_offset);\r\n\r\n  const start_of_line_offset =\r\n    lineBreakIndex == -1 ? 0 : lineBreaks[lineBreakIndex] + 1;\r\n  const character = Math.max(0, utf8_offset - start_of_line_offset);\r\n\r\n  return { line: lineBreakIndex + 1, character };\r\n}\r\n\r\nfunction convertPosition(position: Position, text: string): number {\r\n  let line = 0;\r\n  let character = 0;\r\n  const buffer = new TextEncoder().encode(text);\r\n\r\n  let i = 0;\r\n  while (i < buffer.length) {\r\n    if (line == position.line && character == position.character) {\r\n      return i;\r\n    }\r\n\r\n    if (buffer.at(i) == 0x0a) {\r\n      line++;\r\n      character = 0;\r\n    } else {\r\n      character++;\r\n    }\r\n\r\n    i++;\r\n  }\r\n\r\n  return i;\r\n}\r\n\r\nasync function runCompiler(\r\n  text: string, // this is the script or the snippet of nushell code\r\n  flags: string,\r\n  settings: NushellIDESettings,\r\n  uri: string,\r\n  options: { allowErrors?: boolean; label: string } = { label: 'runCompiler' },\r\n): Promise<string> {\r\n  const allowErrors =\r\n    options.allowErrors === undefined ? true : options.allowErrors;\r\n\r\n  try {\r\n    fs.writeFileSync(tmpFile.name, text);\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  } catch (e: any) {\r\n    connection.console.error(\r\n      `[${options.label}] error writing to tmp file: ${e}`,\r\n    );\r\n  }\r\n\r\n  let stdout = '';\r\n  try {\r\n    const script_path_flag =\r\n      includeFlagForPath(uri) +\r\n      '\\x1e' + // \\x1e is the record separator character (a character that is unlikely to appear in a path)\r\n      settings.includeDirs.join('\\x1e') +\r\n      '\"';\r\n\r\n    const max_errors = settings.maxNumberOfProblems;\r\n\r\n    if (flags.includes('ide-check')) {\r\n      flags = flags + ' ' + max_errors;\r\n    }\r\n\r\n    connection.console.log(\r\n      `[${options.label}] running: ${settings.nushellExecutablePath} ${flags} ${script_path_flag} ${tmpFile.name}`,\r\n    );\r\n\r\n    const output = await exec(\r\n      `${settings.nushellExecutablePath} ${flags} ${script_path_flag} ${tmpFile.name}`,\r\n      {\r\n        timeout: settings.maxNushellInvocationTime,\r\n      },\r\n    );\r\n    stdout = output.stdout;\r\n    console.log(`[${options.label}] stdout: ${stdout}`);\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  } catch (e: any) {\r\n    stdout = e.stdout;\r\n    connection.console.log(`[${options.label}] compile failed: ` + e);\r\n    if (!allowErrors) {\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  return stdout;\r\n}\r\n\r\nconnection.onHover(async (request: HoverParams) => {\r\n  return await durationLogWrapper(`onHover`, async () => {\r\n    const document = documents.get(request.textDocument.uri);\r\n    const settings = await getDocumentSettings(request.textDocument.uri);\r\n\r\n    const text = document?.getText();\r\n\r\n    if (!(typeof text == 'string')) return null;\r\n\r\n    // connection.console.log(\"request: \");\r\n    // connection.console.log(request.textDocument.uri);\r\n    // connection.console.log(\"index: \" + convertPosition(request.position, text));\r\n    const stdout = await runCompiler(\r\n      text,\r\n      '--ide-hover ' + convertPosition(request.position, text),\r\n      settings,\r\n      request.textDocument.uri,\r\n    );\r\n\r\n    const lines = stdout.split('\\n').filter((l) => l.length > 0);\r\n    for (const line of lines) {\r\n      const obj = JSON.parse(line);\r\n      // connection.console.log(\"hovering\");\r\n      // connection.console.log(obj);\r\n\r\n      // FIXME: Figure out how to import `vscode` package in server.ts without\r\n      // getting runtime import errors to remove this deprecation warning.\r\n      const contents = {\r\n        value: obj.hover,\r\n        kind: 'markdown',\r\n      };\r\n\r\n      if (obj.hover != '') {\r\n        if (obj.span) {\r\n          const lineBreaks = findLineBreaks(\r\n            obj.file\r\n              ? (await fs.promises.readFile(obj.file)).toString()\r\n              : (document?.getText() ?? ''),\r\n          );\r\n\r\n          return {\r\n            contents,\r\n            range: {\r\n              start: convertSpan(obj.span.start, lineBreaks),\r\n              end: convertSpan(obj.span.end, lineBreaks),\r\n            },\r\n          };\r\n        } else {\r\n          return { contents };\r\n        }\r\n      }\r\n    }\r\n  });\r\n});\r\n\r\n// This handler provides the initial list of the completion items.\r\nconnection.onCompletion(\r\n  async (request: TextDocumentPositionParams): Promise<CompletionItem[]> => {\r\n    return await durationLogWrapper(`onCompletion`, async () => {\r\n      // The pass parameter contains the position of the text document in\r\n      // which code complete got requested. For the example we ignore this\r\n      // info and always provide the same completion items.\r\n\r\n      const document = documents.get(request.textDocument.uri);\r\n      const settings = await getDocumentSettings(request.textDocument.uri);\r\n\r\n      const text = document?.getText();\r\n\r\n      if (typeof text == 'string') {\r\n        // connection.console.log(\"completion request: \");\r\n        // connection.console.log(request.textDocument.uri);\r\n        const index = convertPosition(request.position, text);\r\n        // connection.console.log(\"index: \" + index);\r\n        const stdout = await runCompiler(\r\n          text,\r\n          '--ide-complete ' + index,\r\n          settings,\r\n          request.textDocument.uri,\r\n        );\r\n        // connection.console.log(\"got: \" + stdout);\r\n\r\n        const lines = stdout.split('\\n').filter((l) => l.length > 0);\r\n        for (const line of lines) {\r\n          const obj = JSON.parse(line);\r\n          // connection.console.log(\"completions\");\r\n          // connection.console.log(obj);\r\n\r\n          const output = [];\r\n          let index = 1;\r\n          for (const completion of obj.completions) {\r\n            output.push({\r\n              label: completion,\r\n              kind: completion.includes('(')\r\n                ? CompletionItemKind.Function\r\n                : CompletionItemKind.Field,\r\n              data: index,\r\n            });\r\n            index++;\r\n          }\r\n          return output;\r\n        }\r\n      }\r\n\r\n      return [];\r\n    });\r\n  },\r\n);\r\n\r\nconnection.onDefinition(async (request) => {\r\n  return await durationLogWrapper(`onDefinition`, async (label) => {\r\n    const document = documents.get(request.textDocument.uri);\r\n    if (!document) return;\r\n    const settings = await getDocumentSettings(request.textDocument.uri);\r\n\r\n    const text = document.getText();\r\n\r\n    // connection.console.log(`[${label}] request: ${request.textDocument.uri}`);\r\n    // connection.console.log(\"index: \" + convertPosition(request.position, text));\r\n    const stdout = await runCompiler(\r\n      text,\r\n      '--ide-goto-def ' + convertPosition(request.position, text),\r\n      settings,\r\n      request.textDocument.uri,\r\n      { label: label },\r\n    );\r\n    return goToDefinition(document, stdout);\r\n  });\r\n});\r\n\r\n// This handler resolves additional information for the item selected in\r\n// the completion list.\r\nconnection.onCompletionResolve((item: CompletionItem): CompletionItem => {\r\n  return item;\r\n});\r\n\r\nasync function goToDefinition(\r\n  document: TextDocument,\r\n  nushellOutput: string,\r\n): Promise<HandlerResult<Definition, void> | undefined> {\r\n  const lines = nushellOutput.split('\\n').filter((l) => l.length > 0);\r\n  for (const line of lines) {\r\n    const obj = JSON.parse(line);\r\n    // connection.console.log(\"going to type definition\");\r\n    // connection.console.log(obj);\r\n    if (obj.file === '' || obj.file === '__prelude__') return;\r\n\r\n    let documentText: string;\r\n    if (obj.file) {\r\n      if (fs.existsSync(obj.file)) {\r\n        documentText = await fs.promises\r\n          .readFile(obj.file)\r\n          .then((b) => b.toString());\r\n      } else {\r\n        connection.console.log(`File ${obj.file} does not exist`);\r\n        return;\r\n      }\r\n    } else {\r\n      documentText = document.getText();\r\n    }\r\n\r\n    const lineBreaks: number[] = findLineBreaks(documentText);\r\n\r\n    let uri = '';\r\n    if (obj.file == tmpFile.name) {\r\n      uri = document.uri;\r\n    } else {\r\n      uri = obj.file ? URI.file(obj.file).toString() : document.uri;\r\n    }\r\n\r\n    // connection.console.log(uri);\r\n\r\n    return {\r\n      uri: uri,\r\n      range: {\r\n        start: convertSpan(obj.start, lineBreaks),\r\n        end: convertSpan(obj.end, lineBreaks),\r\n      },\r\n    };\r\n  }\r\n}\r\n\r\nconnection.languages.inlayHint.on((params: InlayHintParams) => {\r\n  const document = documents.get(params.textDocument.uri) as NuTextDocument;\r\n  return document.nuInlayHints;\r\n});\r\n\r\nfunction findLineBreaks(utf16_text: string): Array<number> {\r\n  const utf8_text = new TextEncoder().encode(utf16_text);\r\n  const lineBreaks: Array<number> = [];\r\n\r\n  for (let i = 0; i < utf8_text.length; ++i) {\r\n    if (utf8_text[i] == 0x0a) {\r\n      lineBreaks.push(i);\r\n    }\r\n  }\r\n\r\n  return lineBreaks;\r\n}\r\n\r\n// Make the text document manager listen on the connection\r\n// for open, change and close text document events\r\ndocuments.listen(connection);\r\n\r\n// Listen on the connection\r\nconnection.listen();\r\n", "/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            const start = this.offsetAt(range.start);\n            const end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(changes, version) {\n        for (const change of changes) {\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                const range = getWellformedRange(change.range);\n                // update content\n                const startOffset = this.offsetAt(range.start);\n                const endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                const startLine = Math.max(range.start.line, 0);\n                const endLine = Math.max(range.end.line, 0);\n                let lineOffsets = this._lineOffsets;\n                const addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (let i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice(startLine + 1, endLine - startLine, ...addedLineOffsets);\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                const diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (let i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        const lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            const mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        const line = low - 1;\n        offset = this.ensureBeforeEOL(offset, lineOffsets[line]);\n        return { line, character: offset - lineOffsets[line] };\n    }\n    offsetAt(position) {\n        const lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        const lineOffset = lineOffsets[position.line];\n        if (position.character <= 0) {\n            return lineOffset;\n        }\n        const nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        const offset = Math.min(lineOffset + position.character, nextLineOffset);\n        return this.ensureBeforeEOL(offset, lineOffset);\n    }\n    ensureBeforeEOL(offset, lineOffset) {\n        while (offset > lineOffset && isEOL(this._content.charCodeAt(offset - 1))) {\n            offset--;\n        }\n        return offset;\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n    static isIncremental(event) {\n        const candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    static isFull(event) {\n        const candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n}\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifying its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @param version the changes version for the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        const text = document.getText();\n        const sortedEdits = mergeSort(edits.map(getWellformedEdit), (a, b) => {\n            const diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = 0;\n        const spans = [];\n        for (const e of sortedEdits) {\n            const startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    const p = (data.length / 2) | 0;\n    const left = data.slice(0, p);\n    const right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    let leftIdx = 0;\n    let rightIdx = 0;\n    let i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        const ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset = 0) {\n    const result = isAtLineStart ? [textOffset] : [];\n    for (let i = 0; i < text.length; i++) {\n        const ch = text.charCodeAt(i);\n        if (isEOL(ch)) {\n            if (ch === 13 /* CharCode.CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* CharCode.LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction isEOL(char) {\n    return char === 13 /* CharCode.CarriageReturn */ || char === 10 /* CharCode.LineFeed */;\n}\nfunction getWellformedRange(range) {\n    const start = range.start;\n    const end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    const range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range };\n    }\n    return textEdit;\n}\n", "// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n", "// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n", "// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};", "__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))", "// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\n// !!!!!\n// SEE https://github.com/microsoft/vscode/blob/master/src/vs/base/common/platform.ts\n// !!!!!\n\ndeclare const process: { platform: 'win32' };\ndeclare const navigator: { userAgent: string };\n\nexport let isWindows: boolean;\n\nif (typeof process === 'object') {\n\tisWindows = process.platform === 'win32';\n} else if (typeof navigator === 'object') {\n\tlet userAgent = navigator.userAgent;\n\tisWindows = userAgent.indexOf('Windows') >= 0;\n}\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport { CharCode } from './charCode'\nimport { isWindows } from './platform';\n\nconst _schemePattern = /^\\w[\\w\\d+.-]*$/;\nconst _singleSlashStart = /^\\//;\nconst _doubleSlashStart = /^\\/\\//;\n\nfunction _validateUri(ret: URI, _strict?: boolean): void {\n\n\t// scheme, must be set\n\tif (!ret.scheme && _strict) {\n\t\tthrow new Error(`[UriError]: Scheme is missing: {scheme: \"\", authority: \"${ret.authority}\", path: \"${ret.path}\", query: \"${ret.query}\", fragment: \"${ret.fragment}\"}`);\n\t}\n\n\t// scheme, https://tools.ietf.org/html/rfc3986#section-3.1\n\t// ALPHA *( ALPHA / DIGIT / \"+\" / \"-\" / \".\" )\n\tif (ret.scheme && !_schemePattern.test(ret.scheme)) {\n\t\tthrow new Error('[UriError]: Scheme contains illegal characters.');\n\t}\n\n\t// path, http://tools.ietf.org/html/rfc3986#section-3.3\n\t// If a URI contains an authority component, then the path component\n\t// must either be empty or begin with a slash (\"/\") character.  If a URI\n\t// does not contain an authority component, then the path cannot begin\n\t// with two slash characters (\"//\").\n\tif (ret.path) {\n\t\tif (ret.authority) {\n\t\t\tif (!_singleSlashStart.test(ret.path)) {\n\t\t\t\tthrow new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character');\n\t\t\t}\n\t\t} else {\n\t\t\tif (_doubleSlashStart.test(ret.path)) {\n\t\t\t\tthrow new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")');\n\t\t\t}\n\t\t}\n\t}\n}\n\n// for a while we allowed uris *without* schemes and this is the migration\n// for them, e.g. an uri without scheme and without strict-mode warns and falls\n// back to the file-scheme. that should cause the least carnage and still be a\n// clear warning\nfunction _schemeFix(scheme: string, _strict: boolean): string {\n\tif (!scheme && !_strict) {\n\t\treturn 'file';\n\t}\n\treturn scheme;\n}\n\n// implements a bit of https://tools.ietf.org/html/rfc3986#section-5\nfunction _referenceResolution(scheme: string, path: string): string {\n\n\t// the slash-character is our 'default base' as we don't\n\t// support constructing URIs relative to other URIs. This\n\t// also means that we alter and potentially break paths.\n\t// see https://tools.ietf.org/html/rfc3986#section-5.1.4\n\tswitch (scheme) {\n\t\tcase 'https':\n\t\tcase 'http':\n\t\tcase 'file':\n\t\t\tif (!path) {\n\t\t\t\tpath = _slash;\n\t\t\t} else if (path[0] !== _slash) {\n\t\t\t\tpath = _slash + path;\n\t\t\t}\n\t\t\tbreak;\n\t}\n\treturn path;\n}\n\nconst _empty = '';\nconst _slash = '/';\nconst _regexp = /^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\n\n/**\n * Uniform Resource Identifier (URI) http://tools.ietf.org/html/rfc3986.\n * This class is a simple parser which creates the basic component parts\n * (http://tools.ietf.org/html/rfc3986#section-3) with minimal validation\n * and encoding.\n *\n * ```txt\n *       foo://example.com:8042/over/there?name=ferret#nose\n *       \\_/   \\______________/\\_________/ \\_________/ \\__/\n *        |           |            |            |        |\n *     scheme     authority       path        query   fragment\n *        |   _____________________|__\n *       / \\ /                        \\\n *       urn:example:animal:ferret:nose\n * ```\n */\nexport class URI implements UriComponents {\n\n\tstatic isUri(thing: any): thing is URI {\n\t\tif (thing instanceof URI) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!thing) {\n\t\t\treturn false;\n\t\t}\n\t\treturn typeof (<URI>thing).authority === 'string'\n\t\t\t&& typeof (<URI>thing).fragment === 'string'\n\t\t\t&& typeof (<URI>thing).path === 'string'\n\t\t\t&& typeof (<URI>thing).query === 'string'\n\t\t\t&& typeof (<URI>thing).scheme === 'string'\n\t\t\t&& typeof (<URI>thing).fsPath === 'string'\n\t\t\t&& typeof (<URI>thing).with === 'function'\n\t\t\t&& typeof (<URI>thing).toString === 'function';\n\t}\n\n\t/**\n\t * scheme is the 'http' part of 'http://www.example.com/some/path?query#fragment'.\n\t * The part before the first colon.\n\t */\n\treadonly scheme: string;\n\n\t/**\n\t * authority is the 'www.example.com' part of 'http://www.example.com/some/path?query#fragment'.\n\t * The part between the first double slashes and the next slash.\n\t */\n\treadonly authority: string;\n\n\t/**\n\t * path is the '/some/path' part of 'http://www.example.com/some/path?query#fragment'.\n\t */\n\treadonly path: string;\n\n\t/**\n\t * query is the 'query' part of 'http://www.example.com/some/path?query#fragment'.\n\t */\n\treadonly query: string;\n\n\t/**\n\t * fragment is the 'fragment' part of 'http://www.example.com/some/path?query#fragment'.\n\t */\n\treadonly fragment: string;\n\n\t/**\n\t * @internal\n\t */\n\tprotected constructor(scheme: string, authority?: string, path?: string, query?: string, fragment?: string, _strict?: boolean);\n\n\t/**\n\t * @internal\n\t */\n\tprotected constructor(components: UriComponents);\n\n\t/**\n\t * @internal\n\t */\n\tprotected constructor(schemeOrData: string | UriComponents, authority?: string, path?: string, query?: string, fragment?: string, _strict: boolean = false) {\n\n\t\tif (typeof schemeOrData === 'object') {\n\t\t\tthis.scheme = schemeOrData.scheme || _empty;\n\t\t\tthis.authority = schemeOrData.authority || _empty;\n\t\t\tthis.path = schemeOrData.path || _empty;\n\t\t\tthis.query = schemeOrData.query || _empty;\n\t\t\tthis.fragment = schemeOrData.fragment || _empty;\n\t\t\t// no validation because it's this URI\n\t\t\t// that creates uri components.\n\t\t\t// _validateUri(this);\n\t\t} else {\n\t\t\tthis.scheme = _schemeFix(schemeOrData, _strict);\n\t\t\tthis.authority = authority || _empty;\n\t\t\tthis.path = _referenceResolution(this.scheme, path || _empty);\n\t\t\tthis.query = query || _empty;\n\t\t\tthis.fragment = fragment || _empty;\n\n\t\t\t_validateUri(this, _strict);\n\t\t}\n\t}\n\n\t// ---- filesystem path -----------------------\n\n\t/**\n\t * Returns a string representing the corresponding file system path of this URI.\n\t * Will handle UNC paths, normalizes windows drive letters to lower-case, and uses the\n\t * platform specific path separator.\n\t *\n\t * * Will *not* validate the path for invalid characters and semantics.\n\t * * Will *not* look at the scheme of this URI.\n\t * * The result shall *not* be used for display purposes but for accessing a file on disk.\n\t *\n\t *\n\t * The *difference* to `URI#path` is the use of the platform specific separator and the handling\n\t * of UNC paths. See the below sample of a file-uri with an authority (UNC path).\n\t *\n\t * ```ts\n\t\tconst u = URI.parse('file://server/c$/folder/file.txt')\n\t\tu.authority === 'server'\n\t\tu.path === '/shares/c$/file.txt'\n\t\tu.fsPath === '\\\\server\\c$\\folder\\file.txt'\n\t```\n\t *\n\t * Using `URI#path` to read a file (using fs-apis) would not be enough because parts of the path,\n\t * namely the server name, would be missing. Therefore `URI#fsPath` exists - it's sugar to ease working\n\t * with URIs that represent files on disk (`file` scheme).\n\t */\n\tget fsPath(): string {\n\t\t// if (this.scheme !== 'file') {\n\t\t// \tconsole.warn(`[UriError] calling fsPath with scheme ${this.scheme}`);\n\t\t// }\n\t\treturn uriToFsPath(this, false);\n\t}\n\n\t// ---- modify to new -------------------------\n\n\twith(change: { scheme?: string; authority?: string | null; path?: string | null; query?: string | null; fragment?: string | null }): URI {\n\n\t\tif (!change) {\n\t\t\treturn this;\n\t\t}\n\n\t\tlet { scheme, authority, path, query, fragment } = change;\n\t\tif (scheme === undefined) {\n\t\t\tscheme = this.scheme;\n\t\t} else if (scheme === null) {\n\t\t\tscheme = _empty;\n\t\t}\n\t\tif (authority === undefined) {\n\t\t\tauthority = this.authority;\n\t\t} else if (authority === null) {\n\t\t\tauthority = _empty;\n\t\t}\n\t\tif (path === undefined) {\n\t\t\tpath = this.path;\n\t\t} else if (path === null) {\n\t\t\tpath = _empty;\n\t\t}\n\t\tif (query === undefined) {\n\t\t\tquery = this.query;\n\t\t} else if (query === null) {\n\t\t\tquery = _empty;\n\t\t}\n\t\tif (fragment === undefined) {\n\t\t\tfragment = this.fragment;\n\t\t} else if (fragment === null) {\n\t\t\tfragment = _empty;\n\t\t}\n\n\t\tif (scheme === this.scheme\n\t\t\t&& authority === this.authority\n\t\t\t&& path === this.path\n\t\t\t&& query === this.query\n\t\t\t&& fragment === this.fragment) {\n\n\t\t\treturn this;\n\t\t}\n\n\t\treturn new Uri(scheme, authority, path, query, fragment);\n\t}\n\n\t// ---- parse & validate ------------------------\n\n\t/**\n\t * Creates a new URI from a string, e.g. `http://www.example.com/some/path`,\n\t * `file:///usr/home`, or `scheme:with/path`.\n\t *\n\t * @param value A string which represents an URI (see `URI#toString`).\n\t */\n\tstatic parse(value: string, _strict: boolean = false): URI {\n\t\tconst match = _regexp.exec(value);\n\t\tif (!match) {\n\t\t\treturn new Uri(_empty, _empty, _empty, _empty, _empty);\n\t\t}\n\t\treturn new Uri(\n\t\t\tmatch[2] || _empty,\n\t\t\tpercentDecode(match[4] || _empty),\n\t\t\tpercentDecode(match[5] || _empty),\n\t\t\tpercentDecode(match[7] || _empty),\n\t\t\tpercentDecode(match[9] || _empty),\n\t\t\t_strict\n\t\t);\n\t}\n\n\t/**\n\t * Creates a new URI from a file system path, e.g. `c:\\my\\files`,\n\t * `/usr/home`, or `\\\\server\\share\\some\\path`.\n\t *\n\t * The *difference* between `URI#parse` and `URI#file` is that the latter treats the argument\n\t * as path, not as stringified-uri. E.g. `URI.file(path)` is **not the same as**\n\t * `URI.parse('file://' + path)` because the path might contain characters that are\n\t * interpreted (# and ?). See the following sample:\n\t * ```ts\n\tconst good = URI.file('/coding/c#/project1');\n\tgood.scheme === 'file';\n\tgood.path === '/coding/c#/project1';\n\tgood.fragment === '';\n\tconst bad = URI.parse('file://' + '/coding/c#/project1');\n\tbad.scheme === 'file';\n\tbad.path === '/coding/c'; // path is now broken\n\tbad.fragment === '/project1';\n\t```\n\t *\n\t * @param path A file system path (see `URI#fsPath`)\n\t */\n\tstatic file(path: string): URI {\n\n\t\tlet authority = _empty;\n\n\t\t// normalize to fwd-slashes on windows,\n\t\t// on other systems bwd-slashes are valid\n\t\t// filename character, eg /f\\oo/ba\\r.txt\n\t\tif (isWindows) {\n\t\t\tpath = path.replace(/\\\\/g, _slash);\n\t\t}\n\n\t\t// check for authority as used in UNC shares\n\t\t// or use the path as given\n\t\tif (path[0] === _slash && path[1] === _slash) {\n\t\t\tconst idx = path.indexOf(_slash, 2);\n\t\t\tif (idx === -1) {\n\t\t\t\tauthority = path.substring(2);\n\t\t\t\tpath = _slash;\n\t\t\t} else {\n\t\t\t\tauthority = path.substring(2, idx);\n\t\t\t\tpath = path.substring(idx) || _slash;\n\t\t\t}\n\t\t}\n\n\t\treturn new Uri('file', authority, path, _empty, _empty);\n\t}\n\n\tstatic from(components: { scheme: string; authority?: string; path?: string; query?: string; fragment?: string }): URI {\n\t\tconst result = new Uri(\n\t\t\tcomponents.scheme,\n\t\t\tcomponents.authority,\n\t\t\tcomponents.path,\n\t\t\tcomponents.query,\n\t\t\tcomponents.fragment,\n\t\t);\n\t\t_validateUri(result, true);\n\t\treturn result;\n\t}\n\n\t// ---- printing/externalize ---------------------------\n\n\t/**\n\t * Creates a string representation for this URI. It's guaranteed that calling\n\t * `URI.parse` with the result of this function creates an URI which is equal\n\t * to this URI.\n\t *\n\t * * The result shall *not* be used for display purposes but for externalization or transport.\n\t * * The result will be encoded using the percentage encoding and encoding happens mostly\n\t * ignore the scheme-specific encoding rules.\n\t *\n\t * @param skipEncoding Do not encode the result, default is `false`\n\t */\n\ttoString(skipEncoding: boolean = false): string {\n\t\treturn _asFormatted(this, skipEncoding);\n\t}\n\n\ttoJSON(): UriComponents {\n\t\treturn this;\n\t}\n\n\tstatic revive(data: UriComponents | URI): URI;\n\tstatic revive(data: UriComponents | URI | undefined): URI | undefined;\n\tstatic revive(data: UriComponents | URI | null): URI | null;\n\tstatic revive(data: UriComponents | URI | undefined | null): URI | undefined | null;\n\tstatic revive(data: UriComponents | URI | undefined | null): URI | undefined | null {\n\t\tif (!data) {\n\t\t\treturn <any>data;\n\t\t} else if (data instanceof URI) {\n\t\t\treturn data;\n\t\t} else {\n\t\t\tconst result = new Uri(data);\n\t\t\tresult._formatted = (<UriState>data).external;\n\t\t\tresult._fsPath = (<UriState>data)._sep === _pathSepMarker ? (<UriState>data).fsPath : null;\n\t\t\treturn result;\n\t\t}\n\t}\n}\n\nexport interface UriComponents {\n\tscheme: string;\n\tauthority: string;\n\tpath: string;\n\tquery: string;\n\tfragment: string;\n}\n\ninterface UriState extends UriComponents {\n\t$mid: number;\n\texternal: string;\n\tfsPath: string;\n\t_sep: 1 | undefined;\n}\n\nconst _pathSepMarker = isWindows ? 1 : undefined;\n\n// This class exists so that URI is compatible with vscode.Uri (API).\nclass Uri extends URI {\n\n\t_formatted: string | null = null;\n\t_fsPath: string | null = null;\n\n\toverride get fsPath(): string {\n\t\tif (!this._fsPath) {\n\t\t\tthis._fsPath = uriToFsPath(this, false);\n\t\t}\n\t\treturn this._fsPath;\n\t}\n\n\toverride toString(skipEncoding: boolean = false): string {\n\t\tif (!skipEncoding) {\n\t\t\tif (!this._formatted) {\n\t\t\t\tthis._formatted = _asFormatted(this, false);\n\t\t\t}\n\t\t\treturn this._formatted;\n\t\t} else {\n\t\t\t// we don't cache that\n\t\t\treturn _asFormatted(this, true);\n\t\t}\n\t}\n\n\toverride toJSON(): UriComponents {\n\t\tconst res = <UriState>{\n\t\t\t$mid: 1\n\t\t};\n\t\t// cached state\n\t\tif (this._fsPath) {\n\t\t\tres.fsPath = this._fsPath;\n\t\t\tres._sep = _pathSepMarker;\n\t\t}\n\t\tif (this._formatted) {\n\t\t\tres.external = this._formatted;\n\t\t}\n\t\t// uri components\n\t\tif (this.path) {\n\t\t\tres.path = this.path;\n\t\t}\n\t\tif (this.scheme) {\n\t\t\tres.scheme = this.scheme;\n\t\t}\n\t\tif (this.authority) {\n\t\t\tres.authority = this.authority;\n\t\t}\n\t\tif (this.query) {\n\t\t\tres.query = this.query;\n\t\t}\n\t\tif (this.fragment) {\n\t\t\tres.fragment = this.fragment;\n\t\t}\n\t\treturn res;\n\t}\n}\n\n// reserved characters: https://tools.ietf.org/html/rfc3986#section-2.2\nconst encodeTable: { [ch: number]: string } = {\n\t[CharCode.Colon]: '%3A', // gen-delims\n\t[CharCode.Slash]: '%2F',\n\t[CharCode.QuestionMark]: '%3F',\n\t[CharCode.Hash]: '%23',\n\t[CharCode.OpenSquareBracket]: '%5B',\n\t[CharCode.CloseSquareBracket]: '%5D',\n\t[CharCode.AtSign]: '%40',\n\n\t[CharCode.ExclamationMark]: '%21', // sub-delims\n\t[CharCode.DollarSign]: '%24',\n\t[CharCode.Ampersand]: '%26',\n\t[CharCode.SingleQuote]: '%27',\n\t[CharCode.OpenParen]: '%28',\n\t[CharCode.CloseParen]: '%29',\n\t[CharCode.Asterisk]: '%2A',\n\t[CharCode.Plus]: '%2B',\n\t[CharCode.Comma]: '%2C',\n\t[CharCode.Semicolon]: '%3B',\n\t[CharCode.Equals]: '%3D',\n\n\t[CharCode.Space]: '%20',\n};\n\nfunction encodeURIComponentFast(uriComponent: string, isPath: boolean, isAuthority: boolean): string {\n\tlet res: string | undefined = undefined;\n\tlet nativeEncodePos = -1;\n\n\tfor (let pos = 0; pos < uriComponent.length; pos++) {\n\t\tconst code = uriComponent.charCodeAt(pos);\n\n\t\t// unreserved characters: https://tools.ietf.org/html/rfc3986#section-2.3\n\t\tif (\n\t\t\t(code >= CharCode.a && code <= CharCode.z)\n\t\t\t|| (code >= CharCode.A && code <= CharCode.Z)\n\t\t\t|| (code >= CharCode.Digit0 && code <= CharCode.Digit9)\n\t\t\t|| code === CharCode.Dash\n\t\t\t|| code === CharCode.Period\n\t\t\t|| code === CharCode.Underline\n\t\t\t|| code === CharCode.Tilde\n\t\t\t|| (isPath && code === CharCode.Slash)\n\t\t\t|| (isAuthority && code === CharCode.OpenSquareBracket)\n\t\t\t|| (isAuthority && code === CharCode.CloseSquareBracket)\n\t\t\t|| (isAuthority && code === CharCode.Colon)\n\t\t) {\n\t\t\t// check if we are delaying native encode\n\t\t\tif (nativeEncodePos !== -1) {\n\t\t\t\tres += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n\t\t\t\tnativeEncodePos = -1;\n\t\t\t}\n\t\t\t// check if we write into a new string (by default we try to return the param)\n\t\t\tif (res !== undefined) {\n\t\t\t\tres += uriComponent.charAt(pos);\n\t\t\t}\n\n\t\t} else {\n\t\t\t// encoding needed, we need to allocate a new string\n\t\t\tif (res === undefined) {\n\t\t\t\tres = uriComponent.substr(0, pos);\n\t\t\t}\n\n\t\t\t// check with default table first\n\t\t\tconst escaped = encodeTable[code];\n\t\t\tif (escaped !== undefined) {\n\n\t\t\t\t// check if we are delaying native encode\n\t\t\t\tif (nativeEncodePos !== -1) {\n\t\t\t\t\tres += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));\n\t\t\t\t\tnativeEncodePos = -1;\n\t\t\t\t}\n\n\t\t\t\t// append escaped variant to result\n\t\t\t\tres += escaped;\n\n\t\t\t} else if (nativeEncodePos === -1) {\n\t\t\t\t// use native encode only when needed\n\t\t\t\tnativeEncodePos = pos;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (nativeEncodePos !== -1) {\n\t\tres += encodeURIComponent(uriComponent.substring(nativeEncodePos));\n\t}\n\n\treturn res !== undefined ? res : uriComponent;\n}\n\nfunction encodeURIComponentMinimal(path: string): string {\n\tlet res: string | undefined = undefined;\n\tfor (let pos = 0; pos < path.length; pos++) {\n\t\tconst code = path.charCodeAt(pos);\n\t\tif (code === CharCode.Hash || code === CharCode.QuestionMark) {\n\t\t\tif (res === undefined) {\n\t\t\t\tres = path.substr(0, pos);\n\t\t\t}\n\t\t\tres += encodeTable[code];\n\t\t} else {\n\t\t\tif (res !== undefined) {\n\t\t\t\tres += path[pos];\n\t\t\t}\n\t\t}\n\t}\n\treturn res !== undefined ? res : path;\n}\n\n/**\n * Compute `fsPath` for the given uri\n */\nexport function uriToFsPath(uri: URI, keepDriveLetterCasing: boolean): string {\n\n\tlet value: string;\n\tif (uri.authority && uri.path.length > 1 && uri.scheme === 'file') {\n\t\t// unc path: file://shares/c$/far/boo\n\t\tvalue = `//${uri.authority}${uri.path}`;\n\t} else if (\n\t\turi.path.charCodeAt(0) === CharCode.Slash\n\t\t&& (uri.path.charCodeAt(1) >= CharCode.A && uri.path.charCodeAt(1) <= CharCode.Z || uri.path.charCodeAt(1) >= CharCode.a && uri.path.charCodeAt(1) <= CharCode.z)\n\t\t&& uri.path.charCodeAt(2) === CharCode.Colon\n\t) {\n\t\tif (!keepDriveLetterCasing) {\n\t\t\t// windows drive letter: file:///c:/far/boo\n\t\t\tvalue = uri.path[1].toLowerCase() + uri.path.substr(2);\n\t\t} else {\n\t\t\tvalue = uri.path.substr(1);\n\t\t}\n\t} else {\n\t\t// other path\n\t\tvalue = uri.path;\n\t}\n\tif (isWindows) {\n\t\tvalue = value.replace(/\\//g, '\\\\');\n\t}\n\treturn value;\n}\n\n/**\n * Create the external version of a uri\n */\nfunction _asFormatted(uri: URI, skipEncoding: boolean): string {\n\n\tconst encoder = !skipEncoding\n\t\t? encodeURIComponentFast\n\t\t: encodeURIComponentMinimal;\n\n\tlet res = '';\n\tlet { scheme, authority, path, query, fragment } = uri;\n\tif (scheme) {\n\t\tres += scheme;\n\t\tres += ':';\n\t}\n\tif (authority || scheme === 'file') {\n\t\tres += _slash;\n\t\tres += _slash;\n\t}\n\tif (authority) {\n\t\tlet idx = authority.indexOf('@');\n\t\tif (idx !== -1) {\n\t\t\t// <user>@<auth>\n\t\t\tconst userinfo = authority.substr(0, idx);\n\t\t\tauthority = authority.substr(idx + 1);\n\t\t\tidx = userinfo.lastIndexOf(':');\n\t\t\tif (idx === -1) {\n\t\t\t\tres += encoder(userinfo, false, false);\n\t\t\t} else {\n\t\t\t\t// <user>:<pass>@<auth>\n\t\t\t\tres += encoder(userinfo.substr(0, idx), false, false);\n\t\t\t\tres += ':';\n\t\t\t\tres += encoder(userinfo.substr(idx + 1), false, true);\n\t\t\t}\n\t\t\tres += '@';\n\t\t}\n\t\tauthority = authority.toLowerCase();\n\t\tidx = authority.lastIndexOf(':');\n\t\tif (idx === -1) {\n\t\t\tres += encoder(authority, false, true);\n\t\t} else {\n\t\t\t// <auth>:<port>\n\t\t\tres += encoder(authority.substr(0, idx), false, true);\n\t\t\tres += authority.substr(idx);\n\t\t}\n\t}\n\tif (path) {\n\t\t// lower-case windows drive letters in /C:/fff or C:/fff\n\t\tif (path.length >= 3 && path.charCodeAt(0) === CharCode.Slash && path.charCodeAt(2) === CharCode.Colon) {\n\t\t\tconst code = path.charCodeAt(1);\n\t\t\tif (code >= CharCode.A && code <= CharCode.Z) {\n\t\t\t\tpath = `/${String.fromCharCode(code + 32)}:${path.substr(3)}`; // \"/c:\".length === 3\n\t\t\t}\n\t\t} else if (path.length >= 2 && path.charCodeAt(1) === CharCode.Colon) {\n\t\t\tconst code = path.charCodeAt(0);\n\t\t\tif (code >= CharCode.A && code <= CharCode.Z) {\n\t\t\t\tpath = `${String.fromCharCode(code + 32)}:${path.substr(2)}`; // \"/c:\".length === 3\n\t\t\t}\n\t\t}\n\t\t// encode the rest of the path\n\t\tres += encoder(path, true, false);\n\t}\n\tif (query) {\n\t\tres += '?';\n\t\tres += encoder(query, false, false);\n\t}\n\tif (fragment) {\n\t\tres += '#';\n\t\tres += !skipEncoding ? encodeURIComponentFast(fragment, false, false) : fragment;\n\t}\n\treturn res;\n}\n\n// --- decode\n\nfunction decodeURIComponentGraceful(str: string): string {\n\ttry {\n\t\treturn decodeURIComponent(str);\n\t} catch {\n\t\tif (str.length > 3) {\n\t\t\treturn str.substr(0, 3) + decodeURIComponentGraceful(str.substr(3));\n\t\t} else {\n\t\t\treturn str;\n\t\t}\n\t}\n}\n\nconst _rEncodedAsHex = /(%[0-9A-Za-z][0-9A-Za-z])+/g;\n\nfunction percentDecode(str: string): string {\n\tif (!str.match(_rEncodedAsHex)) {\n\t\treturn str;\n\t}\n\treturn str.replace(_rEncodedAsHex, (match) => decodeURIComponentGraceful(match));\n}\n\n/**\n * Mapped-type that replaces all occurrences of URI with UriComponents\n */\nexport type UriDto<T> = { [K in keyof T]: T[K] extends URI\n\t? UriComponents\n\t: UriDto<T[K]> };\n", "/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\n\nimport { CharCode } from './charCode';\nimport { URI } from './uri';\nimport * as nodePath from 'path';\n\nconst posixPath = nodePath.posix || nodePath;\nconst slash = '/';\n\nexport namespace Utils {\n\n    /**\n     * Joins one or more input paths to the path of URI. \n     * '/' is used as the directory separation character. \n     * \n     * The resolved path will be normalized. That means:\n     *  - all '..' and '.' segments are resolved.\n     *  - multiple, sequential occurences of '/' are replaced by a single instance of '/'.\n     *  - trailing separators are preserved.\n     * \n     * @param uri The input URI.\n     * @param paths The paths to be joined with the path of URI.\n     * @returns A URI with the joined path. All other properties of the URI (scheme, authority, query, fragments, ...) will be taken from the input URI.\n     */\n    export function joinPath(uri: URI, ...paths: string[]): URI {\n        return uri.with({ path: posixPath.join(uri.path, ...paths) });\n    }\n\n\n    /**\n     * Resolves one or more paths against the path of a URI. \n     * '/' is used as the directory separation character. \n     * \n     * The resolved path will be normalized. That means:\n     *  - all '..' and '.' segments are resolved. \n     *  - multiple, sequential occurences of '/' are replaced by a single instance of '/'.\n     *  - trailing separators are removed.\n     * \n     * @param uri The input URI.\n     * @param paths The paths to resolve against the path of URI.\n     * @returns A URI with the resolved path. All other properties of the URI (scheme, authority, query, fragments, ...) will be taken from the input URI.\n     */\n    export function resolvePath(uri: URI, ...paths: string[]): URI {\n        let path = uri.path; \n        let slashAdded = false;\n        if (path[0] !== slash) {\n            path = slash + path; // make the path abstract: for posixPath.resolve the first segments has to be absolute or cwd is used.\n            slashAdded = true;\n        }\n        let resolvedPath = posixPath.resolve(path, ...paths);\n        if (slashAdded && resolvedPath[0] === slash && !uri.authority) {\n            resolvedPath = resolvedPath.substring(1);\n        }\n        return uri.with({ path: resolvedPath });\n    }\n\n    /**\n     * Returns a URI where the path is the directory name of the input uri, similar to the Unix dirname command. \n     * In the path, '/' is recognized as the directory separation character. Trailing directory separators are ignored.\n     * The orignal URI is returned if the URIs path is empty or does not contain any path segments.\n     * \n     * @param uri The input URI.\n     * @return The last segment of the URIs path.\n     */\n    export function dirname(uri: URI): URI {\n        if (uri.path.length === 0 || uri.path === slash) {\n            return uri;\n        }\n        let path = posixPath.dirname(uri.path);\n        if (path.length === 1 && path.charCodeAt(0) === CharCode.Period) {\n            path = '';\n        }\n        return uri.with({ path });\n    }\n\n    /**\n     * Returns the last segment of the path of a URI, similar to the Unix basename command. \n     * In the path, '/' is recognized as the directory separation character. Trailing directory separators are ignored.\n     * The empty string is returned if the URIs path is empty or does not contain any path segments.\n     * \n     * @param uri The input URI.\n     * @return The base name of the URIs path.\n     */\n    export function basename(uri: URI): string {\n        return posixPath.basename(uri.path);\n    }\n\n    /**\n     * Returns the extension name of the path of a URI, similar to the Unix extname command. \n     * In the path, '/' is recognized as the directory separation character. Trailing directory separators are ignored.\n     * The empty string is returned if the URIs path is empty or does not contain any path segments.\n     * \n     * @param uri The input URI.\n     * @return The extension name of the URIs path.\n     */\n    export function extname(uri: URI): string {\n        return posixPath.extname(uri.path);\n    }\n}"],
  "mappings": "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",
  "names": ["require_is", "__commonJSMin", "exports", "boolean", "value", "string", "number", "error", "func", "array", "stringArray", "elem", "typedArray", "check", "thenable", "require_is", "__commonJSMin", "exports", "boolean", "value", "string", "number", "error", "func", "array", "stringArray", "elem", "require_messages", "__commonJSMin", "exports", "is", "ErrorCodes", "ResponseError", "_ResponseError", "code", "message", "data", "result", "ParameterStructures", "_ParameterStructures", "kind", "value", "AbstractMessageSignature", "method", "numberOfParams", "RequestType0", "RequestType", "_parameterStructures", "RequestType1", "RequestType2", "RequestType3", "RequestType4", "RequestType5", "RequestType6", "RequestType7", "RequestType8", "RequestType9", "NotificationType", "NotificationType0", "NotificationType1", "NotificationType2", "NotificationType3", "NotificationType4", "NotificationType5", "NotificationType6", "NotificationType7", "NotificationType8", "NotificationType9", "Message", "isRequest", "candidate", "isNotification", "isResponse", "require_linkedMap", "__commonJSMin", "exports", "_a", "Touch", "LinkedMap", "key", "touch", "item", "value", "callbackfn", "thisArg", "state", "current", "iterator", "result", "newSize", "currentSize", "next", "previous", "data", "LRUCache", "limit", "ratio", "require_disposable", "__commonJSMin", "exports", "Disposable", "create", "func", "require_ral", "__commonJSMin", "exports", "_ral", "RAL", "install", "ral", "require_events", "__commonJSMin", "exports", "ral_1", "Event", "_disposable", "CallbackList", "callback", "context", "bucket", "foundCallbackWithDifferentContext", "len", "args", "ret", "callbacks", "contexts", "i", "e", "Emitter", "_Emitter", "_options", "listener", "thisArgs", "disposables", "result", "event", "require_cancellation", "__commonJSMin", "exports", "ral_1", "Is", "events_1", "CancellationToken", "is", "value", "candidate", "shortcutEvent", "callback", "context", "handle", "MutableToken", "CancellationTokenSource", "require_sharedArrayCancellation", "__commonJSMin", "exports", "cancellation_1", "CancellationState", "SharedArraySenderStrategy", "request", "buffer", "data", "_conn", "id", "SharedArrayBufferCancellationToken", "SharedArrayBufferCancellationTokenSource", "SharedArrayReceiverStrategy", "require_semaphore", "__commonJSMin", "exports", "ral_1", "Semaphore", "capacity", "thunk", "resolve", "reject", "next", "result", "value", "err", "require_messageReader", "__commonJSMin", "exports", "ral_1", "Is", "events_1", "semaphore_1", "MessageReader", "is", "value", "candidate", "AbstractMessageReader", "error", "info", "ResolvedMessageReaderOptions", "fromOptions", "options", "charset", "result", "contentDecoder", "contentDecoders", "contentTypeDecoder", "contentTypeDecoders", "decoder", "ReadableStreamMessageReader", "readable", "timeout", "callback", "data", "headers", "contentLength", "length", "body", "bytes", "message", "token", "require_messageWriter", "__commonJSMin", "exports", "ral_1", "Is", "semaphore_1", "events_1", "ContentLength", "CRLF", "MessageWriter", "is", "value", "candidate", "AbstractMessageWriter", "error", "message", "count", "ResolvedMessageWriterOptions", "fromOptions", "options", "WriteableStreamMessageWriter", "writable", "msg", "buffer", "headers", "data", "require_messageBuffer", "__commonJSMin", "exports", "CR", "LF", "CRLF", "AbstractMessageBuffer", "encoding", "chunk", "toAppend", "lowerCaseKeys", "state", "chunkIndex", "offset", "chunkBytesRead", "row", "buffer", "result", "headers", "i", "header", "index", "key", "value", "length", "byteCount", "resultOffset", "chunkPart", "require_connection", "__commonJSMin", "exports", "ral_1", "Is", "messages_1", "linkedMap_1", "events_1", "cancellation_1", "CancelNotification", "ProgressToken", "is", "value", "ProgressNotification", "ProgressType", "StarRequestHandler", "Trace", "TraceValues", "fromString", "toString", "TraceFormat", "SetTraceNotification", "LogTraceNotification", "ConnectionErrors", "ConnectionError", "_ConnectionError", "code", "message", "ConnectionStrategy", "candidate", "IdCancellationReceiverStrategy", "RequestCancellationReceiverStrategy", "CancellationReceiverStrategy", "_", "CancellationSenderStrategy", "conn", "id", "CancellationStrategy", "MessageStrategy", "ConnectionOptions", "ConnectionState", "createMessageConnection", "messageReader", "messageWriter", "_logger", "options", "logger", "sequenceNumber", "notificationSequenceNumber", "unknownResponseSequenceNumber", "version", "starRequestHandler", "requestHandlers", "starNotificationHandler", "notificationHandlers", "progressHandlers", "timer", "messageQueue", "responsePromises", "knownCanceledRequests", "requestTokens", "trace", "traceFormat", "tracer", "state", "errorEmitter", "closeEmitter", "unhandledNotificationEmitter", "unhandledProgressEmitter", "disposeEmitter", "cancellationStrategy", "createRequestQueueKey", "createResponseQueueKey", "createNotificationQueueKey", "addMessageToQueue", "queue", "cancelUndispatched", "_message", "isListening", "isClosed", "isDisposed", "closeHandler", "readErrorHandler", "error", "writeErrorHandler", "data", "triggerMessageQueue", "processMessageQueue", "handleMessage", "handleRequest", "handleNotification", "handleResponse", "handleInvalidMessage", "messageStrategy", "callback", "cancelId", "key", "toCancel", "strategy", "response", "traceSendingResponse", "cancellationToken", "traceReceivedNotification", "requestMessage", "reply", "resultOrError", "method", "startTime", "replyError", "replySuccess", "result", "traceReceivedRequest", "element", "type", "requestHandler", "tokenKey", "cancellationSource", "handlerResult", "promise", "responseMessage", "responsePromise", "traceReceivedResponse", "notificationHandler", "params", "responseHandler", "stringifyTrace", "traceSendingRequest", "logLSPMessage", "traceSendingNotification", "lspMessage", "throwIfClosedOrDisposed", "throwIfListening", "throwIfNotListening", "undefinedToNull", "param", "nullToUndefined", "isNamedParam", "computeSingleParam", "parameterStructures", "computeMessageParams", "numberOfParams", "i", "connection", "args", "messageParams", "first", "paramStart", "paramEnd", "notificationMessage", "handler", "_type", "token", "last", "disposable", "p", "resolve", "reject", "resolveWithCleanup", "r", "rejectWithCleanup", "_value", "_tracer", "sendNotificationOrTraceOptions", "_sendNotification", "_traceFormat", "verbose", "require_api", "__commonJSMin", "exports", "messages_1", "linkedMap_1", "disposable_1", "events_1", "cancellation_1", "sharedArrayCancellation_1", "messageReader_1", "messageWriter_1", "messageBuffer_1", "connection_1", "ral_1", "require_ril", "__commonJSMin", "exports", "util_1", "api_1", "MessageBuffer", "_MessageBuffer", "encoding", "value", "buffer", "length", "ReadableStreamWrapper", "stream", "listener", "WritableStreamWrapper", "data", "resolve", "reject", "callback", "error", "_ril", "msg", "options", "err", "ms", "args", "handle", "RIL", "install", "require_main", "__commonJSMin", "exports", "__createBinding", "o", "m", "k", "k2", "desc", "__exportStar", "p", "ril_1", "path", "os", "crypto_1", "net_1", "api_1", "IPCMessageReader", "process", "eventEmitter", "error", "callback", "IPCMessageWriter", "msg", "PortMessageReader", "port", "message", "PortMessageWriter", "SocketMessageReader", "socket", "encoding", "SocketMessageWriter", "options", "StreamMessageReader", "readable", "StreamMessageWriter", "writable", "XDG_RUNTIME_DIR", "safeIpcPathLengths", "generateRandomPipeName", "randomSuffix", "result", "limit", "createClientPipeTransport", "pipeName", "connectResolve", "connected", "resolve", "_reject", "reject", "server", "createServerPipeTransport", "createClientSocketTransport", "createServerSocketTransport", "isReadableStream", "value", "candidate", "isWritableStream", "createMessageConnection", "input", "output", "logger", "reader", "writer", "require_node", "__commonJSMin", "exports", "module", "require_main", "__commonJSMin", "exports", "module", "factory", "v", "require", "DocumentUri", "is", "value", "URI", "integer", "uinteger", "Position", "create", "line", "character", "candidate", "Is", "Range", "one", "two", "three", "four", "Location", "uri", "range", "LocationLink", "targetUri", "targetRange", "targetSelectionRange", "originSelectionRange", "Color", "red", "green", "blue", "alpha", "ColorInformation", "color", "ColorPresentation", "label", "textEdit", "additionalTextEdits", "TextEdit", "FoldingRangeKind", "FoldingRange", "startLine", "endLine", "startCharacter", "endCharacter", "kind", "collapsedText", "result", "DiagnosticRelatedInformation", "location", "message", "DiagnosticSeverity", "DiagnosticTag", "CodeDescription", "Diagnostic", "severity", "code", "source", "relatedInformation", "_a", "Command", "title", "command", "args", "_i", "replace", "newText", "insert", "position", "del", "ChangeAnnotation", "needsConfirmation", "description", "ChangeAnnotationIdentifier", "AnnotatedTextEdit", "annotation", "TextDocumentEdit", "textDocument", "edits", "OptionalVersionedTextDocumentIdentifier", "CreateFile", "options", "RenameFile", "oldUri", "newUri", "DeleteFile", "WorkspaceEdit", "change", "TextEditChangeImpl", "changeAnnotations", "edit", "id", "ChangeAnnotations", "annotations", "idOrAnnotation", "WorkspaceChange", "workspaceEdit", "_this", "textEditChange", "key", "textDocumentEdit", "optionsOrAnnotation", "operation", "TextDocumentIdentifier", "VersionedTextDocumentIdentifier", "version", "TextDocumentItem", "languageId", "text", "MarkupKind", "MarkupContent", "CompletionItemKind", "InsertTextFormat", "CompletionItemTag", "InsertReplaceEdit", "InsertTextMode", "CompletionItemLabelDetails", "CompletionItem", "CompletionList", "items", "isIncomplete", "MarkedString", "fromPlainText", "plainText", "Hover", "ParameterInformation", "documentation", "SignatureInformation", "parameters", "DocumentHighlightKind", "DocumentHighlight", "SymbolKind", "SymbolTag", "SymbolInformation", "name", "containerName", "WorkspaceSymbol", "DocumentSymbol", "detail", "selectionRange", "children", "CodeActionKind", "CodeActionTriggerKind", "CodeActionContext", "diagnostics", "only", "triggerKind", "CodeAction", "kindOrCommandOrEdit", "checkKind", "CodeLens", "data", "FormattingOptions", "tabSize", "insertSpaces", "DocumentLink", "target", "SelectionRange", "parent", "SemanticTokenTypes", "SemanticTokenModifiers", "SemanticTokens", "InlineValueText", "InlineValueVariableLookup", "variableName", "caseSensitiveLookup", "InlineValueEvaluatableExpression", "expression", "InlineValueContext", "frameId", "stoppedLocation", "InlayHintKind", "InlayHintLabelPart", "InlayHint", "StringValue", "createSnippet", "InlineCompletionItem", "insertText", "filterText", "InlineCompletionList", "InlineCompletionTriggerKind", "SelectedCompletionInfo", "InlineCompletionContext", "selectedCompletionInfo", "WorkspaceFolder", "TextDocument", "content", "FullTextDocument", "applyEdits", "document", "sortedEdits", "mergeSort", "a", "b", "diff", "lastModifiedOffset", "i", "e", "startOffset", "endOffset", "compare", "p", "left", "right", "leftIdx", "rightIdx", "ret", "start", "end", "event", "lineOffsets", "isLineStart", "ch", "offset", "low", "high", "mid", "lineOffset", "nextLineOffset", "toString", "defined", "undefined", "boolean", "string", "number", "numberRange", "min", "max", "func", "objectLiteral", "typedArray", "check", "require_messages", "__commonJSMin", "exports", "vscode_jsonrpc_1", "MessageDirection", "RegistrationType", "method", "ProtocolRequestType0", "ProtocolRequestType", "ProtocolNotificationType0", "ProtocolNotificationType", "require_is", "__commonJSMin", "exports", "boolean", "value", "string", "number", "error", "func", "array", "stringArray", "elem", "typedArray", "check", "objectLiteral", "require_protocol_implementation", "__commonJSMin", "exports", "messages_1", "ImplementationRequest", "require_protocol_typeDefinition", "__commonJSMin", "exports", "messages_1", "TypeDefinitionRequest", "require_protocol_workspaceFolder", "__commonJSMin", "exports", "messages_1", "WorkspaceFoldersRequest", "DidChangeWorkspaceFoldersNotification", "require_protocol_configuration", "__commonJSMin", "exports", "messages_1", "ConfigurationRequest", "require_protocol_colorProvider", "__commonJSMin", "exports", "messages_1", "DocumentColorRequest", "ColorPresentationRequest", "require_protocol_foldingRange", "__commonJSMin", "exports", "messages_1", "FoldingRangeRequest", "FoldingRangeRefreshRequest", "require_protocol_declaration", "__commonJSMin", "exports", "messages_1", "DeclarationRequest", "require_protocol_selectionRange", "__commonJSMin", "exports", "messages_1", "SelectionRangeRequest", "require_protocol_progress", "__commonJSMin", "exports", "vscode_jsonrpc_1", "messages_1", "WorkDoneProgress", "is", "value", "WorkDoneProgressCreateRequest", "WorkDoneProgressCancelNotification", "require_protocol_callHierarchy", "__commonJSMin", "exports", "messages_1", "CallHierarchyPrepareRequest", "CallHierarchyIncomingCallsRequest", "CallHierarchyOutgoingCallsRequest", "require_protocol_semanticTokens", "__commonJSMin", "exports", "messages_1", "TokenFormat", "SemanticTokensRegistrationType", "SemanticTokensRequest", "SemanticTokensDeltaRequest", "SemanticTokensRangeRequest", "SemanticTokensRefreshRequest", "require_protocol_showDocument", "__commonJSMin", "exports", "messages_1", "ShowDocumentRequest", "require_protocol_linkedEditingRange", "__commonJSMin", "exports", "messages_1", "LinkedEditingRangeRequest", "require_protocol_fileOperations", "__commonJSMin", "exports", "messages_1", "FileOperationPatternKind", "WillCreateFilesRequest", "DidCreateFilesNotification", "WillRenameFilesRequest", "DidRenameFilesNotification", "DidDeleteFilesNotification", "WillDeleteFilesRequest", "require_protocol_moniker", "__commonJSMin", "exports", "messages_1", "UniquenessLevel", "MonikerKind", "MonikerRequest", "require_protocol_typeHierarchy", "__commonJSMin", "exports", "messages_1", "TypeHierarchyPrepareRequest", "TypeHierarchySupertypesRequest", "TypeHierarchySubtypesRequest", "require_protocol_inlineValue", "__commonJSMin", "exports", "messages_1", "InlineValueRequest", "InlineValueRefreshRequest", "require_protocol_inlayHint", "__commonJSMin", "exports", "messages_1", "InlayHintRequest", "InlayHintResolveRequest", "InlayHintRefreshRequest", "require_protocol_diagnostic", "__commonJSMin", "exports", "vscode_jsonrpc_1", "Is", "messages_1", "DiagnosticServerCancellationData", "is", "value", "candidate", "DocumentDiagnosticReportKind", "DocumentDiagnosticRequest", "WorkspaceDiagnosticRequest", "DiagnosticRefreshRequest", "require_protocol_notebook", "__commonJSMin", "exports", "vscode_languageserver_types_1", "Is", "messages_1", "NotebookCellKind", "is", "value", "ExecutionSummary", "create", "executionOrder", "success", "result", "candidate", "equals", "one", "other", "NotebookCell", "kind", "document", "diff", "two", "equalsMetadata", "oneArray", "otherArray", "i", "oneKeys", "otherKeys", "prop", "NotebookDocument", "uri", "notebookType", "version", "cells", "NotebookDocumentSyncRegistrationType", "DidOpenNotebookDocumentNotification", "NotebookCellArrayChange", "start", "deleteCount", "DidChangeNotebookDocumentNotification", "DidSaveNotebookDocumentNotification", "DidCloseNotebookDocumentNotification", "require_protocol_inlineCompletion", "__commonJSMin", "exports", "messages_1", "InlineCompletionRequest", "require_protocol", "__commonJSMin", "exports", "messages_1", "vscode_languageserver_types_1", "Is", "protocol_implementation_1", "protocol_typeDefinition_1", "protocol_workspaceFolder_1", "protocol_configuration_1", "protocol_colorProvider_1", "protocol_foldingRange_1", "protocol_declaration_1", "protocol_selectionRange_1", "protocol_progress_1", "protocol_callHierarchy_1", "protocol_semanticTokens_1", "protocol_showDocument_1", "protocol_linkedEditingRange_1", "protocol_fileOperations_1", "protocol_moniker_1", "protocol_typeHierarchy_1", "protocol_inlineValue_1", "protocol_inlayHint_1", "protocol_diagnostic_1", "protocol_notebook_1", "protocol_inlineCompletion_1", "TextDocumentFilter", "is", "value", "candidate", "NotebookDocumentFilter", "NotebookCellTextDocumentFilter", "DocumentSelector", "elem", "RegistrationRequest", "UnregistrationRequest", "ResourceOperationKind", "FailureHandlingKind", "PositionEncodingKind", "StaticRegistrationOptions", "hasId", "TextDocumentRegistrationOptions", "WorkDoneProgressOptions", "hasWorkDoneProgress", "InitializeRequest", "InitializeErrorCodes", "InitializedNotification", "ShutdownRequest", "ExitNotification", "DidChangeConfigurationNotification", "MessageType", "ShowMessageNotification", "ShowMessageRequest", "LogMessageNotification", "TelemetryEventNotification", "TextDocumentSyncKind", "DidOpenTextDocumentNotification", "TextDocumentContentChangeEvent", "isIncremental", "event", "isFull", "DidChangeTextDocumentNotification", "DidCloseTextDocumentNotification", "DidSaveTextDocumentNotification", "TextDocumentSaveReason", "WillSaveTextDocumentNotification", "WillSaveTextDocumentWaitUntilRequest", "DidChangeWatchedFilesNotification", "FileChangeType", "RelativePattern", "WatchKind", "PublishDiagnosticsNotification", "CompletionTriggerKind", "CompletionRequest", "CompletionResolveRequest", "HoverRequest", "SignatureHelpTriggerKind", "SignatureHelpRequest", "DefinitionRequest", "ReferencesRequest", "DocumentHighlightRequest", "DocumentSymbolRequest", "CodeActionRequest", "CodeActionResolveRequest", "WorkspaceSymbolRequest", "WorkspaceSymbolResolveRequest", "CodeLensRequest", "CodeLensResolveRequest", "CodeLensRefreshRequest", "DocumentLinkRequest", "DocumentLinkResolveRequest", "DocumentFormattingRequest", "DocumentRangeFormattingRequest", "DocumentRangesFormattingRequest", "DocumentOnTypeFormattingRequest", "PrepareSupportDefaultBehavior", "RenameRequest", "PrepareRenameRequest", "ExecuteCommandRequest", "ApplyWorkspaceEditRequest", "require_connection", "__commonJSMin", "exports", "vscode_jsonrpc_1", "createProtocolConnection", "input", "output", "logger", "options", "require_api", "__commonJSMin", "exports", "__createBinding", "o", "m", "k", "k2", "desc", "__exportStar", "p", "connection_1", "LSPErrorCodes", "require_main", "__commonJSMin", "exports", "__createBinding", "o", "m", "k", "k2", "desc", "__exportStar", "p", "node_1", "createProtocolConnection", "input", "output", "logger", "options", "require_uuid", "__commonJSMin", "exports", "ValueUUID", "_value", "other", "V4UUID", "_V4UUID", "array", "v4", "_UUIDPattern", "isUUID", "value", "parse", "generateUuid", "require_progress", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "uuid_1", "WorkDoneProgressReporterImpl", "_WorkDoneProgressReporterImpl", "_connection", "_token", "title", "percentage", "message", "cancellable", "param", "arg0", "arg1", "WorkDoneProgressServerReporterImpl", "connection", "token", "NullProgressReporter", "NullProgressServerReporter", "attachWorkDone", "params", "ProgressFeature", "Base", "capabilities", "progress", "ResultProgress", "ResultProgressReporterImpl", "data", "attachPartialResult", "require_configuration", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "Is", "ConfigurationFeature", "Base", "arg", "params", "result", "require_workspaceFolder", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "WorkspaceFoldersFeature", "Base", "capabilities", "workspaceCapabilities", "params", "changeNotifications", "require_callHierarchy", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "CallHierarchyFeature", "Base", "handler", "params", "cancel", "type", "require_semanticTokens", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "SemanticTokensFeature", "Base", "handler", "type", "params", "cancel", "SemanticTokensDiff", "originalSequence", "modifiedSequence", "originalLength", "modifiedLength", "startIndex", "originalEndIndex", "modifiedEndIndex", "deleteCount", "newData", "SemanticTokensBuilder", "line", "char", "length", "tokenType", "tokenModifiers", "pushLine", "pushChar", "id", "require_showDocument", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "ShowDocumentFeature", "Base", "params", "require_fileOperations", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "FileOperationsFeature", "Base", "handler", "params", "cancel", "require_linkedEditingRange", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "LinkedEditingRangeFeature", "Base", "handler", "params", "cancel", "require_typeHierarchy", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "TypeHierarchyFeature", "Base", "handler", "params", "cancel", "type", "require_inlineValue", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "InlineValueFeature", "Base", "handler", "params", "cancel", "require_foldingRange", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "FoldingRangeFeature", "Base", "handler", "type", "params", "cancel", "require_inlayHint", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "InlayHintFeature", "Base", "handler", "params", "cancel", "require_diagnostic", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "DiagnosticFeature", "Base", "handler", "params", "cancel", "require_textDocuments", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "TextDocuments", "configuration", "handler", "uri", "connection", "disposables", "event", "td", "document", "toFire", "changes", "version", "syncedDocument", "token", "disposable", "require_notebook", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "textDocuments_1", "NotebookSyncFeature", "Base", "handler", "params", "CellTextDocumentConnection", "_CellTextDocumentConnection", "NotebookDocuments", "configurationOrTextDocuments", "cell", "uri", "value", "key", "connection", "cellTextDocumentConnection", "disposables", "cellTextDocument", "notebookDocument", "oldMetadata", "metadataChanged", "change", "opened", "closed", "data", "text", "changedCells", "array", "open", "close", "cellUpdates", "i", "old", "changeEvent", "added", "removed", "textContent", "disposable", "require_moniker", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "MonikerFeature", "Base", "handler", "type", "params", "cancel", "require_server", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "Is", "UUID", "progress_1", "configuration_1", "workspaceFolder_1", "callHierarchy_1", "semanticTokens_1", "showDocument_1", "fileOperations_1", "linkedEditingRange_1", "typeHierarchy_1", "inlineValue_1", "foldingRange_1", "inlayHint_1", "diagnostic_1", "notebook_1", "moniker_1", "null2Undefined", "value", "ErrorMessageTracker", "message", "count", "connection", "RemoteConsoleImpl", "_capabilities", "type", "_RemoteWindowImpl", "actions", "params", "RemoteWindowImpl", "BulkRegistration", "create", "BulkRegistrationImpl", "registerOptions", "method", "id", "BulkUnregistration", "BulkUnregistrationImpl", "_connection", "unregistrations", "unregistration", "arg", "_error", "RemoteClientImpl", "typeOrRegistrations", "registerOptionsOrType", "_result", "registrations", "registration", "_RemoteWorkspaceImpl", "paramOrEdit", "isApplyWorkspaceEditParams", "RemoteWorkspaceImpl", "TracerImpl", "verbose", "TelemetryImpl", "data", "_LanguagesImpl", "_type", "LanguagesImpl", "_NotebooksImpl", "NotebooksImpl", "combineConsoleFeatures", "one", "two", "Base", "combineTelemetryFeatures", "combineTracerFeatures", "combineClientFeatures", "combineWindowFeatures", "combineWorkspaceFeatures", "combineLanguagesFeatures", "combineNotebooksFeatures", "combineFeatures", "combine", "func", "createConnection", "connectionFactory", "watchDog", "factories", "logger", "tracer", "telemetry", "client", "remoteWindow", "workspace", "languages", "notebooks", "allRemotes", "asPromise", "resolve", "reject", "resolved", "error", "shutdownHandler", "initializeHandler", "exitHandler", "protocolConnection", "handler", "param", "cancel", "remote", "result", "capabilities", "require_files", "__commonJSMin", "exports", "url", "path", "fs", "child_process_1", "uriToFilePath", "uri", "parsed", "segments", "i", "len", "first", "second", "isWindows", "resolve", "moduleName", "nodePath", "cwd", "tracer", "nodePathKey", "app", "reject", "env", "newEnv", "key", "cp", "error", "message", "resolveGlobalNodePath", "npmCommand", "options", "handler", "stdout", "prefix", "resolveGlobalYarnPath", "yarnCommand", "results", "lines", "line", "yarn", "FileSystem", "_isCaseSensitive", "isCaseSensitive", "isParent", "parent", "child", "resolveModulePath", "workspaceRoot", "value", "_error", "require_node", "__commonJSMin", "exports", "module", "require_inlineCompletion_proposed", "__commonJSMin", "exports", "vscode_languageserver_protocol_1", "InlineCompletionFeature", "Base", "handler", "params", "cancel", "require_api", "__commonJSMin", "exports", "__createBinding", "o", "m", "k", "k2", "desc", "__exportStar", "p", "semanticTokens_1", "ic", "textDocuments_1", "notebook_1", "ProposedFeatures", "require_main", "__commonJSMin", "exports", "__createBinding", "o", "m", "k", "k2", "desc", "__exportStar", "p", "node_util_1", "Is", "server_1", "fm", "node_1", "Files", "_protocolConnection", "endProtocolConnection", "_shutdownReceived", "exitTimer", "setupExitTimer", "argName", "runTimer", "value", "processId", "i", "arg", "args", "watchDog", "params", "code", "createConnection", "arg1", "arg2", "arg3", "arg4", "factories", "input", "output", "options", "_createConnection", "stdio", "port", "pipeName", "argv", "transport", "commandLineMessage", "inputStream", "connectionFactory", "logger", "result", "patchConsole", "serialize", "counters", "assertion", "message", "rest", "label", "counter", "stack", "require_node", "__commonJSMin", "exports", "module", "require_tmp", "__commonJSMin", "exports", "module", "fs", "os", "path", "crypto", "_c", "RANDOM_CHARS", "TEMPLATE_PATTERN", "DEFAULT_TRIES", "CREATE_FLAGS", "IS_WIN32", "EBADF", "ENOENT", "DIR_MODE", "FILE_MODE", "EXIT", "_removeObjects", "FN_RMDIR_SYNC", "_gracefulCleanup", "rimraf", "dirPath", "callback", "FN_RIMRAF_SYNC", "tmpName", "options", "args", "_parseArguments", "opts", "cb", "_assertAndSanitizeOptions", "err", "tries", "_getUniqueName", "name", "_generateTmpName", "tmpNameSync", "file", "fd", "possibleErr", "_prepareTmpFileRemoveCallback", "discardOrDetachDescriptor", "fileSync", "dir", "_prepareTmpDirRemoveCallback", "dirSync", "_removeFileAsync", "fdPath", "next", "_handler", "_isENOENT", "_removeFileSync", "rethrownException", "e", "_isEBADF", "sync", "removeCallbackSync", "_prepareRemoveCallback", "removeCallback", "removeFunction", "removeFunctionSync", "fileOrDirName", "cleanupCallbackSync", "called", "_cleanupCallback", "toRemove", "index", "_garbageCollector", "_randomChars", "howMany", "value", "rnd", "i", "_isBlank", "s", "_isUndefined", "obj", "actualOptions", "key", "tmpDir", "_getTmpDir", "_assertIsRelative", "_resolvePath", "option", "basename", "resolvedPath", "error", "_isExpectedError", "errno", "code", "setGracefulCleanup", "import_node", "import_vscode_languageserver_protocol", "import_node_util", "FullTextDocument", "_FullTextDocument", "uri", "languageId", "version", "content", "range", "start", "end", "changes", "change", "getWellformedRange", "startOffset", "endOffset", "startLine", "endLine", "lineOffsets", "addedLineOffsets", "computeLineOffsets", "i", "len", "diff", "offset", "low", "high", "mid", "line", "position", "lineOffset", "nextLineOffset", "isEOL", "event", "candidate", "TextDocument", "create", "update", "document", "applyEdits", "edits", "text", "sortedEdits", "mergeSort", "getWellformedEdit", "a", "b", "lastModifiedOffset", "spans", "e", "data", "compare", "p", "left", "right", "leftIdx", "rightIdx", "isAtLineStart", "textOffset", "result", "ch", "char", "textEdit", "assertPath", "path", "TypeError", "JSON", "stringify", "normalizeStringPosix", "allowAboveRoot", "code", "res", "lastSegmentLength", "lastSlash", "dots", "i", "length", "charCodeAt", "lastSlashIndex", "lastIndexOf", "slice", "posix", "resolve", "cwd", "resolvedPath", "resolvedAbsolute", "arguments", "process", "normalize", "isAbsolute", "trailingSeparator", "join", "joined", "arg", "relative", "from", "to", "fromStart", "fromEnd", "fromLen", "toStart", "toLen", "lastCommonSep", "fromCode", "out", "_makeLong", "dirname", "hasRoot", "end", "matchedSlash", "basename", "ext", "start", "extIdx", "firstNonSlashEnd", "extname", "startDot", "startPart", "preDotState", "format", "pathObject", "sep", "dir", "root", "base", "name", "parse", "ret", "delimiter", "win32", "module", "exports", "__webpack_module_cache__", "__webpack_require__", "moduleId", "cachedModule", "__webpack_modules__", "d", "definition", "key", "o", "Object", "defineProperty", "enumerable", "get", "obj", "prop", "prototype", "hasOwnProperty", "call", "r", "Symbol", "toStringTag", "value", "n", "isWindows", "f", "P", "platform", "navigator", "userAgent", "indexOf", "_schemePattern", "_singleSlashStart", "_doubleSlashStart", "_validateUri", "_strict", "scheme", "Error", "authority", "query", "fragment", "test", "_empty", "_slash", "_regexp", "URI", "thing", "fsPath", "with", "toString", "schemeOrData", "this", "uriToFsPath", "change", "Uri", "match", "exec", "percentDecode", "replace", "idx", "substring", "components", "result", "skipEncoding", "_asFormatted", "toJSON", "data", "_formatted", "external", "_fsPath", "_sep", "_pathSepMarker", "$mid", "encodeTable", "encodeURIComponentFast", "uriComponent", "isPath", "isAuthority", "nativeEncodePos", "pos", "encodeURIComponent", "charAt", "substr", "escaped", "encodeURIComponentMinimal", "uri", "keepDriveLetterCasing", "toLowerCase", "encoder", "userinfo", "String", "fromCharCode", "decodeURIComponentGraceful", "str", "decodeURIComponent", "_rEncodedAsHex", "A", "posixPath", "slash", "Utils", "t", "joinPath", "paths", "resolvePath", "slashAdded", "LIB", "fs", "tmp", "path", "util", "child_process", "exec", "tmpFile", "connection", "documents", "TextDocument", "hasConfigurationCapability", "hasWorkspaceFolderCapability", "hasDiagnosticRelatedInformationCapability", "includeFlagForPath", "file_path", "parsed", "URI", "params", "capabilities", "result", "labelid", "createLabel", "name", "durationLogWrapper", "fn", "label", "resolve", "_event", "defaultSettings", "globalSettings", "documentSettings", "change", "validateTextDocument", "getDocumentSettings", "resource", "debounce", "func", "wait", "immediate", "timeout", "args", "context", "later", "callNow", "throttledValidateTextDocument", "textDocument", "settings", "text", "lineBreaks", "findLineBreaks", "stdout", "runCompiler", "diagnostics", "seenTypeHintPositions", "lines", "l", "line", "obj", "severity", "position_start", "convertSpan", "position_end", "diagnostic", "position", "hint_string", "hint", "e", "_change", "lowerBoundBinarySearch", "arr", "num", "low", "mid", "high", "utf8_offset", "lineBreakIndex", "start_of_line_offset", "character", "convertPosition", "buffer", "i", "flags", "uri", "options", "allowErrors", "script_path_flag", "max_errors", "request", "document", "contents", "index", "output", "completion", "goToDefinition", "item", "nushellOutput", "documentText", "b", "utf16_text", "utf8_text"]
}
